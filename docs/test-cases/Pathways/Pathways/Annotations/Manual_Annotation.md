#Manual annotations

Test verifies
- applying manual colorization to Pathway's map nodes (custom and collage)

**Prerequisites**:
1. Go to NGB
2. Close **PATHWAYS** panel if it is opened


| Steps | Actions                                                                                                                                               | Expected results                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------|-------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1     | Login to NGB                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2     | Open **PATHWAYS** panel from **VIEWS** menu                                                                                                           | **PATHWAYS** panel is displayed first at the right side in the additional panels and consists of the following elements: <li>  **Search keyword**(mandatory) - empty field <li> **SEARCH** button - disabled by default <li>"**Type keyword to start search.**" phrase displays in the panel                                                                                                                                                                                                                                                                                                                                         |
| 3     | Enter **BRCA1** into **Search keyword** field                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 4     | Click **SEARCH** button                                                                                                                               | A table with corresponding search results are displayed in the PATHWAYS panel:<br/> - **Map** (*hyperlink, sortable*) - map name <br/> - **Description** - map description <br/> - **Source** - map source  <br><br> Search results are displayed in the table: <br> <table><tr><th>Map</th><th>Description</th><th>Source</th><tr><td>BRCA1</td><td>BRCA1 test</td><td>Custom</td></tr></table>                                                                                                                                                                                                                                     |
| 5     | Click on the **BRCA1** hyperlink in the **Map** column                                                                                                | The new form with map details is opened in the same window instead previous list and contains from: <br><br><li> **<** (**Return**) - button to return to the previous table (with all found maps) displays at the top of sub-tab <li> **Map name label** (*BRCA1*)  - displays to the right of **Return** button  <li> **i** (**Info**) - label near the map name (by navigate this button a tooltip appears with the full map description)  <li>*Additional capabilities section* displays below map label:<br> - **Search** field (*empty by default*)<br>  - **Loupe** button <br> - **Annotation** button</ul> <li>*Map* image  |                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 6     | Click **Annotation** button                                                                                                                           | **Add annotation** modal window is opened with following values inside: <li> **Annotation name** - text input field for specifying annotation name (optional) <li> **Select heatmap file** checkbox - *to load heatmap file registered in NGB*  <li> **Select VCF file checkbox** - *to load variation file registered in NGB (disabled by default)*<li> **Upload TSV/CSV** checkbox - *to load annotation file from the local workstation (in TSV/CSV format)* <li> **Manual colors config** checkbox - *for specifying annotation in plain text format* <br><br> <li>**Apply** button - disabled by default <li> **Cancel** button |                                                                                                   | 
| 7     | Set checkbox in **Manual colors config** field                                                                                                        | <li> New empty text input field is displayed below checkbox <li> **Annotation name** field is empty <li> **Apply** button is disabled                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 8     | Enter following values into text input field: *<br/> Laclp green yellow<br/> Laclm #45abff #b22222 <br/> Clp red #45abff*                             | <li> Values and colors are entered <li> **Apply** button is enabled                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 9     | Click **Apply** button                                                                                                                                | <li>**Add annotation** modal window is closed <li> Saved annotation is appeared in the new **Annotations** pop-up window <li> Annotation name displays as hyperlink *(If it was not specified - it should be set automatically, e.g. annotation_<index_number>)* <li> Checkbox displays near the annotation name - *to enable (apply) it or disable* <li> The checkbox is set automatically <li> Remove button displays near the annotation name - *to remove the annotation from the list*                                                                                                                                          |
| 10    | Look at the map                                                                                                                                       | All nodes according to the annotation is colorized to the specified colors: <br> <table><tr><th>Node name</th><th>Node color</th><th>Text/Border</th><tr><td>Laclp</td><td>green</td><td>yellow</td></tr><tr><td>Laclm</td><td>blue</td><td>red</td><tr><td>Clp</td><td>red</td><td>blue</td></table> <li> All other nodes are not colored                                                                                                                                                                                                                                                                                           |
| 11    | Repeat 2-10 steps for **Pwycollage human** pathway with following values: *<br/> F6P green yellow<br/> DHAP #45abff #b22222 <br/> 13-DPG red #45abff* | All nodes according to the annotation is colorized to the specified colors: <br> <table><tr><th>Node name</th><th>Node color</th><th>Text/Border</th><tr><td>F6P</td><td>green</td><td>yellow</td></tr><tr><td>DHAP</td><td>blue</td><td>red</td><tr><td>13-DPG</td><td>red</td><td>blue</td></table> <li> All other nodes are not colored                                                                                                                                                                                                                                                                                           |
