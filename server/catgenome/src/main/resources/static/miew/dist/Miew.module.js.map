{"version":3,"file":"Miew.module.js","sources":["../../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../../node_modules/@babel/runtime/helpers/slicedToArray.js","../../../../node_modules/spin.js/spin.js","../../../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../../../node_modules/@babel/runtime/helpers/createClass.js","../../src/Timer.js","../../src/gfx/Stats.js","../../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/inherits.js","../../../../node_modules/@babel/runtime/helpers/typeof.js","../../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../../node_modules/@babel/runtime/helpers/isNativeFunction.js","../../../../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../../../../node_modules/@babel/runtime/helpers/construct.js","../../../../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../../src/utils/EventDispatcher.js","../../src/utils/logger.js","../../src/utils.js","../../src/utils/JobHandle.js","../../src/settings.js","../../src/options.js","../../../../node_modules/@babel/runtime/helpers/defineProperty.js","../../src/chem/Atom.js","../../src/chem/Element.js","../../src/chem/Bond.js","../../src/chem/Residue.js","../../src/chem/ResidueType.js","../../src/chem/Chain.js","../../src/chem/StructuralElement.js","../../src/chem/Helix.js","../../../../node_modules/@babel/runtime/helpers/superPropBase.js","../../../../node_modules/@babel/runtime/helpers/get.js","../../src/chem/Strand.js","../../src/chem/Sheet.js","../../src/chem/SGroup.js","../../src/utils/SelectionParser.js","../../src/chem/selectors/selectArgs.js","../../src/chem/selectors/selectorsBase.js","../../src/chem/selectors/selectOps.js","../../src/chem/selectors.js","../../src/chem/BiologicalUnit.js","../../src/chem/Assembly.js","../../src/chem/Component.js","../../src/chem/AtomPairs.js","../../src/chem/AutoBond.js","../../src/chem/AromaticLoopsMarker.js","../../src/chem/VoxelWorld.js","../../src/chem/HBondInfo.js","../../src/chem/SecondaryStructureMap.js","../../src/chem/Complex.js","../../src/chem/Volume.js","../../src/chem/Molecule.js","../../src/chem.js","../../src/gfx/CSS2DObject.js","../../src/gfx/RCGroup.js","../../src/gfx/gfxutils.js","../../src/Visual.js","../../../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../src/utils/EntityList.js","../../src/utils/makeContextDependent.js","../../src/gfx/geometries/SphereCollisionGeo.js","../../src/gfx/geometries/InstancedSpheresGeometry.js","../../src/gfx/geometries/RaycastableBufferGeometry.js","../../src/gfx/geometries/ChunkedObjectsGeometry.js","../../src/gfx/geometries/SimpleSpheresGeometry.js","../../src/gfx/geometries/Simple2CCylindersGeometry.js","../../src/gfx/geometries/CylinderBufferGeometry.js","../../src/gfx/geometries/Instanced2CCylindersGeometry.js","../../src/gfx/geometries/ExtrudedObjectsGeometry.js","../../src/gfx/geometries/ThickLinesGeometry.js","../../src/gfx/geometries/LinesGeometry.js","../../src/gfx/geometries/CylinderCollisionGeo.js","../../src/gfx/geometries/ChunkedLinesGeometry.js","../../src/gfx/geometries/TwoColorLinesGeometry.js","../../src/gfx/geometries/CrossGeometry.js","../../src/gfx/geometries/IsoSurfaceGeometry.js","../../src/gfx/geometries/IsoSurfaceMarchCube.js","../../src/gfx/geometries/IsoSurface.js","../../src/gfx/geometries/VolumeSurfaceGeometry.js","../../src/gfx/geometries/QuickSurfGeometry.js","../../src/gfx/geometries/ContactSurface.js","../../src/gfx/geometries/ContactSurfaceGeometry.js","../../src/gfx/geometries/IsoSurfaceAtomColored.js","../../src/gfx/geometries/IsosurfaceBuildNormals.js","../../src/gfx/geometries/IsoSurfaceGeo.js","../../src/gfx/geometries/SSIsosurfaceGeometry.js","../../src/gfx/geometries/LabelsGeometry.js","../../src/gfx/geometries/geometries.js","../../src/gfx/capabilities.js","../../src/gfx/noiseTexture.js","../../src/gfx/shaders/UberMaterial.js","../../src/gfx/meshes/UberObject.js","../../src/gfx/meshes/ZSpriteMesh.js","../../src/gfx/meshes/ZClippedMesh.js","../../src/gfx/meshes/TextMesh.js","../../src/gfx/meshes/SimpleMesh.js","../../src/gfx/meshes/ThickLineMesh.js","../../src/gfx/meshes/InstancedMesh.js","../../src/gfx/meshes/meshes.js","../../src/gfx/meshes/MeshCreator.js","../../src/gfx/meshes/TransformGroup.js","../../src/gfx/modes/groups/ChemGroup.js","../../src/gfx/modes/groups/AtomsGroup.js","../../src/gfx/modes/groups/AtomsSphereGroup.js","../../src/gfx/modes/groups/AtomsSurfaceGroup.js","../../src/gfx/modes/groups/AtomsSASSESGroupStub.js","../../src/gfx/modes/groups/AtomsTextGroup.js","../../src/gfx/modes/groups/AromaticGroup.js","../../src/gfx/modes/groups/AromaticTorusGroup.js","../../src/gfx/modes/groups/AromaticLinesGroup.js","../../src/gfx/modes/groups/ResiduesGroup.js","../../src/gfx/modes/groups/NucleicItemGroup.js","../../src/gfx/modes/groups/NucleicCylindersGroup.js","../../src/gfx/modes/groups/NucleicSpheresGroup.js","../../vendor/js/Smooth.js","../../src/gfx/modes/groups/CartoonHelper.js","../../src/gfx/modes/groups/ResiduesSubseqGroup.js","../../src/gfx/modes/groups/ResiduesTraceGroup.js","../../src/gfx/modes/groups/BondsGroup.js","../../src/gfx/modes/groups/BondsCylinderGroup.js","../../src/gfx/modes/groups/BondsLinesGroup.js","../../src/gfx/modes/groups/groups.js","../../src/gfx/modes/processors/AtomsProcessor.js","../../src/gfx/modes/processors/OrphanAtomsProcessor.js","../../src/gfx/modes/processors/ResiduesProcessor.js","../../src/gfx/modes/processors/NucleicProcessor.js","../../src/gfx/modes/processors/SubseqsProcessor.js","../../src/gfx/modes/processors/BondsProcessor.js","../../src/gfx/modes/processors/AromaticProcessor.js","../../src/gfx/modes/processors/processors.js","../../src/gfx/modes/groups/GroupsFactory.js","../../src/gfx/modes/Mode.js","../../src/gfx/modes/LinesMode.js","../../src/gfx/modes/LicoriceMode.js","../../src/gfx/modes/BallsAndSticksMode.js","../../src/gfx/modes/VanDerWaalsMode.js","../../src/gfx/modes/TraceMode.js","../../src/gfx/modes/TubeMode.js","../../src/gfx/modes/CartoonMode.js","../../src/gfx/modes/SurfaceMode.js","../../src/gfx/modes/QuickSurfaceMode.js","../../src/gfx/modes/IsoSurfaceMode.js","../../src/gfx/modes/IsoSurfaceSASMode.js","../../src/gfx/modes/IsoSurfaceSESMode.js","../../src/gfx/modes/ContactSurfaceMode.js","../../src/gfx/modes/TextMode.js","../../src/gfx/modes.js","../../src/gfx/palettes/Palette.js","../../src/gfx/palettes/cpkPalette.js","../../src/gfx/palettes/jmolPalette.js","../../src/gfx/palettes/vmdPalette.js","../../src/gfx/palettes.js","../../src/gfx/colorers/Colorer.js","../../src/gfx/colorers/ElementColorer.js","../../src/gfx/colorers/ResidueTypeColorer.js","../../src/gfx/colorers/SequenceColorer.js","../../src/gfx/colorers/ChainColorer.js","../../src/gfx/colorers/SecondaryStructureColorer.js","../../src/gfx/colorers/UniformColorer.js","../../src/gfx/colorers/ConditionalColorer.js","../../src/gfx/colorers/ConformationColorer.js","../../src/gfx/colorers/TemperatureColorer.js","../../src/gfx/colorers/OccupancyColorer.js","../../src/gfx/colorers/HydrophobicityColorer.js","../../src/gfx/colorers/MoleculeColorer.js","../../src/gfx/colorers/CarbonColorer.js","../../src/gfx/colorers.js","../../src/gfx/materials.js","../../src/gfx/meshutils.js","../../src/gfx/Representation.js","../../src/ComplexVisualEdit.js","../../src/ComplexVisual.js","../../src/gfx/shaders/VolumeMaterial.js","../../src/gfx/VolumeMesh.js","../../src/gfx/VolumeBounds.js","../../src/gfx/VolumeFarPlane.js","../../src/VolumeVisual.js","../../src/io/loaders/LoaderList.js","../../src/io/loaders/Loader.js","../../src/io/loaders/FileLoader.js","../../src/io/loaders/XHRLoader.js","../../src/io/loaders/ImmediateLoader.js","../../src/io/loaders.js","../../src/io/parsers/ParserList.js","../../src/io/parsers/Parser.js","../../src/io/parsers/pdb/Remark290.js","../../src/io/parsers/pdb/Remark350.js","../../src/io/parsers/PDBStream.js","../../src/io/parsers/PDBParser.js","../../src/io/parsers/CMLParser.js","../../vendor/js/mmtf.js","../../src/io/parsers/MMTFParser.js","../../src/io/parsers/ParsingError.js","../../src/io/parsers/readCIF.js","../../src/io/parsers/CIFParser.js","../../src/io/parsers/VolumeModel.js","../../src/io/parsers/CCP4Parser.js","../../src/io/parsers/XYZParser.js","../../src/io/parsers/PubChemParser.js","../../src/io/parsers/SDFStream.js","../../src/io/parsers/SDFParser.js","../../src/io/parsers/DSN6Parser.js","../../src/io/parsers/GROReader.js","../../src/io/parsers/GROParser.js","../../src/io/parsers/MOL2Parser.js","../../src/io/parsers.js","../../src/io/exporters/ExporterList.js","../../src/io/exporters/Exporter.js","../../src/io/exporters/PDBResult.js","../../src/io/exporters/PDBExporter.js","../../src/io/exporters/fbx/FBXModel.js","../../src/io/exporters/fbx/FBXGeometry.js","../../src/io/exporters/fbx/FBX1CGeometry.js","../../src/io/exporters/fbx/FBX2CCylinder.js","../../src/io/exporters/fbx/FBXInfoExtractor.js","../../src/io/exporters/fbx/FBXResult.js","../../src/io/exporters/FBXExporter.js","../../src/io/exporters.js","../../src/io/io.js","../../src/gfx/CSS2DRenderer.js","../../src/ui/ObjectControls.js","../../src/ui/Picker.js","../../src/gfx/Axes.js","../../src/gfx/FrameInfo.js","../../src/gfx/objects/SceneObject.js","../../src/gfx/objects/LinesObj.js","../../src/gfx/shaders/OutlineMaterial.js","../../src/gfx/shaders/FXAAMaterial.js","../../src/gfx/shaders/AOMaterial.js","../../src/gfx/shaders/AOHorBlurMaterial.js","../../src/gfx/shaders/AOVertBlurWithBlendMaterial.js","../../src/gfx/shaders/AnaglyphMaterial.js","../../src/gfx/ViewInterpolator.js","../../src/utils/Cookies.js","../../src/gfx/vr/createWebVRButton.js","../../src/gfx/vr/WebVRPoC.js","../../src/Miew.js","../../src/utils/MiewCLIParser.js","../../src/utils/MiewCLIHelp.js","../../src/Miew-cli.js"],"sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","//----------------------------------------------------------------------------\n// Timer\n\nexport default class Timer {\n  constructor() {\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n    this.running = false;\n  }\n\n  start() {\n    this.startTime = Timer.now();\n    this.oldTime = this.startTime;\n    this.running = true;\n  }\n\n  stop() {\n    this.getElapsedTime();\n    this.running = false;\n  }\n\n  getElapsedTime() {\n    this.update();\n    return this.elapsedTime;\n  }\n\n  update() {\n    let delta = 0;\n    if (this.running) {\n      const newTime = Timer.now();\n      delta = 0.001 * (newTime - this.oldTime);\n      this.oldTime = newTime;\n      this.elapsedTime += delta;\n    }\n\n    return delta;\n  }\n}\n\nTimer.now = (function () {\n  const p = typeof window !== 'undefined' && window.performance;\n  return (p && p.now) ? p.now.bind(p) : Date.now;\n}());\n","import Timer from '../Timer';\n\nconst { now } = Timer;\n\nfunction createElement(tag, id, css) {\n  const element = document.createElement(tag);\n  element.id = id;\n  element.style.cssText = css;\n  return element;\n}\n\nclass Stats {\n  constructor() {\n    this.domElement = createElement('div', 'stats', 'padding:8px');\n    this._text = createElement('p', 'fps', 'margin:0;color:silver;font-size:large');\n    this.domElement.appendChild(this._text);\n\n    this._startTime = now();\n    this._prevTime = this._startTime;\n\n    this._deltas = new Array(20);\n    this._index = 0;\n    this._total = 0.0;\n    this._count = 0;\n  }\n\n  end() {\n    const time = now();\n    const delta = time - this._startTime;\n\n    if (this._count < this._deltas.length) {\n      this._count++;\n    } else {\n      this._total -= this._deltas[this._index];\n    }\n    this._total += delta;\n    this._deltas[this._index] = delta;\n    this._index = (this._index + 1) % this._deltas.length;\n\n    this.ms = this._total / this._count;\n    this.fps = 1000 / this.ms;\n\n    if (time > this._prevTime + 1000) {\n      this._text.textContent = this.fps.toPrecision(2);\n      this._prevTime = time;\n    }\n\n    return time;\n  }\n\n  update() {\n    this._startTime = this.end();\n  }\n\n  show(on) {\n    if (on === undefined) {\n      on = true;\n    }\n    this.domElement.style.display = on ? 'block' : 'none';\n  }\n}\n\nexport default Stats;\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","/**\n * This class introduces the simplest event system.\n */\n\nimport _ from 'lodash';\n\nfunction isUndefOrEqual(param, value) {\n  return !param || param === value;\n}\n\n/**\n * Creates empty dispatcher.\n *\n * @exports EventDispatcher\n * @constructor\n */\nfunction EventDispatcher() {\n  this._handlers = {};\n}\n\n/**\n * Binds callback on specific event type. Optional `context` parameter\n * could be used as 'this' for the `callback`.\n * @param {string}   type       Event name.\n * @param {function} callback   Callback function.\n * @param {Object}   [context] 'This' object for the callback.\n */\nEventDispatcher.prototype.addEventListener = function (type, callback, context) {\n  let handlers = this._handlers[type];\n\n  if (!handlers) {\n    this._handlers[type] = [];\n    handlers = this._handlers[type];\n  }\n\n  const params = [callback, context];\n  function _checkPar(par) {\n    return par[0] === params[0] && par[1] === params[1];\n  }\n\n  if (_.find(handlers, _checkPar) === undefined) {\n    handlers.push(params);\n  }\n};\n\n/**\n * Removes a previously-bound callback function from an object.\n * If no `context` is specified, all versions of the `callback` with different\n * contexts will be removed.\n * If no `callback` is specified, all callbacks of the `type` will be removed.\n * If no `type` is specified, callbacks for all events will be removed.\n * @param {?string}  [type]      Event type.\n * @param {function} [callback]  Callback function.\n * @param {Object}   [context]  'This' object for the callback.\n */\nEventDispatcher.prototype.removeEventListener = function (type, callback, context) {\n  const self = this;\n  _.forEach(self._handlers, (handler, ev) => {\n    _.remove(handler, (values) => isUndefOrEqual(type, ev)\n          && isUndefOrEqual(callback, values[0])\n          && isUndefOrEqual(context, values[1] || self));\n  });\n\n  this._handlers = _.omitBy(self._handlers, (handler) => handler.length === 0);\n};\n\n/**\n * Makes all the callbacks for the specific `event` to trigger.\n * @param {Object} event      Event.\n * @param {string} event.type Type of the event.\n */\nEventDispatcher.prototype.dispatchEvent = function (event) {\n  const self = this;\n\n  _.forEach(this._handlers[event.type], (callback) => {\n    const context = callback[1] || self;\n    callback[0].apply(context, [event]);\n  });\n};\n\nexport default EventDispatcher;\n","/**\n * This module contains class for logging.\n * Returns an instance of a logger that have already been created.\n * Allows users to log messages for five different levels,\n * enable console output and catch signal on each message.\n */\nimport _ from 'lodash';\nimport EventDispatcher from './EventDispatcher';\n\nconst priorities = {\n  debug: 0,\n  info: 1,\n  report: 2,\n  warn: 3,\n  error: 4,\n};\n\n/**\n * Create new Logger.\n *\n * @exports Logger\n * @extends EventDispatcher\n * @constructor\n */\nfunction Logger() {\n  EventDispatcher.call(this);\n  /** Boolean flag that toggles output to browser console.\n   * @type {boolean}\n   */\n  this.console = false;\n  this._priority = priorities.warn;\n}\n\nLogger.prototype = Object.create(EventDispatcher.prototype);\nLogger.prototype.constructor = Logger;\n\n/**\n * Create new clean instance of the logger.\n * @returns {Logger}\n */\nLogger.prototype.instantiate = function () {\n  return new Logger();\n};\n\nfunction verify(number) {\n  if (!_.isNumber(number)) {\n    throw new Error('Wrong log level specified!');\n  }\n  return number;\n}\n\n/**\n * @property {string} current threshold for signals and console output.\n * @name Logger#level\n */\nObject.defineProperty(Logger.prototype, 'level', {\n  get() {\n    return _.findKey(priorities, (value) => value === this._priority);\n  },\n  set(level) {\n    this._priority = verify(priorities[level]);\n  },\n});\n\n/**\n * Returns the list of all possible level values.\n * @returns {Array}\n */\nLogger.prototype.levels = function () {\n  return Object.keys(priorities);\n};\n\n/**\n * Add new message with specified level.\n * @param {string} level - level of the message, must be one of the\n * {'debug' | 'info' | 'report' | 'warn' | 'error'}\n * @param {string} message\n */\nLogger.prototype.message = function (level, message) {\n  const priority = verify(priorities[level]);\n  this._message(priority, message);\n};\n\n/**\n * Shortcut for message('debug', ...);\n * @param message\n */\nLogger.prototype.debug = function (message) {\n  this._message(priorities.debug, message);\n};\n\n/**\n * Shortcut for message('info', ...);\n * @param message\n */\nLogger.prototype.info = function (message) {\n  this._message(priorities.info, message);\n};\n\n/**\n * Shortcut for message('report', ...);\n * @param message\n */\nLogger.prototype.report = function (message) {\n  this._message(priorities.report, message);\n};\n\n/**\n * Shortcut for message('warn', ...);\n * @param message\n */\nLogger.prototype.warn = function (message) {\n  this._message(priorities.warn, message);\n};\n\n/**\n * Shortcut for message('error', ...);\n * @param message\n */\nLogger.prototype.error = function (message) {\n  this._message(priorities.error, message);\n};\n\n/**\n * Add new message with specified priority.\n * @param {number} priority - priority of the message\n * @param {string} message\n * @private\n */\nLogger.prototype._message = function (priority, message) {\n  if (priority < this._priority) {\n    return;\n  }\n  const level = _.findKey(priorities, (value) => value === priority);\n  message = String(message);\n  if (this.console) {\n    const output = `miew:${level}: ${message}`;\n    if (level === 'error') {\n      console.error(output); // NOSONAR\n    } else if (level === 'warn') {\n      console.warn(output); // NOSONAR\n    } else {\n      console.log(output); // NOSONAR\n    }\n  }\n  this.dispatchEvent({ type: 'message', level, message });\n};\n\nexport default new Logger();\n","import _ from 'lodash';\nimport logger from './utils/logger';\n\nconst browserType = {\n  DEFAULT: 0,\n  SAFARI: 1,\n};\n//----------------------------------------------------------------------------\n// Query string\n\n/**\n * Escape only dangerous chars in a query string component, use a plus instead of a space.\n *\n * [RFC 3986](https://tools.ietf.org/html/rfc3986) allows the following chars in the query (see 3.4):\n *\n *       A-Z a-z 0-9 - _ . ~ ! $ & ' ( ) * + , ; = : @ / ?\n *\n * For query string elements we need to escape ampersand, equal sign, and plus,\n * but encodeURIComponent() function encodes anything except for the following:\n *\n *       A-Z a-z 0-9 - _ . ~ ! ' ( ) *\n *\n * @param {string} text - key or value to encode\n * @param {string} excludeExp - regexp for symbols to exclude from encoding\n * @returns {string} encoded string\n */\nfunction encodeQueryComponent(text, excludeExp) {\n  const encode = (code) => String.fromCharCode(parseInt(code.substr(1), 16));\n  return encodeURIComponent(text).replace(excludeExp, encode).replace(/%20/g, '+');\n}\n\n/**\n * Unescape dangerous chars in a query string component.\n *\n * @param {string} text - encoded key or value\n * @returns {string} decoded string\n * @see {@link encodeQueryComponent}\n */\nfunction decodeQueryComponent(text) {\n  return decodeURIComponent(text.replace(/\\+/g, ' '));\n}\n\n/**\n * Parse URL and extract an array of parameters.\n * @param {string?} url - URL or query string to parse\n * @returns {Array} array of (key, value) pairs.\n */\nfunction getUrlParameters(url) {\n  url = url || window.location.search;\n\n  const query = url.substring(url.indexOf('?') + 1);\n  const search = /([^&=]+)=?([^&]*)/g;\n  const result = [];\n  let match;\n\n  while ((match = search.exec(query)) !== null) { // eslint-disable-line no-cond-assign\n    result.push([decodeQueryComponent(match[1]), decodeQueryComponent(match[2])]);\n  }\n\n  return result;\n}\n\n/**\n * Parse URL and extract an array of parameters as a hash.\n * @param {string?} url - URL or query string to parse\n * @returns {Object}\n */\nfunction getUrlParametersAsDict(url) {\n  const result = {};\n  const a = getUrlParameters(url);\n  for (let i = 0; i < a.length; ++i) {\n    const [key, value] = a[i];\n    result[key] = value;\n  }\n  return result;\n}\n\nfunction resolveURL(str) {\n  if (typeof URL !== 'undefined') {\n    try {\n      if (typeof window !== 'undefined') {\n        return new URL(str, window.location).href;\n      }\n      return new URL(str).href;\n    } catch (error) {\n      // IE 11 has a URL object with no constructor available so just try a different approach instead\n    }\n  }\n  if (typeof document !== 'undefined') {\n    const anchor = document.createElement('a');\n    anchor.href = str;\n    return anchor.href;\n  }\n  return str;\n}\n\n/**\n * Generates regular expression object that includes all symbols\n * listed in the argument\n * @param symbolStr {string} - String containing characters list.\n * @returns {RegExp} - Regular expression.\n */\nfunction generateRegExp(symbolStr) {\n  const symbolList = [];\n\n  for (let i = 0, n = symbolStr.length; i < n; ++i) {\n    symbolList[symbolList.length] = symbolStr[i].charCodeAt(0).toString(16);\n  }\n\n  const listStr = symbolList.join('|');\n\n  return new RegExp(`%(?:${listStr})`, 'gi');\n}\n\n//----------------------------------------------------------------------------\n// Create HTML element\n\nfunction createElement(tag, attrs, content) {\n  const element = document.createElement(tag);\n  let i;\n  let n;\n  if (attrs) {\n    const keys = Object.keys(attrs);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      const key = keys[i];\n      element.setAttribute(key, attrs[key]);\n    }\n  }\n  if (content) {\n    if (!(content instanceof Array)) {\n      content = [content];\n    }\n    for (i = 0, n = content.length; i < n; ++i) {\n      const child = content[i];\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child instanceof HTMLElement) {\n        element.appendChild(child);\n      }\n    }\n  }\n  return element;\n}\n\n//----------------------------------------------------------------------------\n// Easy inheritance\n\n/**\n * Derive the class from the base.\n * @param cls {function} - Class (constructor) to derive.\n * @param base {function} - Class (constructor) to derive from.\n * @param members {object=} - Optional instance members to add.\n * @param statics {object=} - Optional static class members to add.\n * @returns {function} Original class.\n */\nfunction deriveClass(cls, base, members, statics) {\n  cls.prototype = _.assign(Object.create(base.prototype), { constructor: cls }, members);\n  if (statics) {\n    _.assign(cls, statics);\n  }\n  return cls;\n}\n\n//----------------------------------------------------------------------------\n// Deep prototyping\n\nfunction deriveDeep(obj, needZeroOwnProperties) {\n  let res = obj;\n  let i;\n  let n;\n  if (obj instanceof Array) {\n    res = new Array(obj.length);\n    for (i = 0, n = obj.length; i < n; ++i) {\n      res[i] = deriveDeep(obj[i]);\n    }\n  } else if (obj instanceof Object) {\n    res = Object.create(obj);\n    const keys = Object.keys(obj);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      const key = keys[i];\n      const value = obj[key];\n      const copy = deriveDeep(value);\n      if (copy !== value) {\n        res[key] = copy;\n      }\n    }\n    if (needZeroOwnProperties && Object.keys(res).length > 0) {\n      res = Object.create(res);\n    }\n  }\n  return res;\n}\n\n//----------------------------------------------------------------------------\n// Colors\n\nfunction hexColor(color) {\n  const hex = (`0000000${color.toString(16)}`).substr(-6);\n  return `#${hex}`;\n}\n\n//----------------------------------------------------------------------------\n// Debug tracing\n\nfunction DebugTracer(namespace) {\n  let enabled = false;\n\n  this.enable = function (on) {\n    enabled = on;\n  };\n\n  let indent = 0;\n  const methods = Object.keys(namespace);\n\n  function wrap(method_, name_) {\n    return function (...args) {\n      const spaces = DebugTracer.spaces.substr(0, indent * 2);\n      if (enabled) {\n        logger.debug(`${spaces + name_} {`);\n      }\n      indent++;\n      const result = method_.apply(this, args); // eslint-disable-line no-invalid-this\n      indent--;\n      if (enabled) {\n        logger.debug(`${spaces}} // ${name_}`);\n      }\n      return result;\n    };\n  }\n\n  for (let i = 0, n = methods.length; i < n; ++i) {\n    const name = methods[i];\n    const method = namespace[name];\n    if (method instanceof Function && name !== 'constructor') {\n      namespace[name] = wrap(method, name);\n    }\n  }\n}\n\nDebugTracer.spaces = '                                                                                          ';\n\nclass OutOfMemoryError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'OutOfMemoryError';\n    this.message = message;\n  }\n}\n\nfunction allocateTyped(TypedArrayName, size) {\n  let result = null;\n  try {\n    result = new TypedArrayName(size);\n  } catch (e) {\n    if (e instanceof RangeError) {\n      throw new OutOfMemoryError(e.message);\n    } else {\n      throw e;\n    }\n  }\n  return result;\n}\n\n//----------------------------------------------------------------------------\n// Float array conversion\n\nfunction bytesToBase64(/** ArrayBuffer */ buffer) {\n  const bytes = new Uint8Array(buffer);\n  let binary = '';\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return window.btoa(binary);\n}\n\nfunction bytesFromBase64(/** string */ str) {\n  const binary = window.atob(str);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < bytes.length; ++i) {\n    bytes[i] = binary[i].charCodeAt(0);\n  }\n  return bytes.buffer;\n}\n\nfunction arrayToBase64(/** number[] */ array, /** function */ TypedArrayClass) {\n  return bytesToBase64(new TypedArrayClass(array).buffer);\n}\n\nfunction arrayFromBase64(/** string */ str, /** function */ TypedArrayClass) {\n  return Array.prototype.slice.call(new TypedArrayClass(bytesFromBase64(str)));\n}\n\n// NOTE: this is 1-level comparison\nfunction compareOptionsWithDefaults(opts, defOpts) {\n  const optsStr = [];\n  if (defOpts && opts) {\n    const keys = Object.keys(opts);\n    for (let p = 0; p < keys.length; ++p) {\n      const key = keys[p];\n      const value = opts[key];\n      // TODO add processing for tree structure\n      if (!(value instanceof Object) && typeof defOpts[key] !== 'undefined' && defOpts[key] !== value) {\n        optsStr.push(`${key}:${value}`);\n      }\n    }\n    if (optsStr.length > 0) {\n      return `!${optsStr.join()}`;\n    }\n  }\n  return '';\n}\n\nfunction isAlmostPlainObject(o) {\n  if (_.isPlainObject(o)) {\n    return true;\n  }\n  const proto = o && Object.getPrototypeOf(o);\n  return !!proto && !proto.hasOwnProperty('constructor') && isAlmostPlainObject(proto);\n}\n\n/**\n * Build an object that contains properties (and subproperties) of `src` different from those\n * in `dst`. Objects are parsed recursively, other values (including arrays) are compared for\n * equality using `_.isEqual()`.\n * @param {!object} src - a new object to compare, may contain changed or new properties\n * @param {!object} dst - an old reference object\n */\nfunction objectsDiff(src, dst) {\n  const diff = {};\n  _.forIn(src, (srcValue, key) => {\n    const dstValue = dst[key];\n    if (isAlmostPlainObject(srcValue) && isAlmostPlainObject(dstValue)) {\n      const deepDiff = objectsDiff(srcValue, dstValue);\n      if (!_.isEmpty(deepDiff)) {\n        diff[key] = deepDiff;\n      }\n    } else if (!_.isEqual(srcValue, dstValue)) {\n      diff[key] = srcValue;\n    }\n  });\n  return diff;\n}\n\nfunction forInRecursive(object, callback) {\n  function iterateThrough(obj, prefix) {\n    _.forIn(obj, (value, key) => {\n      const newPref = prefix + (prefix.length > 0 ? '.' : '');\n      if (value instanceof Object) {\n        iterateThrough(value, newPref + key);\n      } else if (value !== undefined) {\n        callback(value, newPref + key);\n      }\n    });\n  }\n  iterateThrough(object, '');\n}\n\nfunction enquoteString(value) {\n  if (_.isString(value)) {\n    return `\"${value.replace(/\"/g, '\\\\\"')}\"`;\n  }\n  return value;\n}\n\nfunction unquoteString(value) {\n  if (!_.isString(value)) {\n    return value;\n  }\n  if (value[0] === '\"' && value[value.length - 1] === '\"') {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\\"/g, '\"');\n  }\n  if (value[0] === \"'\" && value[value.length - 1] === \"'\") {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\'/g, \"'\");\n  }\n  throw new SyntaxError('Incorrect string format, can\\'t unqute it');\n}\n\nfunction getFileExtension(fileName) {\n  return fileName.slice((Math.max(0, fileName.lastIndexOf('.')) || Infinity));\n}\n\nfunction splitFileName(fileName) {\n  const ext = getFileExtension(fileName);\n  const name = fileName.slice(0, fileName.length - ext.length);\n  return [name, ext];\n}\n\nfunction dataUrlToBlob(url) {\n  const parts = url.split(/[:;,]/);\n  const partsCount = parts.length;\n  if (partsCount >= 3 && parts[partsCount - 2] === 'base64') {\n    return new Blob([bytesFromBase64(parts[partsCount - 1])]);\n  }\n  return null;\n}\n\nfunction getBrowser() {\n  if (navigator.vendor && navigator.vendor.indexOf('Apple') > -1\n    && navigator.userAgent\n    && navigator.userAgent.indexOf('CriOS') === -1\n    && navigator.userAgent.indexOf('FxiOS') === -1) {\n    return browserType.SAFARI;\n  }\n  return browserType.DEFAULT;\n}\n\nfunction shotOpen(url) {\n  if (typeof window !== 'undefined') {\n    window.open().document.write(`<body style=\"margin:0\"><img src=\"${url}\" /></body>`);\n  }\n}\n\nfunction shotDownload(dataUrl, filename) {\n  if (!dataUrl || dataUrl.substr(0, 5) !== 'data:') {\n    return;\n  }\n  if (!filename) {\n    filename = ['screenshot-', +new Date(), '.png'].join('');\n  }\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(dataUrlToBlob(dataUrl), filename);\n  } else if (typeof document !== 'undefined') {\n    const link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(dataUrlToBlob(dataUrl));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\n\nfunction download(data, filename, type) {\n  const blobData = new Blob([data]);\n\n  if (!filename) {\n    filename = ['data', +new Date()].join('');\n  }\n\n  if (!type) {\n    filename += blobData.type || '.bin';\n  } else {\n    filename += `.${type}`;\n  }\n\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(blobData, filename);\n  } else if (typeof document !== 'undefined') {\n    const link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(blobData);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\n\nfunction copySubArrays(src, dst, indices, itemSize) {\n  for (let i = 0, n = indices.length; i < n; ++i) {\n    for (let j = 0; j < itemSize; ++j) {\n      dst[i * itemSize + j] = src[indices[i] * itemSize + j];\n    }\n  }\n}\n\nfunction shallowCloneNode(node) {\n  const newNode = node.cloneNode(true);\n  newNode.worldPos = node.worldPos;\n  // .style property is readonly, so \"newNode.style = node.style;\" won't work (and we don't need it, right?)\n  return newNode;\n}\n\nconst unquotedStringRE = /^[a-zA-Z0-9_]*$/;\nconst enquoteHelper = ['\"', '', '\"'];\n\n// verify and correct if needed selctor identifier\nfunction correctSelectorIdentifier(value) {\n  if (unquotedStringRE.test(value)) {\n    return value;\n  }\n  // quote incorrect identifier\n  enquoteHelper[1] = value;\n  return enquoteHelper.join('');\n}\n\n/**\n * Concatenates two TypedArray. Doesn't check null refs o type equality\n * Attention! It must be use very rarely because requires memory reallocation every time. Use MergeTypedArraysUnsafe to\n * unite array of subarrays.\n * @param{TypedArray} first  - destination array\n * @param{TypedArray} second - source array\n * @returns{TypedArray} resulting concatenated array\n */\nfunction concatTypedArraysUnsafe(first, second) {\n  const result = new first.constructor(first.length + second.length);\n  result.set(first);\n  result.set(second, first.length);\n  return result;\n}\n\n/**\n * Merges array of TypedArray into TypedArray. Doesn't check null refs o type equality\n * @param{array} array  - source array of subarrays\n * @returns{TypedArray} resulting merged array\n */\nfunction mergeTypedArraysUnsafe(array) {\n  if (array.length <= 0) {\n    return null;\n  }\n  // count the size\n  const size = array.reduce((acc, cur) => acc + cur.length, 0);\n  // create combined array\n  const result = new array[0].constructor(size);\n  for (let i = 0, start = 0; i < array.length; i++) {\n    const count = array[i].length;\n    result.set(array[i], start);\n    start += count;\n  }\n  return result;\n}\n\n//----------------------------------------------------------------------------\n// Exports\n\nexport default {\n  browserType,\n  encodeQueryComponent,\n  decodeQueryComponent,\n  getUrlParameters,\n  getUrlParametersAsDict,\n  resolveURL,\n  generateRegExp,\n  createElement,\n  deriveClass,\n  deriveDeep,\n  hexColor,\n  DebugTracer,\n  OutOfMemoryError,\n  allocateTyped,\n  bytesFromBase64,\n  bytesToBase64,\n  arrayFromBase64,\n  arrayToBase64,\n  compareOptionsWithDefaults,\n  objectsDiff,\n  forInRecursive,\n  enquoteString,\n  unquoteString,\n  getBrowser,\n  shotOpen,\n  shotDownload,\n  copySubArrays,\n  shallowCloneNode,\n  correctSelectorIdentifier,\n  getFileExtension,\n  splitFileName,\n  download,\n  concatTypedArraysUnsafe,\n  mergeTypedArraysUnsafe,\n};\n","import EventDispatcher from './EventDispatcher';\n\nexport default class JobHandle extends EventDispatcher {\n  constructor() {\n    super();\n    this._shouldCancel = false;\n  }\n\n  cancel() {\n    this._shouldCancel = true;\n    this.dispatchEvent({ type: 'cancel' });\n  }\n\n  shouldCancel() {\n    return this._shouldCancel;\n  }\n\n  // slaves use this to notify master about their events\n  // master routes these notifications to a single event slot\n  notify(event) {\n    this.dispatchEvent({ type: 'notification', slaveEvent: event });\n  }\n}\n","import _ from 'lodash';\nimport utils from './utils';\nimport EventDispatcher from './utils/EventDispatcher';\n\nconst VERSION = 0;\n\n//----------------------------------------------------------------------------\n// DEFAULT SETTINGS\n//----------------------------------------------------------------------------\n\n/**\n * Polygonal complexity settings.\n *\n * @typedef PolyComplexity\n * @property {number} poor\n * @property {number} low\n * @property {number} medium\n * @property {number} high\n * @property {number} ultra\n */\n\n/**\n * @alias SettingsObject\n * @namespace\n */\nconst defaults = {\n  /**\n   * Default options for all available modes.\n   * Use {@link Mode.id} as a dictionary key to access mode options.\n   *\n   * Usually you don't need to override these settings. You may specify mode options as a parameter during\n   * {@link Mode} construction.\n   *\n   * @memberof SettingsObject#\n   * @type {Object.<string, object>}\n   *\n   * @property {LinesModeOptions} LN - Lines mode options.\n   * @property {LicoriceModeOptions} LC - Licorice mode options.\n   * @property {BallsAndSticksModeOptions} BS - Balls and Sticks mode options.\n   * @property {VanDerWaalsModeOptions} VW - Van der Waals mode options.\n   * @property {TraceModeOptions} TR - Trace mode options.\n   * @property {TubeModeOptions} TU - Tube mode options.\n   * @property {CartoonModeOptions} CA - Cartoon mode options.\n   * @property {QuickSurfaceModeOptions} QS - Contact Surface mode options.\n   * @property {IsoSurfaceSASModeOptions} SA - Solvent Accessible Surface mode options.\n   * @property {IsoSurfaceSESModeOptions} SE - Solvent Excluded Surface mode options.\n   * @property {ContactSurfaceModeOptions} CS - Contact Surface mode options.\n   * @property {TextModeOptions} TX - Text mode options.\n   * @property {VolumeDensityModeOptions} VD - Volume Density mode options.\n   */\n  modes: {\n    //----------------------------------------------------------------------------\n    // BALLS AND STICKS\n    //----------------------------------------------------------------------------\n\n    /**\n     * Balls and Sticks mode options.\n     *\n     * @typedef BallsAndSticksModeOptions\n     *\n     * @property {number} atom - Sphere radius as a fraction of Van der Waals atom radius.\n     * @property {number} bond - Cylinder radius in angstroms.\n     * @property {number} space - Fraction of the space around one cylinder. Zero means that cylinder fills all\n     *   available space.\n     * @property {boolean} multibond - Toggles rendering of multiple ordered bonds.\n     * @property {number} aromrad - Minor radius of a torus for aromatic loops.\n     * @property {boolean} showarom - Toggles rendering of aromatic loops.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    BS: {\n      atom: 0.23,\n      bond: 0.15,\n      space: 0.5,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // VAN DER WAALS\n    //----------------------------------------------------------------------------\n\n    /**\n     * Van der Waals mode options.\n     *\n     * @typedef VanDerWaalsModeOptions\n     *\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    VW: {\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 8,\n        high: 16,\n        ultra: 32,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // LINES\n    //----------------------------------------------------------------------------\n\n    /**\n     * Lines mode options.\n     *\n     * @typedef LinesModeOptions\n     *\n     * @property {boolean} multibond - Flag, that toggles rendering of multiple ordered bonds.\n     * @property {boolean} showarom - Flag, that toggles rendering of aromatic loops.\n     * @property {number} offsarom - Offset between bonds and aromatic cycle.\n     * @property {number} chunkarom - Number of pieces in a-loop arc, corresponding to atom.\n     * @property {number} atom - Collision radius for atoms picking.\n     * @property {number} lineWidth - Line width in pixels (not used in thin lines).\n     */\n    LN: {\n      multibond: true,\n      showarom: true,\n      offsarom: 0.2,\n      chunkarom: 10,\n      atom: 0.23,\n      lineWidth: 2,\n    },\n\n    //----------------------------------------------------------------------------\n    // LICORICE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Licorice mode options.\n     *\n     * @typedef LicoriceModeOptions\n     *\n     * @property {number} bond - Bond cylinder radius.\n     * @property {number} space - Fraction of the space around one cylinder. Zero means that cylinder fills all\n     *   available space.\n     * @property {boolean} multibond - Flag, that toggles rendering of multiple ordered bonds.\n     * @property {number} aromrad - Minor radius of a torus for aromatic loops.\n     * @property {boolean} showarom - Flag, that toggles rendering of aromatic loops.\n     * @property {PolyComplexity} polyComplexity - Poly complexity values for render modes.\n     */\n    LC: {\n      bond: 0.20,\n      space: 0.0,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // SURFACE SAS\n    //----------------------------------------------------------------------------\n\n    /**\n     * Solvent Accessible Surface mode options.\n     *\n     * @typedef IsoSurfaceSASModeOptions\n     *\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {number} probeRadius - Radius of the probe.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    SA: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // SURFACE SES\n    //----------------------------------------------------------------------------\n\n    /**\n     * Solvent Excluded Surface mode options.\n     *\n     * @typedef IsoSurfaceSESModeOptions\n     *\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {number} probeRadius - Radius of the probe.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    SE: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // QUICK SURFACE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Quick Surface mode options.\n     *\n     * @typedef QuickSurfaceModeOptions\n     *\n     * @property {number} isoValue - Isovalue of the surface to extract.\n     * @property {number} scale - Radius scale for the surface being built.\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} gaussLim - Gauss lim for coloring the bigger the value, the smoother our colors are.\n     * @property {PolyComplexity} gridSpacing - Poly complexity values for render modes. In this case the value\n     *   corresponds to the grid density.\n     */\n    QS: {\n      isoValue: 0.5,\n      gaussLim: {\n        poor: 1.5,\n        low: 2.0,\n        medium: 2.5,\n        high: 3.0,\n        ultra: 4.0,\n      },\n      scale: 1.0,\n      wireframe: false,\n      gridSpacing: {\n        poor: 2,\n        low: 1.5,\n        medium: 1,\n        high: 0.5,\n        ultra: 0.25,\n      },\n      subset: '',\n      zClip: false,\n    },\n\n    //----------------------------------------------------------------------------\n    // CONTACT SURFACE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Contact Surface mode options.\n     *\n     * @typedef ContactSurfaceModeOptions\n     *\n     * @property {number} isoValue - Isovalue of the surface to extract.\n     * @property {number} probeRadius - Probe radius.\n     * @property {number} probePositions\n     * @property {boolean} zClip - Flag, that toggles z-clipping.\n     * @property {string} subset - Only parts of surface close to selected atoms will be visible.\n     *   Empty string means whole surface is visible.\n     * @property {boolean} wireframe - Flag that specifies whether or not surface rendered in wireframe mode.\n     * @property {PolyComplexity} polyComplexity - Radius scale for the surface being built.\n     *   Poly complexity values for render modes. In this case the value corresponds to the grid density.\n     */\n    CS: {\n      probeRadius: 1.4,\n      isoValue: 1.5,\n      wireframe: false,\n      probePositions: 30,\n      polyComplexity: {\n        poor: 0.5,\n        low: 1.0,\n        medium: 1.5,\n        high: 1.75,\n        ultra: 2.0,\n      },\n      subset: '',\n      zClip: false,\n    },\n\n    //----------------------------------------------------------------------------\n    // TRACE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Trace mode options.\n     *\n     * @typedef TraceModeOptions\n     *\n     * @property {number} radius - Cylinder radius.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    TR: {\n      radius: 0.30,\n      polyComplexity: {\n        poor: 12,\n        low: 16,\n        medium: 32,\n        high: 64,\n        ultra: 64,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // TUBE\n    //----------------------------------------------------------------------------\n\n    /**\n     * Tube mode options.\n     *\n     * @typedef TubeModeOptions\n     *\n     * @property {number} radius - Cylinder radius.\n     * @property {number} tension - Tension for interpolation.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     * @property {number} heightSegmentsRatio - Poly complexity multiplier for height segments.\n     */\n    TU: {\n      radius: 0.30,\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // CARTOON\n    //----------------------------------------------------------------------------\n\n    /**\n     * Cartoon mode options.\n     *\n     * @typedef CartoonModeOptions\n     *\n     * @property {number} radius - Standard tube radius.\n     * @property {number} depth - Height of the secondary structure ribbon.\n     * @property {number} tension - Tension for interpolation.\n     * @proprety {object} ss - Secondary structure parameters.\n     * @proprety {object} ss.helix - Options for helices render.\n     * @proprety {number} ss.helix.width - Width of the secondary structure ribbon.\n     * @proprety {number} ss.helix.arrow - Secondary structure's arrow width.\n     * @proprety {object} ss.strand - Options for strands render.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     * polyComplexity must be even for producing symmetric arrows.\n     * @property {number} heightSegmentsRatio - Poly complexity multiplier for height segments.\n     */\n    CA: {\n      radius: 0.30,\n      depth: 0.25,\n      ss: {\n        helix: {\n          width: 1.0,\n          arrow: 2.0,\n        },\n        strand: {\n          width: 1.0,\n          arrow: 2.0,\n        },\n      },\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34,\n      },\n    },\n\n    //----------------------------------------------------------------------------\n    // TEXT\n    //----------------------------------------------------------------------------\n\n    /**\n     * Text mode options.\n     *\n     * @typedef TextModeOptions\n     *\n     * @property {string} template - Format string for building output text.\n     * @property {string} horizontalAlign - Text alignment ('left', 'right', 'center').\n     * @property {string} verticalAlign - Vertical text box alignment ('top', 'bottom', 'middle').\n     * @property {number} dx - Text offset x in angstroms.\n     * @property {number} dy - Text offset y in angstroms.\n     * @property {number} dz - Text offset z in angstroms.\n     * @property {string} fg - Color rule for foreground.\n     * @property {string} bg - Color rule for background.\n     * @property {boolean} showBg - Flag, that toggles background rendering.\n     *\n     */\n    TX: {\n      template: '{{Chain}}.{{Residue}}{{Sequence}}.{{Name}}',\n      horizontalAlign: 'center',\n      verticalAlign: 'middle',\n      dx: 0,\n      dy: 0,\n      dz: 1,\n      fg: 'none',\n      bg: '0x202020',\n      showBg: true,\n    },\n\n    //----------------------------------------------------------------------------\n    // VOLUME DENSITY\n    //----------------------------------------------------------------------------\n\n    /**\n     * Volume density mode options.\n     *\n     * @typedef VolumeDensityModeOptions\n     *\n     * @property {number} kSigma - Noise threshold coefficient.\n     * @property {boolean} frame - flag, that turns on box frame painting.\n     * @property {boolean} isoMode - flag, that turns on IsoSurface mode instead of Volume Rendering.\n     * @property {PolyComplexity} polyComplexity - Polygonal complexity settings for different resolutions.\n     */\n    VD: {\n      kSigma: 1.0,\n      kSigmaMed: 2.0,\n      kSigmaMax: 4.0,\n      frame: true,\n      isoMode: false,\n      polyComplexity: {\n        poor: 2,\n        low: 3,\n        medium: 4,\n        high: 8,\n        ultra: 10,\n      },\n    },\n  },\n\n  /**\n   * Default options for all available colorers.\n   * Use {@link Colorer.id} as a dictionary key to access colorer options.\n   *\n   * Usually you don't need to override these settings. You may specify colorer options as a parameter during\n   * {@link Colorer} construction.\n   *\n   * Not all colorers have options.\n   *\n   * @memberof SettingsObject#\n   * @type {Object.<string, object>}\n   *\n   * @property {ElementColorerOptions} EL - Element colorer options.\n   * @property {SequenceColorerOptions} SQ - Sequence colorer options.\n   * @property {MoleculeColorerOptions} MO - Molecule colorer options.\n   * @property {UniformColorerOptions} UN - Uniform colorer options.\n   * @property {ConditionalColorerOptions} CO - Conditional colorer options.\n   * @property {TemperatureColorerOptions} TM - Temperature colorer options.\n   * @property {OccupancyColorerOptions} OC - Occupancy colorer options.\n   * @property {HydrophobicityColorerOptions} HY - Hydrophobicity colorer options.\n   */\n  colorers: {\n    /**\n     * Element colorer options.\n     *\n     * @typedef ElementColorerOptions\n     *\n     * @property {number} carbon - Carbon color or -1 to use default.\n     */\n    EL: {\n      carbon: -1,\n    },\n\n    /**\n     * Uniform colorer options.\n     *\n     * @typedef UniformColorerOptions\n     *\n     * @property {number} color - Single color to paint with.\n     */\n    UN: {\n      color: 0xFFFFFF,\n    },\n\n    /**\n     * Conditional colorer options.\n     *\n     * @typedef ConditionalColorerOptions\n     *\n     * @property {string} subset - Selector string.\n     * @property {number} color - Color of selected atoms.\n     * @property {number} baseColor - Color of other atoms.\n     */\n    CO: {\n      subset: 'charged',\n      color: 0xFF0000,\n      baseColor: 0xFFFFFF,\n    },\n\n    /**\n     * Carbon colorer options.\n     *\n     * @typedef CarbonColorerOptions\n     *\n     * @property {number} color - Single color to paint carbons\n     * @property {number} factor - Color factor for not carbon atoms.\n     */\n    CB: {\n      color: 0x909090,\n      factor: 0.6,\n    },\n\n    /**\n     * Sequence colorer options.\n     *\n     * @typedef SequenceColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    SQ: {\n      gradient: 'rainbow',\n    },\n\n    /**\n     * Temperature colorer options.\n     *\n     * @typedef TemperatureColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     * @property {number} min - Minimal temperature.\n     * @property {number} max - Maximal temperature.\n     */\n    TM: {\n      gradient: 'temp',\n      min: 5,\n      max: 40,\n    },\n\n    /**\n     * Occupancy colorer options.\n     *\n     * @typedef OccupancyColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    OC: {\n      gradient: 'reds',\n    },\n\n    /**\n     * Hydrophobicity colorer options.\n     *\n     * @typedef HydrophobicityColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    HY: {\n      gradient: 'blue-red',\n    },\n\n    /**\n     * Molecule colorer options.\n     *\n     * @typedef MoleculeColorerOptions\n     *\n     * @property {string} gradient - Name of gradient to use.\n     */\n    MO: {\n      gradient: 'rainbow',\n    },\n  },\n\n  /*\n   * Use antialiasing in WebGL.\n   * @type {boolean}\n   */\n  antialias: true,\n\n  /*\n   * Camera field of view in degrees.\n   * @type {number}\n   */\n  camFov: 45.0,\n\n  /*\n   * Camera near plane distance.\n   * @type {number}\n   */\n  camNear: 0.5,\n\n  /*\n   * Camera far plane distance.\n   * @type {number}\n   */\n  camFar: 100.0,\n\n  camDistance: 2.5,\n\n  radiusToFit: 1.0,\n\n  /**\n   * @type {number}\n   * @instance\n   */\n  fogNearFactor: 0.5, // [0, 1]\n\n  /**\n   * @type {number}\n   * @instance\n   */\n  fogFarFactor: 1, // [0, 1]\n  fogAlpha: 1.0,\n  fogColor: 0x000000,\n  fogColorEnable: false,\n\n  /**\n   * Palette used for molecule coloring.\n   * @type {string}\n   */\n  palette: 'JM',\n\n  /*\n   * Geometry resolution.\n   * @type {string}\n   */\n  resolution: 'medium',\n\n  autoResolution: false/* true */,\n\n  autoPreset: true,\n\n  preset: 'default', // TODO: remove 'preset' from settings, implement autodetection\n\n  presets: {\n    // Default\n    default: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF',\n    }],\n\n    empty: [],\n\n    // Wireframe\n    wire: [{\n      mode: 'LN',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF',\n    }],\n\n    // Small molecules\n    small: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF',\n    }],\n\n    // Proteins, nucleic acids etc.\n    macro: [{\n      mode: 'CA',\n      colorer: 'SS',\n      selector: 'not hetatm',\n      material: 'SF',\n    }, {\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'hetatm and not water',\n      material: 'SF',\n    }],\n  },\n\n  objects: {\n    line: {\n      color: 0xFFFFFFFF,\n      dashSize: 0.3,\n      gapSize: 0.05,\n    },\n  },\n\n  //----------------------------------------------------------------------------\n\n  bg: {\n    color: 0x202020,\n    transparent: false,\n  },\n\n  draft: {\n    clipPlane: false,\n    clipPlaneFactor: 0.5,\n    clipPlaneSpeed: 0.00003,\n  },\n\n  /*\n     * Separate group for plugins.\n     * Each plugin handles its field by itself.\n     */\n  plugins: {\n\n  },\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  axes: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  fog: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  fps: true,\n\n  /**\n   * Switch using of z-sprites for sphere and cylinder geometry\n   * @type {boolean}\n   * @instance\n   */\n  zSprites: true,\n\n  isoSurfaceFakeOpacity: true,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  suspendRender: true,\n\n  nowater: false,\n\n  /**\n   * @type {boolean}\n   * @instance\n   */\n  autobuild: true,\n\n  /**\n   * Anti-aliasing.\n   * @type {boolean}\n   * @instance\n   */\n  fxaa: true,\n  /**\n   * Outline depths\n   * @type {boolean}\n   * @instance\n   */\n  outline: {\n    on: false,\n    color: 0x000000,\n    threshold: 0.1,\n    thickness: 1,\n  },\n\n  /**\n   * Ambient Occlusion special effect.\n   * @type {boolean}\n   * @instance\n   */\n  ao: false,\n\n  /**\n   * Shadows options.\n   *\n   * @property {boolean} shadowMap - enable/disable.\n   * @property {string} basic/percentage-closer filtering/non-uniform randomizing pcf.\n   * @property {number} radius for percentage-closer filtering.\n   */\n  shadow: {\n    on: false,\n    type: 'random'/* basic, pcf, random */,\n    radius: 1.0,\n  },\n\n  /**\n   * Auto-rotation with constant speed.\n   * @type {number}\n   * @instance\n   */\n  autoRotation: 0.0,\n\n  /**\n   * Set maximum fps for animation.\n   * @type {number}\n   * @instance\n   */\n  maxfps: 30,\n\n  /**\n   * Set fbx output precision.\n   * @type {number}\n   * @instance\n   */\n  fbxprec: 4,\n\n  /**\n   * Auto-rotation axis.\n   *\n   * - true:  complex auto-rotation is about vertical axis\n   * - false: rotation axis is defined by last user rotation\n   *\n   * @type {boolean}\n   * @instance\n   */\n  autoRotationAxisFixed: true,\n\n  /**\n   * Enable zooming with mouse wheel or pinch gesture.\n   * @type {boolean}\n   * @instance\n   */\n  zooming: true,\n\n  /**\n   * Enable picking atoms & residues with left mouse button or touch.\n   * @type {boolean}\n   * @instance\n   */\n  picking: true,\n\n  /**\n   * Set picking mode ('atom', 'residue', 'chain', 'molecule').\n   * @type {string}\n   * @instance\n   */\n  pick: 'atom',\n\n  /**\n   * Make \"component\" and \"fragment\" editing modes available.\n   * @type {boolean}\n   * @instance\n   */\n  editing: false,\n\n  /**\n   * Detect aromatic loops.\n   * @type {boolean}\n   * @instance\n   */\n  aromatic: false,\n\n  /**\n   * Load only one biological unit from all those described in PDB file.\n   * @type {boolean}\n   * @instance\n   */\n  singleUnit: true,\n\n  /**\n   * Set stereo mode ('NONE', 'SIMPLE', 'DISTORTED', 'ANAGLYPH', 'WEBVR').\n   * @type {string}\n   * @instance\n   */\n  stereo: 'NONE',\n\n  /**\n   * Enable smooth transition between views\n   * @type {boolean}\n   * @instance\n   */\n  interpolateViews: true,\n\n  /**\n   * Set transparency mode ('standard', 'prepass').\n   * @type {string}\n   * @instance\n   */\n  transparency: 'prepass',\n\n  /**\n   * Mouse translation speed.\n   * @type {number}\n   * @instance\n   */\n  translationSpeed: 2,\n\n  debug: {\n    example: 3.5,\n    text: 'hello!',\n    good: true,\n    ssaoKernelRadius: 0.7,\n    ssaoFactor: 0.7,\n    stereoBarrel: 0.25,\n  },\n  use: {\n    multiFile: false,\n  },\n};\n\n//----------------------------------------------------------------------------\n// SETTINGS CLASS\n//----------------------------------------------------------------------------\n\nfunction Settings() {\n  EventDispatcher.call(this);\n\n  this.old = null;\n  this.now = {};\n  this._changed = {};\n\n  this.reset();\n}\n\nutils.deriveClass(Settings, EventDispatcher, {\n  defaults,\n\n  set(path, value) {\n    if (_.isString(path)) {\n      const oldValue = _.get(this.now, path);\n      if (oldValue !== value) {\n        _.set(this.now, path, value);\n        this._notifyChange(path, value);\n      }\n    } else {\n      const diff = utils.objectsDiff(path, this.now);\n      if (!_.isEmpty(diff)) {\n        _.merge(this.now, diff);\n        this._notifyChanges(diff);\n      }\n    }\n  },\n\n  get(path, defaultValue) {\n    return _.get(this.now, path, defaultValue);\n  },\n\n  reset() {\n    const diff = utils.objectsDiff(defaults, this.now);\n    this.now = _.cloneDeep(defaults);\n    this.old = null;\n    this._notifyChanges(diff);\n    this._changed = {};\n  },\n\n  checkpoint() {\n    this.old = _.cloneDeep(this.now);\n    this._changed = {};\n  },\n\n  _notifyChange(path, value) {\n    this._changed[path] = true;\n    this.dispatchEvent({ type: `change:${path}`, value });\n  },\n\n  _notifyChanges(diff) {\n    utils.forInRecursive(diff, (deepValue, deepPath) => {\n      this._notifyChange(deepPath, deepValue);\n    });\n  },\n\n  changed() {\n    if (!this.old) {\n      return [];\n    }\n    const { old, now } = this;\n    const keys = _.filter(Object.keys(this._changed), (key) => _.get(old, key) !== _.get(now, key));\n    return keys;\n  },\n\n  applyDiffs(diffs) {\n    if (diffs.hasOwnProperty('VERSION') && diffs.VERSION !== VERSION) {\n      throw new Error('Settings version does not match!');\n    }\n    // VERSION shouldn't be presented inside settings structure\n    delete diffs.VERSION;\n    this.reset();\n    this.set(diffs);\n  },\n\n  getDiffs(versioned) {\n    const diffs = utils.objectsDiff(this.now, defaults);\n    if (versioned) {\n      diffs.VERSION = VERSION;\n    }\n    return diffs;\n  },\n\n  setPluginOpts(plugin, opts) {\n    defaults.plugins[plugin] = _.cloneDeep(opts);\n    this.now.plugins[plugin] = _.cloneDeep(opts);\n  },\n});\n\nexport default new Settings();\n","import _ from 'lodash';\nimport settings from './settings';\nimport utils from './utils';\nimport logger from './utils/logger';\n\nlet repIndex = 0;\n\nfunction asBoolean(value) {\n  return !(!value || value === '0' || (_.isString(value) && value.toLowerCase() === 'false'));\n}\n\nconst adapters = {\n  string: String,\n  number: Number,\n  boolean: asBoolean,\n};\n\n// Level 1 assignment symbol\nconst cL1Ass = '=';\n\nconst cOptsSep = '!';\n// Level 2 (options) assignment symbol\nconst cL2Ass = ':';\n// Level 2 (options) separator symbol\nconst cLSep = ',';\n\nconst cCommonIgnoreSymbols = '$;@/?';\n/**\n * We may (and should) leave as is for better readability:\n *\n *        $ , ; : @ / ?\n */\n/**\n * Generate regular expression for symbols excluded for first level encryption\n */\nfunction getLevel1ExcludedExpr() {\n  const cLevel1Ignores = ':,';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel1Ignores);\n}\n\n/**\n * Generate regular expression for symbols excluded for first level encryption\n * (options, etc, ..)\n */\nfunction getLevel2ExcludedExpr() {\n  const cLevel2Ignores = ' ';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel2Ignores);\n}\n\nconst cL1ExclExpr = getLevel1ExcludedExpr();\nfunction encodeQueryComponentL1(value) {\n  return utils.encodeQueryComponent(value, cL1ExclExpr);\n}\n\nconst cL2ExclExpr = getLevel2ExcludedExpr();\nfunction encodeQueryComponentL2(value) {\n  return utils.encodeQueryComponent(value, cL2ExclExpr);\n}\n\nfunction ensureRepList(opts) {\n  let { reps } = opts;\n  if (!reps) {\n    const { presets } = settings.now;\n    let preset = opts.preset || settings.now.preset;\n    reps = presets[preset];\n    if (!reps) {\n      logger.warn(`Unknown preset \"${preset}\"`);\n      [preset] = Object.keys(presets);\n      reps = presets[preset]; // fall back to any preset\n    }\n    opts.preset = preset;\n    opts.reps = utils.deriveDeep(reps, true);\n  }\n}\n\nfunction ensureRepAssign(opts, prop, value) {\n  ensureRepList(opts);\n  const rep = opts.reps[repIndex];\n  // prop specified twice therefore start new rep by cloning the current\n  if (rep.hasOwnProperty(prop)) {\n    repIndex = opts.reps.length;\n    opts.reps[repIndex] = utils.deriveDeep(rep, true);\n  }\n  if (value !== undefined) {\n    opts.reps[repIndex][prop] = value;\n  }\n}\n\nfunction addObject(opts, params, options) {\n  if (opts._objects === undefined) {\n    opts._objects = [];\n  }\n\n  const [type, newOpts] = options;\n  const newObj = {\n    type,\n    params,\n  };\n\n  if (newOpts !== undefined) {\n    newObj.opts = newOpts;\n  }\n\n  opts._objects[opts._objects.length] = newObj;\n}\n\nfunction parseParams(str, params) {\n  const sep = str.indexOf(',');\n  if (sep >= 0) {\n    params.push(str.substr(sep + 1).split(','));\n    return str.substr(0, sep);\n  }\n  // keep this untouched if no params were extracted\n  return str;\n}\n\nfunction extractArgs(input, defaultsDict, params) {\n  if (input) {\n    const bang = input.indexOf(cOptsSep);\n    const inputVal = parseParams(input.substr(0, bang >= 0 ? bang : undefined), params);\n    if (bang >= 0) {\n      const args = input.substr(bang + 1).split(cLSep);\n      input = inputVal;\n      if (defaultsDict) {\n        const defaults = defaultsDict[input];\n        const opts = utils.deriveDeep(defaults, true);\n        args.forEach((arg) => {\n          const pair = arg.split(cL2Ass, 2);\n          const key = decodeURIComponent(pair[0]);\n          const value = decodeURIComponent(pair[1]);\n          const adapter = adapters[typeof _.get(defaults, key)];\n          if (adapter) {\n            _.set(opts, key, adapter(value));\n          } else {\n            logger.warn(`Unknown argument \"${key}\" for option \"${input}\"`);\n          }\n        });\n        if (Object.keys(opts).length > 0) {\n          input = [input, opts];\n        }\n      }\n    } else {\n      input = inputVal;\n    }\n  }\n  return input;\n}\n\nconst actions = {\n\n  l: 'load',\n  load: String,\n  t: 'type',\n  type: String,\n  v: 'view',\n  view: String,\n  u: 'unit',\n  unit: Number,\n  menu: asBoolean,\n\n  // Commands\n\n  o: 'object',\n  object(value, opts) {\n    const params = [];\n    let options = extractArgs(value, settings.defaults.objects, params);\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n    addObject(opts, params[0], options);\n  },\n\n  p: 'preset',\n  preset(value, opts) {\n    opts.preset = value;\n    opts.reps = null;\n    ensureRepList(opts);\n  },\n\n  r: 'rep',\n  rep(value, opts) {\n    ensureRepList(opts);\n    repIndex = Number(value);\n    // clamp the index to one greater than the last\n    repIndex = repIndex <= opts.reps.length ? (repIndex < 0 ? 0 : repIndex) : opts.reps.length;\n    // create a new rep if it is adjacent to the existing ones\n    if (repIndex === opts.reps.length) {\n      // if there is no rep to derive from, derive from the first rep of the default\n      opts.reps[repIndex] = repIndex > 0 ? utils.deriveDeep(opts.reps[repIndex - 1], true)\n        : utils.deriveDeep(settings.defaults.presets.default[0], true);\n    }\n  },\n\n  s: 'select',\n  select(value, opts) {\n    ensureRepAssign(opts, 'selector', value);\n  },\n\n  m: 'mode',\n  mode(value, opts) {\n    ensureRepAssign(opts, 'mode', extractArgs(value, settings.defaults.modes));\n  },\n\n  c: 'color',\n  color(value, opts) {\n    ensureRepAssign(opts, 'colorer', extractArgs(value, settings.defaults.colorers));\n  },\n\n  mt: 'material',\n  material(value, opts) {\n    ensureRepAssign(opts, 'material', extractArgs(value, settings.defaults.materials));\n  },\n\n  dup(value, opts) {\n    ensureRepList(opts);\n    const { reps } = opts;\n    const rep = reps[repIndex];\n    repIndex = reps.length;\n    reps[repIndex] = utils.deriveDeep(rep, true);\n  },\n\n  // Settings shortcuts\n\n  ar: 'autoResolution',\n};\n\nfunction _fromArray(entries) {\n  repIndex = 0;\n\n  const opts = {};\n  for (let i = 0, n = entries.length; i < n; ++i) {\n    const /** string[] */ entry = entries[i];\n    let /** string? */ key = entry[0];\n    const /** string? */ value = entry[1];\n    let /** function|string? */ action = actions[key];\n\n    // unwind shortcuts and aliases\n    while (_.isString(action)) {\n      key = action;\n      action = actions[key];\n    }\n\n    // either set a property or use specialized parser\n    if (!action) {\n      const adapter = adapters[typeof _.get(settings.defaults, key)];\n      if (adapter) {\n        _.set(opts, `settings.${key}`, adapter(value));\n      } else {\n        logger.warn(`Unknown option \"${key}\"`);\n      }\n    } else if (_.isFunction(action)) {\n      const result = action(value, opts);\n      if (result !== undefined) {\n        opts[key] = result;\n      }\n    }\n  }\n\n  return opts;\n}\n\nfunction fromAttr(attr) {\n  return _fromArray(utils.getUrlParameters(`?${attr || ''}`));\n}\n\nfunction fromURL(url) {\n  return _fromArray(utils.getUrlParameters(url));\n}\n\nfunction _processOptsForURL(opts) {\n  const str = [];\n  let i = 0;\n  utils.forInRecursive(opts, (value, key) => {\n    str[i++] = encodeQueryComponentL2(key) + cL2Ass + encodeQueryComponentL2(value);\n  });\n  return str.join(cLSep);\n}\n\nfunction _processArgsForURL(args) {\n  if (!_.isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return `${args[0]}${cOptsSep}${_processOptsForURL(args[1])}`;\n}\n\nfunction _processObjForURL(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  let res = objOpts.type;\n  if (_.isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += `,${objOpts.params.join(',')}`;\n  }\n  if (objOpts.opts) {\n    res += cOptsSep + _processOptsForURL(objOpts.opts);\n  }\n  return res;\n}\n\nfunction toURL(opts) {\n  const stringList = [];\n  let idx = 0;\n\n  function checkAndAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      stringList[idx++] = encodeQueryComponentL1(prefix)\n                            + cL1Ass + encodeQueryComponentL1(value);\n    }\n  }\n\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n    for (let i = 0, n = repList.length; i < n; ++i) {\n      if (_.isEmpty(repList[i])) {\n        continue;\n      }\n      checkAndAdd('r', i);\n      checkAndAdd('s', repList[i].selector);\n      checkAndAdd('m', _processArgsForURL(repList[i].mode));\n      checkAndAdd('c', _processArgsForURL(repList[i].colorer));\n      checkAndAdd('mt', _processArgsForURL(repList[i].material));\n    }\n  }\n\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (let i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('o', _processObjForURL(objList[i]));\n    }\n  }\n\n  checkAndAdd('l', opts.load);\n  checkAndAdd('u', opts.unit);\n  checkAndAdd('p', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n\n  checkAndAdd('v', opts.view);\n\n  utils.forInRecursive(opts.settings, (value, key) => {\n    // I heard these lines in the whispers of the Gods\n    // Handle preset setting in reps\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(key, value);\n  });\n\n  let url = '';\n  if (typeof window !== 'undefined') {\n    const { location } = window;\n    url = `${location.protocol}//${location.host}${location.pathname}`;\n  }\n  if (stringList.length > 0) {\n    url += `?${stringList.join('&')}`;\n  }\n\n  return url;\n}\n\nfunction _processOptsForScript(opts) {\n  const str = [];\n  let i = 0;\n  utils.forInRecursive(opts, (value, key) => {\n    str[i++] = `${key}=${utils.enquoteString(value)}`;\n  });\n  return str.join(' ');\n}\n\nfunction _processArgsForScript(args) {\n  if (!_.isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return `${args[0]} ${_processOptsForScript(args[1])}`;\n}\n\nfunction _processObjForScript(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  let res = objOpts.type;\n  if (_.isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += ` ${objOpts.params.map(utils.enquoteString).join(' ')}`;\n  }\n  if (objOpts.opts) {\n    res += ` ${_processOptsForScript(objOpts.opts)}`;\n  }\n  return res;\n}\n\nfunction _processRepsForScript(rep, index) {\n  const repString = [];\n  let strIdx = 0;\n  function localAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      repString[strIdx++] = prefix + value;\n    }\n  }\n  if (_.isEmpty(rep)) {\n    return null;\n  }\n  localAdd('', index);\n  localAdd('s=', utils.enquoteString(rep.selector));\n  localAdd('m=', _processArgsForScript(rep.mode));\n  localAdd('c=', _processArgsForScript(rep.colorer));\n  localAdd('mt=', _processArgsForScript(rep.material));\n  return repString.join(' ');\n}\n\nfunction toScript(opts) {\n  const commandsList = [];\n  let idx = 0;\n  function checkAndAdd(command, value, saveQuotes) {\n    if (value !== null && value !== undefined) {\n      const quote = (typeof value === 'string' && saveQuotes) ? '\"' : '';\n      commandsList[idx++] = `${command} ${quote}${value}${quote}`.trim();\n    }\n  }\n\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n\n    for (let i = 0, n = repList.length; i < n; ++i) {\n      checkAndAdd('rep', _processRepsForScript(repList[i], i));\n    }\n  }\n\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (let i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('', _processObjForScript(objList[i]));\n    }\n  }\n\n  checkAndAdd('set', 'autobuild false');\n  checkAndAdd('load', opts.load, true);\n  checkAndAdd('unit', opts.unit);\n  checkAndAdd('preset', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n\n  utils.forInRecursive(opts.settings, (value, key) => {\n    // I heard these lines in the whispers of the Gods\n    // Handle preset setting in reps\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(`set ${key}`, value, true);\n  });\n  checkAndAdd('view', opts.view);\n  checkAndAdd('set', 'autobuild true');\n  return commandsList.join('\\n');\n}\n\nexport default {\n  fromURL,\n  fromAttr,\n  adapters,\n  toURL,\n  toScript,\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * Atom measurements.\n *\n * @param {Residue} residue    - (required) Residue containing the atom\n * @param {string} name        - (required) Name, unique in the residue\n * @param {Element} type       - (required) Chemical element reference\n * @param {THREE.Vector3} position - Registered coordinates\n *\n * @param {number} role        - Role of atom inside monomer: Lead and wing are particularity interesting\n * @param {boolean} het        - Non-standard residue indicator\n *\n * @param {number} serial      - Serial number, unique in the model\n * @param {string} location    - Alternative location indicator (usually space or A-Z)\n * @param {number} occupancy   - Occupancy percentage, from 0 to 1\n * @param {number} temperature - Temperature\n * @param {number} charge      - Charge\n *\n * @exports Atom\n * @constructor\n */\n\nclass Atom {\n  constructor(residue, name, type, position, role, het, serial, location, occupancy, temperature, charge) {\n    this.index = -1;\n    this.residue = residue;\n    this.name = name;\n    this.element = type;\n    this.position = position;\n    this.role = role;\n    this.mask = 1 | 0;\n\n    this.het = het;\n\n    this.serial = serial;\n    this.location = (location || ' ').charCodeAt(0);\n    this.occupancy = occupancy || 1;\n    this.temperature = temperature;\n    this.charge = charge;\n    this.hydrogenCount = -1; // explicitly invalid\n    this.radicalCount = 0;\n    this.valence = -1; // explicitly invalid\n\n    this.bonds = [];\n\n    this.flags = 0x0000;\n    if (type.name === 'H') {\n      this.flags |= Atom.Flags.HYDROGEN;\n    } else if (type.name === 'C') {\n      this.flags |= Atom.Flags.CARBON;\n    }\n  }\n\n  isHet() {\n    return this.het;\n  }\n\n  isHydrogen() {\n    return this.element.number === 1;\n  }\n\n  getVisualName() {\n    const { name } = this;\n    if (name.length > 0) {\n      return name;\n    }\n    return this.element.name.trim();\n  }\n\n  forEachBond(process) {\n    const { bonds } = this;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]);\n    }\n  }\n\n  getFullName() {\n    let name = '';\n    if (this.residue !== null) {\n      if (this.residue._chain !== null) {\n        name += `${this.residue._chain.getName()}.`;\n      }\n      name += `${this.residue._sequence}.`;\n    }\n    name += this.name;\n    return name;\n  }\n\n  /**\n   * Enumeration of atom flag values.\n   *\n   * @enum {number}\n   * @readonly\n   */\n  static Flags = {\n    CARBON: 0x0001,\n    // OXYGEN: 0x0002,\n    // NITROGEN: 0x0004,\n    HYDROGEN: 0x0008,\n    /** Non-polar hydrogen (it is also a HYDROGEN) */\n    NONPOLARH: 0x1008,\n  };\n}\n\nexport default Atom;\n","class Element {\n  constructor(number, name, fullName, weight, radius, radiusBonding, hValency) {\n    this.number = number;\n    this.name = name;\n    this.fullName = fullName;\n    this.weight = weight;\n    this.radius = radius;\n    this.radiusBonding = radiusBonding;\n    this.hydrogenValency = hValency;\n  }\n\n  static Constants = {\n    /* eslint-disable no-magic-numbers */\n    U1: 1,\n    Lead: 2,\n    U2: 3,\n    Wing: 4,\n    U18: 18,\n    /* eslint-enable no-magic-numbers */\n  };\n\n  static Role = {\n    /* eslint-disable no-magic-numbers */\n    N: Element.Constants.U1,\n    CA: Element.Constants.Lead,\n    C: Element.Constants.U2,\n    O: Element.Constants.Wing,\n    SG: Element.Constants.U18,\n    /* eslint-enable no-magic-numbers */\n  };\n\n  // DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\n  static ByAtomicNumber = [\n    /* eslint-disable no-magic-numbers */\n    null,\n    new Element(1, 'H', 'Hydrogen', 1.008, 1.2, 0.23, [1]),\n    new Element(2, 'HE', 'Helium', 4.003, 1.4, 0.93, [0]),\n    new Element(3, 'LI', 'Lithium', 6.941, 1.82, 0.68, [1]),\n    new Element(4, 'BE', 'Beryllium', 9.012, 1.7, 0.35, [2]),\n    new Element(5, 'B', 'Boron', 10.81, 2.08, 0.83, [3]),\n    new Element(6, 'C', 'Carbon', 12.011, 1.95, 0.68, [4]),\n    new Element(7, 'N', 'Nitrogen', 14.007, 1.85, 0.68, [3, 5]),\n    new Element(8, 'O', 'Oxygen', 15.999, 1.7, 0.68, [2, 4]),\n    new Element(9, 'F', 'Fluorine', 18.998, 1.73, 0.64, [1]),\n    new Element(10, 'NE', 'Neon', 20.18, 1.54, 1.12, [0]),\n    new Element(11, 'NA', 'Sodium', 22.99, 2.27, 0.97, [1]),\n    new Element(12, 'MG', 'Magnesium', 24.305, 1.73, 1.1, [2]),\n    new Element(13, 'AL', 'Aluminum', 26.981, 2.05, 1.35, [3]),\n    new Element(14, 'SI', 'Silicon', 28.086, 2.1, 1.2, [4]),\n    new Element(15, 'P', 'Phosphorus', 30.974, 2.08, 0.75, [3, 5]),\n    new Element(16, 'S', 'Sulfur', 32.07, 2, 1.02, [2, 4, 6]),\n    new Element(17, 'CL', 'Chlorine', 35.453, 1.97, 0.99, [1, 3, 5, 7]),\n    new Element(18, 'AR', 'Argon', 39.948, 1.88, 1.57, [0]),\n    new Element(19, 'K', 'Potassium', 39.1, 2.75, 1.33, [1]),\n    new Element(20, 'CA', 'Calcium', 40.08, 1.973, 0.99, [2]),\n    new Element(21, 'SC', 'Scandium', 44.956, 1.7, 1.44, [0]),\n    new Element(22, 'TI', 'Titanium', 47.88, 1.7, 1.47, [0]),\n    new Element(23, 'V', 'Vanadium', 50.941, 1.7, 1.33, [0]),\n    new Element(24, 'CR', 'Chromium', 52, 1.7, 1.35, [0]),\n    new Element(25, 'MN', 'Manganese', 54.938, 1.7, 1.35, [0]),\n    new Element(26, 'FE', 'Iron', 55.847, 1.7, 1.34, [0]),\n    new Element(27, 'CO', 'Cobalt', 58.93, 1.7, 1.33, [0]),\n    new Element(28, 'NI', 'Nickel', 58.69, 1.63, 1.5, [0]),\n    new Element(29, 'CU', 'Copper', 63.55, 1.4, 1.52, [0]),\n    new Element(30, 'ZN', 'Zinc', 65.39, 1.39, 1.45, [0]),\n    new Element(31, 'GA', 'Gallium', 69.72, 1.87, 1.22, [3]),\n    new Element(32, 'GE', 'Germanium', 72.61, 1.7, 1.17, [4]),\n    new Element(33, 'AS', 'Arsenic', 74.92, 1.85, 1.21, [3, 5]),\n    new Element(34, 'SE', 'Selenium', 78.96, 1.9, 1.22, [2, 4, 6]),\n    new Element(35, 'BR', 'Bromine', 79.9, 2.1, 1.21, [1, 3, 5, 7]),\n    new Element(36, 'KR', 'Krypton', 83.8, 2.02, 1.91, [0]),\n    new Element(37, 'RB', 'Rubidium', 85.47, 1.7, 1.47, [1]),\n    new Element(38, 'SR', 'Strontium', 87.62, 1.7, 1.12, [2]),\n    new Element(39, 'Y', 'Yttrium', 88.91, 1.7, 1.78, [0]),\n    new Element(40, 'ZR', 'Zirconium', 91.22, 1.7, 1.56, [0]),\n    new Element(41, 'NB', 'Niobium', 92.91, 1.7, 1.48, [0]),\n    new Element(42, 'MO', 'Molybdenum', 95.94, 1.7, 1.47, [0]),\n    new Element(43, 'TC', 'Technetium', 98.91, 1.7, 1.35, [0]),\n    new Element(44, 'RU', 'Ruthenium', 101.07, 1.7, 1.4, [0]),\n    new Element(45, 'RH', 'Rhodium', 102.91, 1.7, 1.45, [0]),\n    new Element(46, 'PD', 'Palladium', 106.42, 1.63, 1.5, [0]),\n    new Element(47, 'AG', 'Silver', 107.87, 1.72, 1.59, [0]),\n    new Element(48, 'CD', 'Cadmium', 112.41, 1.58, 1.69, [0]),\n    new Element(49, 'IN', 'Indium', 114.82, 1.93, 1.63, [3]),\n    new Element(50, 'SN', 'Tin', 118.71, 2.17, 1.46, [2, 4]),\n    new Element(51, 'SB', 'Antimony', 121.75, 2.2, 1.46, [3, 5]),\n    new Element(52, 'TE', 'Tellurium', 127.6, 2.06, 1.47, [2, 4, 6]),\n    new Element(53, 'I', 'Iodine', 126.91, 2.15, 1.4, [1, 3, 5, 7]),\n    new Element(54, 'XE', 'Xenon', 131.29, 2.16, 1.98, [0]),\n    new Element(55, 'CS', 'Cesium', 132.91, 1.7, 1.67, [1]),\n    new Element(56, 'BA', 'Barium', 137.33, 1.7, 1.34, [2]),\n    new Element(57, 'LA', 'Lanthanum', 138.91, 1.7, 1.87, [0]),\n    new Element(58, 'CE', 'Cerium', 140.12, 1.7, 1.83, [0]),\n    new Element(59, 'PR', 'Praseodymium', 140.91, 1.7, 1.82, [0]),\n    new Element(60, 'ND', 'Neodymium', 144.24, 1.7, 1.81, [0]),\n    new Element(61, 'PM', 'Promethium', 144.9, 1.7, 1.8, [0]),\n    new Element(62, 'SM', 'Samarium', 150.36, 1.7, 1.8, [0]),\n    new Element(63, 'EU', 'Europium', 151.96, 1.7, 1.99, [0]),\n    new Element(64, 'GD', 'Gadolinium', 157.25, 1.7, 1.79, [0]),\n    new Element(65, 'TB', 'Terbium', 158.93, 1.7, 1.76, [0]),\n    new Element(66, 'DY', 'Dysprosium', 162.5, 1.7, 1.75, [0]),\n    new Element(67, 'HO', 'Holmium', 164.93, 1.7, 1.74, [0]),\n    new Element(68, 'ER', 'Erbium', 167.26, 1.7, 1.73, [0]),\n    new Element(69, 'TM', 'Thulium', 168.93, 1.7, 1.72, [0]),\n    new Element(70, 'YB', 'Ytterbium', 173.04, 1.7, 1.94, [0]),\n    new Element(71, 'LU', 'Lutetium', 174.97, 1.7, 1.72, [0]),\n    new Element(72, 'HF', 'Hafnium', 178.49, 1.7, 1.57, [0]),\n    new Element(73, 'TA', 'Tantalum', 180.95, 1.7, 1.43, [0]),\n    new Element(74, 'W', 'Tungsten', 183.85, 1.7, 1.37, [0]),\n    new Element(75, 'RE', 'Rhenium', 186.21, 1.7, 1.35, [0]),\n    new Element(76, 'OS', 'Osmium', 190.2, 1.7, 1.37, [0]),\n    new Element(77, 'IR', 'Iridium', 192.22, 1.7, 1.32, [0]),\n    new Element(78, 'PT', 'Platinum', 195.08, 1.72, 1.5, [0]),\n    new Element(79, 'AU', 'Gold', 196.97, 1.66, 1.5, [0]),\n    new Element(80, 'HG', 'Mercury', 200.59, 1.55, 1.7, [0]),\n    new Element(81, 'TL', 'Thallium', 204.38, 1.96, 1.55, [1, 3]),\n    new Element(82, 'PB', 'Lead', 207.2, 2.02, 1.54, [2, 4]),\n    new Element(83, 'BI', 'Bismuth', 208.98, 1.7, 1.54, [3, 5]),\n    new Element(84, 'PO', 'Polonium', 210, 1.7, 1.68, [2, 4, 6]),\n    new Element(85, 'AT', 'Astatine', 210, 1.7, 1.7, [1, 3, 5, 7]),\n    new Element(86, 'RN', 'Radon', 222, 1.7, 2.4, [0]),\n    new Element(87, 'FR', 'Francium', 223, 1.7, 2, [1]),\n    new Element(88, 'RA', 'Radium', 226.03, 1.7, 1.9, [2]),\n    new Element(89, 'AC', 'Actinium', 227.03, 1.7, 1.88, [0]),\n    new Element(90, 'TH', 'Thorium', 232.04, 1.7, 1.79, [0]),\n    new Element(91, 'PA', 'Protactinium', 231.04, 1.7, 1.61, [0]),\n    new Element(92, 'U', 'Uranium', 238.03, 1.86, 1.58, [0]),\n    new Element(93, 'NP', 'Neptunium', 237.05, 1.7, 1.55, [0]),\n    new Element(94, 'PU', 'Plutonium', 239.1, 1.7, 1.53, [0]),\n    new Element(95, 'AM', 'Americium', 243.1, 1.7, 1.51, [0]),\n    new Element(96, 'CM', 'Curium', 247.1, 1.7, 1.5, [0]),\n    new Element(97, 'BK', 'Berkelium', 247.1, 1.7, 1.5, [0]),\n    new Element(98, 'CF', 'Californium', 252.1, 1.7, 1.5, [0]),\n    new Element(99, 'ES', 'Einsteinium', 252.1, 1.7, 1.5, [0]),\n    new Element(100, 'FM', 'Fermium', 257.1, 1.7, 1.5, [0]),\n    new Element(101, 'MD', 'Mendelevium', 256.1, 1.7, 1.5, [0]),\n    new Element(102, 'NO', 'Nobelium', 259.1, 1.7, 1.5, [0]),\n    new Element(103, 'LR', 'Lawrencium', 260.1, 1.7, 1.5, [0]),\n    new Element(104, 'RF', 'Rutherfordium', 261, 1.7, 1.6, [0]),\n    new Element(105, 'DB', 'Dubnium', 262, 1.7, 1.6, [0]),\n    new Element(106, 'SG', 'Seaborgium', 263, 1.7, 1.6, [0]),\n    new Element(107, 'BH', 'Bohrium', 262, 1.7, 1.6, [0]),\n    new Element(108, 'HS', 'Hassium', 265, 1.7, 1.6, [0]),\n    new Element(109, 'MT', 'Meitnerium', 268, 1.7, 1.6, [0]),\n    /* eslint-enable no-magic-numbers */\n  ];\n\n  // DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\n  static ByName = {\n    // Duplicate atomic numbers (isotopes)\n    /* eslint-disable no-magic-numbers */\n    D: new Element(1, 'D', 'Deuterium', 2.014, 1.2, 0.23, [1]),\n    T: new Element(1, 'T', 'Tritium', 3.016, 1.2, 0.23, [1]),\n    /* eslint-enable no-magic-numbers */\n\n    // All regular elements will be added later, automatically\n  };\n}\n\n(function () {\n  const byAtomicNumber = Element.ByAtomicNumber;\n  const byName = Element.ByName;\n  for (let i = 0, n = byAtomicNumber.length; i < n; ++i) {\n    const element = byAtomicNumber[i];\n    if (element) {\n      byName[element.name] = element;\n    }\n  }\n}());\n\n// find atom type by chemical element (or create if missing)\nElement.getByName = function (element) {\n  let type = Element.ByName[element];\n  if (!type) {\n    type = Element.ByName[element] = new Element(0, element, 'Unknown', 0, 1.0, 0.01, [0]);\n  }\n  return type;\n};\n\nexport default Element;\n","const cBondTypes = {\n  /** Was generated manually */\n  UNKNOWN: 0,\n  /** Simple covalent bond */\n  COVALENT: 1,\n  /** Aromatic bond */\n  AROMATIC: 2,\n};\n\nfunction getAtomPos(atom) {\n  return atom.position;\n}\n\n/**\n * Bond between atoms.\n *\n * @param {Atom} left     - The first atom.\n * @param {Atom} right    - The second atom.\n * @param {number} order - Order of current bond.\n * @param {number} type - Bond type.\n * @param {boolean} fixed - Indicator of a pre-specified connection (in contrast with guessed one).\n *\n * @exports Bond\n * @constructor\n */\nclass Bond {\n  constructor(left, right, order, type, fixed) {\n    this._left = left;\n    this._right = right;\n    this._fixed = fixed;\n    this._index = -1;\n    if (left > right) {\n      throw new Error('In a bond atom indices must be in increasing order');\n    }\n    this._order = order;\n    this._type = type;\n  }\n\n  getLeft() {\n    return this._left;\n  }\n\n  getRight() {\n    return this._right;\n  }\n\n  getOrder() {\n    return this._order;\n  }\n\n  calcLength() {\n    return this._left.position.distanceTo(this._right.position);\n  }\n\n  _forEachNeighbour(currAtom, process) {\n    const { bonds } = currAtom;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]._left !== currAtom ? bonds[i]._left : bonds[i]._right);\n    }\n  }\n\n  forEachLevelOne(process) {\n    const left = this._left;\n    const right = this._right;\n    this._forEachNeighbour(left, (atom) => {\n      if (atom === right) {\n        return;\n      }\n      process(atom);\n    });\n    this._forEachNeighbour(right, (atom) => {\n      if (atom === left) {\n        return;\n      }\n      process(atom);\n    });\n  }\n\n  forEachLevelTwo(process) {\n    // TODO refactor this piece of an art?\n    const left = this._left;\n    const right = this._right;\n    const self = this;\n    self._forEachNeighbour(left, (atom) => {\n      if (atom === right) {\n        return;\n      }\n      self._forEachNeighbour(atom, (l2Atom) => {\n        if (l2Atom === left) {\n          return;\n        }\n        process(l2Atom);\n      });\n    });\n    self._forEachNeighbour(right, (atom) => {\n      if (atom === left) {\n        return;\n      }\n      self._forEachNeighbour(atom, (l2Atom) => {\n        if (l2Atom === right) {\n          return;\n        }\n        process(l2Atom);\n      });\n    });\n  }\n\n  _fixDir(refPoint, currDir, posGetter) {\n    // count atoms to the right and to the left of the current plane\n    let rightCount = 0;\n    let leftCount = 0;\n    const tmpVec = refPoint.clone();\n    function checkDir(atom) {\n      tmpVec.copy(posGetter(atom));\n      tmpVec.sub(refPoint);\n      const dotProd = currDir.dot(tmpVec);\n      if (dotProd > 0) {\n        ++rightCount;\n      } else {\n        ++leftCount;\n      }\n    }\n    function checkCarbon(atom) {\n      if (atom.element.name === 'C') {\n        checkDir(atom);\n      }\n    }\n    // count all atoms to the left and right of our plane, start from level 1 and carbons\n    const stages = [\n      [this.forEachLevelOne, checkCarbon],\n      [this.forEachLevelOne, checkDir],\n      [this.forEachLevelTwo, checkCarbon],\n      [this.forEachLevelTwo, checkDir],\n    ];\n\n    for (let stageId = 0; stageId < stages.length; ++stageId) {\n      stages[stageId][0].call(this, stages[stageId][1]);\n      if (leftCount > rightCount) {\n        return currDir.multiplyScalar(-1);\n      }\n      if (leftCount < rightCount) {\n        return currDir;\n      }\n    }\n    return currDir;\n  }\n\n  calcNormalDir(posGetter) {\n    const left = this._left;\n    const right = this._right;\n    let first = left;\n    let second = right;\n    posGetter = posGetter === undefined ? getAtomPos : posGetter;\n    if (left.bonds.length > right.bonds.length) {\n      first = right;\n      second = left;\n    }\n    let third = first;\n    let maxNeibs = 0;\n    const { bonds } = second;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      let another = bonds[i]._left;\n      if (bonds[i]._left === second) {\n        another = bonds[i]._right;\n      }\n      if (another.bonds.length > maxNeibs && another !== first) {\n        third = another;\n        maxNeibs = another.bonds.length;\n      }\n    }\n    const secondPos = posGetter(second);\n    const firstV = posGetter(first).clone().sub(secondPos);\n    const secondV = posGetter(third).clone().sub(secondPos);\n    secondV.crossVectors(firstV, secondV);\n    if (secondV.lengthSq() < 0.0001) {\n      secondV.set(0, 1, 0);\n    }\n    firstV.normalize();\n    secondV.normalize();\n    firstV.crossVectors(secondV, firstV);\n    if (firstV.lengthSq() < 0.0001) {\n      firstV.set(0, 1, 0);\n    }\n    firstV.normalize();\n    return this._fixDir(secondPos, firstV, posGetter);\n  }\n\n  static BondType = cBondTypes;\n}\n\nBond.prototype.BondType = cBondTypes;\n\nexport default Bond;\n","import * as THREE from 'three';\nimport Atom from './Atom';\nimport Element from './Element';\n\nconst cNucleicControlNames = ['C3\\'', 'C3*', 'P', 'H5T', 'H3T'];\nconst cNucleicWing1Names = ['OP1', 'O1P'];\nconst cNucleicWing2Names = ['OP2', 'O2P'];\n\nconst cCylinderSource = ['C3\\'', 'C3*', 'C1', 'C1\\'', 'C1*', 'P'];\nconst cCylinderTarget = [{\n  types: ['A', 'DA', 'G', 'DG'],\n  atoms: ['N1'],\n}, {\n  types: ['C', 'DC'],\n  atoms: ['N3'],\n}, {\n  types: ['T', 'DT', 'U', 'DU'],\n  atoms: ['O4'],\n}];\n\n/**\n * Residue instance.\n *\n * @param {Chain} chain      - Chain this residue belongs to.\n * @param {ResidueType} type - Generic residue instance type.\n * @param {number} sequence  - Sequence ID.\n * @param {string} icode     - One character insertion code (usually space or A-Z).\n *\n * @exports Residue\n * @constructor\n */\nclass Residue {\n  constructor(chain, type, sequence, icode) {\n    this._chain = chain;\n    this._component = null;\n    this._type = type;\n    this._sequence = sequence;\n    this._icode = icode;\n    this._mask = 1 | 0;\n    this._index = -1;\n\n    this._atoms = [];\n    this._secondary = null;\n    this._firstAtom = null;\n    this._leadAtom = null;\n    this._wingAtom = null;\n    this._lastAtom = null;\n    this._controlPoint = null;\n    this._midPoint = null;\n    this._wingVector = null;\n    this._cylinders = null;\n    this._isValid = true;\n    this._het = false;\n    this._molecule = null;\n    this.temperature = null;\n    this.occupancy = null;\n  }\n\n  // Getters and setters\n  getChain() {\n    return this._chain;\n  }\n\n  getMolecule() {\n    return this._molecule;\n  }\n\n  getType() {\n    return this._type;\n  }\n\n  getSequence() {\n    return this._sequence;\n  }\n\n  getSecondary() {\n    return this._secondary;\n  }\n\n  getICode() {\n    return this._icode;\n  }\n\n  // Other methods\n\n  addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge) {\n    const atom = new Atom(this, name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n    const complex = this._chain.getComplex();\n    complex.addAtom(atom);\n    this._atoms.push(atom);\n    this._het = this._het || het;\n    return atom;\n  }\n\n  getAtomCount() {\n    return this._atoms.length;\n  }\n\n  forEachAtom(process) {\n    const atoms = this._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      if (process(atoms[i])) {\n        break;\n      }\n    }\n  }\n\n  _findAtomByName(name) {\n    let res = null;\n    this.forEachAtom((atom) => {\n      if (atom.name === name) {\n        res = atom;\n        return true;\n      }\n      return false;\n    });\n    return res;\n  }\n\n  _findFirstAtomInList(names) {\n    let res = null;\n    for (let i = 0; i < names.length; ++i) {\n      res = this._findAtomByName(names[i]);\n      if (res !== null) {\n        return res;\n      }\n    }\n    return res;\n  }\n\n  collectMask() {\n    let mask = 0xffffffff;\n    const atoms = this._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      mask &= atoms[i].mask;\n    }\n    this._mask = mask;\n  }\n\n  getCylinderTargetList() {\n    const type = this._type._name;\n    for (let i = 0, n = cCylinderTarget.length; i < n; ++i) {\n      for (let j = 0, m = cCylinderTarget[i].types.length; j < m; ++j) {\n        if (type === cCylinderTarget[i].types[j]) {\n          return cCylinderTarget[i].atoms;\n        }\n      }\n    }\n    return null;\n  }\n\n  _detectLeadWing(dst, next, getAtomPosition) {\n    const leadAtom = this._findFirstAtomInList(cNucleicControlNames);\n    let wingStart = this._findFirstAtomInList(cNucleicWing1Names);\n    let wingEnd = this._findFirstAtomInList(cNucleicWing2Names);\n\n    if (wingStart === null && next !== null) {\n      wingStart = next._findFirstAtomInList(cNucleicWing1Names);\n    }\n\n    if (wingEnd === null && next !== null) {\n      wingEnd = next._findFirstAtomInList(cNucleicWing2Names);\n    }\n\n    if (leadAtom === null || wingStart === null || wingEnd === null) {\n      return;\n    }\n\n    dst._leadAtom = leadAtom;\n    dst._controlPoint = getAtomPosition(leadAtom);\n    dst._wingVector = getAtomPosition(wingEnd).clone().sub(getAtomPosition(wingStart));\n    dst._isValid = true;\n\n    const cylSource = this._findFirstAtomInList(cCylinderSource);\n    const targetList = this.getCylinderTargetList();\n    const cylTarget = targetList !== null ? this._findFirstAtomInList(targetList) : null;\n    if (cylSource === null || cylTarget === null) {\n      return;\n    }\n    dst._cylinders = [getAtomPosition(cylSource), getAtomPosition(cylTarget)];\n  }\n\n  calcWing(prevLeadPos, currLeadPos, prevWingPos, prevWing) {\n    const vectorA = currLeadPos.clone().sub(prevLeadPos);\n    const vectorB = prevLeadPos.clone().sub(prevWingPos);\n    vectorB.crossVectors(vectorA, vectorB);\n    vectorB.crossVectors(vectorA, vectorB).normalize();\n    if (prevWing !== null && prevWing.length() > 0.0001) {\n      const needToNegate = vectorB.length() > 0.0001 && Math.abs(prevWing.angleTo(vectorB)) > Math.PI / 2;\n      if (needToNegate) {\n        vectorB.negate();\n      }\n    }\n    return vectorB;\n  }\n\n  _innerFinalize(prevRes, prev, nextRes, dst, chainAsNucleic, getAtomPosition) {\n    const bFirstInChain = prev === null;\n\n    const lp = getAtomPosition(this._leadAtom);\n    const currLeadPos = new THREE.Vector3(lp.x, lp.y, lp.z);\n    if (chainAsNucleic) {\n      this._detectLeadWing(dst, nextRes, getAtomPosition);\n      return;\n    }\n\n    if (bFirstInChain) { // for first one in chain\n      dst._midPoint = getAtomPosition(this._firstAtom).clone();\n    } else {\n      const prevLeadPos = prev._controlPoint; // lead point of previous monomer\n      dst._midPoint = prevLeadPos.clone().lerp(currLeadPos, 0.5);\n      dst._wingVector = this.calcWing(prevLeadPos, currLeadPos, getAtomPosition(prevRes._wingAtom), prev._wingVector);\n    }\n    dst._controlPoint = currLeadPos;\n  }\n\n  _finalize2(prev, next, asNucleic) {\n    // Should be called AFTER first finalize\n    this._innerFinalize(prev, prev, next, this, asNucleic, (atom) => atom.position);\n  }\n\n  isConnected(anotherResidue) {\n    if (this._chain !== anotherResidue._chain) {\n      return false;\n    }\n    if (this === anotherResidue) {\n      return true;\n    }\n    let res = false;\n    this.forEachAtom((atom) => {\n      const { bonds } = atom;\n      for (let i = 0, n = bonds.length; i < n; ++i) {\n        const bond = bonds[i];\n        if (bond._left.residue === anotherResidue || bond._right.residue === anotherResidue) {\n          res = true;\n          return true;\n        }\n      }\n      return false;\n    });\n    return res;\n  }\n\n  _finalize() {\n    const self = this;\n    [this._firstAtom] = this._atoms;\n    this._lastAtom = this._atoms[this._atoms.length - 1];\n\n    this._leadAtom = null;\n    this._wingAtom = null;\n\n    let tempCount = 0;\n    let temperature = 0; // average temperature\n    let occupCount = 0;\n    let occupancy = 0; // average occupancy\n    this.forEachAtom((a) => {\n      if (self._leadAtom === null) {\n        if (a.role === Element.Constants.Lead) {\n          self._leadAtom = a;\n        }\n      }\n      if (self._wingAtom === null) {\n        if (a.role === Element.Constants.Wing) {\n          self._wingAtom = a;\n        }\n      }\n      if (a.temperature) {\n        temperature += a.temperature;\n        tempCount++;\n      }\n      if (a.occupancy) {\n        occupancy += a.occupancy;\n        occupCount++;\n      }\n      return (self._leadAtom !== null && self._wingAtom !== null);\n    });\n\n    if (tempCount > 0) {\n      this.temperature = temperature / tempCount;\n    }\n    if (occupCount > 0) {\n      this.occupancy = occupancy / occupCount;\n    }\n\n    // Still try to make monomer look valid\n    if (this._leadAtom === null || this._wingAtom === null) {\n      this._isValid = false;\n    }\n    if (this._leadAtom === null) {\n      this._leadAtom = this._firstAtom;\n    }\n    if (this._wingAtom === null) {\n      this._wingAtom = this._lastAtom;\n    }\n  }\n}\n\nexport default Residue;\n","/**\n * Residue type.\n *\n * Predefined acid or created with HET, HETNAM, etc.\n *\n * @param {string} name            - Short name, either standard (ALA, MET, etc.) or non-standard one.\n * @param {string} fullName        - Full residue name.\n * @param {string} letterCode      - 1-letter symbol.\n *\n * @exports ResidueType\n * @constructor\n */\nclass ResidueType {\n  constructor(name, fullName, letterCode) {\n    this._name = name;\n    this._fullName = fullName;\n    this.letterCode = letterCode;\n    this.flags = 0x0000;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  // DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\n  static StandardTypes = {\n    /* eslint-disable no-magic-numbers */\n    ALA: new ResidueType('ALA', 'Alanine', 'A'),\n    ARG: new ResidueType('ARG', 'Arginine', 'R'),\n    ASN: new ResidueType('ASN', 'Asparagine', 'N'),\n    ASP: new ResidueType('ASP', 'Aspartic Acid', 'D'),\n    CYS: new ResidueType('CYS', 'Cysteine', 'C'),\n    GLN: new ResidueType('GLN', 'Glutamine', 'Q'),\n    GLU: new ResidueType('GLU', 'Glutamic Acid', 'E'),\n    GLY: new ResidueType('GLY', 'Glycine', 'G'),\n    HIS: new ResidueType('HIS', 'Histidine', 'H'),\n    ILE: new ResidueType('ILE', 'Isoleucine', 'I'),\n    LEU: new ResidueType('LEU', 'Leucine', 'L'),\n    LYS: new ResidueType('LYS', 'Lysine', 'K'),\n    MET: new ResidueType('MET', 'Methionine', 'M'),\n    PHE: new ResidueType('PHE', 'Phenylalanine', 'F'),\n    PRO: new ResidueType('PRO', 'Proline', 'P'),\n    PYL: new ResidueType('PYL', 'Pyrrolysine', 'O'),\n    SEC: new ResidueType('SEC', 'Selenocysteine', 'U'),\n    SER: new ResidueType('SER', 'Serine', 'S'),\n    THR: new ResidueType('THR', 'Threonine', 'T'),\n    TRP: new ResidueType('TRP', 'Tryptophan', 'W'),\n    TYR: new ResidueType('TYR', 'Tyrosine', 'Y'),\n    VAL: new ResidueType('VAL', 'Valine', 'V'),\n    A: new ResidueType('A', 'Adenine', 'A'),\n    C: new ResidueType('C', 'Cytosine', 'C'),\n    G: new ResidueType('G', 'Guanine', 'G'),\n    I: new ResidueType('I', 'Inosine', 'I'),\n    T: new ResidueType('T', 'Thymine', 'T'),\n    U: new ResidueType('U', 'Uracil', 'U'),\n    DA: new ResidueType('DA', 'Adenine', 'A'),\n    DC: new ResidueType('DC', 'Cytosine', 'C'),\n    DG: new ResidueType('DG', 'Guanine', 'G'),\n    DI: new ResidueType('DI', 'Inosine', 'I'),\n    DT: new ResidueType('DT', 'Thymine', 'T'),\n    DU: new ResidueType('DU', 'Uracil', 'U'),\n    '+A': new ResidueType('+A', 'Adenine', 'A'),\n    '+C': new ResidueType('+C', 'Cytosine', 'C'),\n    '+G': new ResidueType('+G', 'Guanine', 'G'),\n    '+I': new ResidueType('+I', 'Inosine', 'I'),\n    '+T': new ResidueType('+T', 'Thymine', 'T'),\n    '+U': new ResidueType('+U', 'Uracil', 'U'),\n    WAT: new ResidueType('WAT', 'Water', ''),\n    H2O: new ResidueType('H2O', 'Water', ''),\n    HOH: new ResidueType('HOH', 'Water', ''),\n    DOD: new ResidueType('DOD', 'Water', ''),\n    UNK: new ResidueType('UNK', 'Unknown', ''),\n    UNL: new ResidueType('UNL', 'Unknown Ligand', ''),\n    /* eslint-enable no-magic-numbers */\n  };\n\n  /**\n   * Enumeration of residue flag values.\n   *\n   * @enum {number}\n   * @readonly\n   */\n  static Flags = {\n    // Amino acids\n    /** Amino acid residue */\n    PROTEIN: 0x0001,\n    /** Basic amino acid residue */\n    BASIC: 0x0002,\n    /** Acidic amino acid residue */\n    ACIDIC: 0x0004,\n    /** Polar uncharged side chain amino acid residue */\n    POLAR: 0x0008,\n    /** Non-polar hydrophobic side chain amino acid residue */\n    NONPOLAR: 0x0010,\n    /** Aromatic amino acid residue */\n    AROMATIC: 0x0020,\n\n    // Nucleic acids\n\n    /** Nucleic residue */\n    NUCLEIC: 0x0100,\n    /** Purine nucleic residue */\n    PURINE: 0x0200,\n    /** Pyrimidine nucleic residue */\n    PYRIMIDINE: 0x0400,\n    /** DNA */\n    DNA: 0x0800,\n    /** RNA */\n    RNA: 0x1000,\n\n    /** Water */\n    WATER: 0x10000,\n  };\n}\n\n// Flag combinations\nfunction _addFlag(flag, list) {\n  for (let i = 0, n = list.length; i < n; ++i) {\n    const res = ResidueType.StandardTypes[list[i]];\n    if (res) {\n      res.flags |= flag;\n    }\n  }\n}\n\nconst { Flags } = ResidueType;\n_addFlag(Flags.WATER, ['WAT', 'H2O', 'HOH', 'DOD']);\n\n_addFlag(Flags.PROTEIN, [\n  'ALA', 'ARG', 'ASN', 'ASP', 'CYS', 'GLY', 'GLU', 'GLN', 'HIS', 'ILE',\n  'LEU', 'LYS', 'MET', 'PHE', 'PRO', 'PYL', 'SEC', 'SER', 'THR', 'TRP',\n  'TYR', 'VAL',\n]);\n_addFlag(Flags.BASIC, ['ARG', 'HIS', 'LYS']);\n_addFlag(Flags.ACIDIC, ['ASP', 'GLU']);\n_addFlag(Flags.POLAR, ['ASN', 'CYS', 'GLN', 'SER', 'THR', 'TYR']);\n_addFlag(Flags.NONPOLAR, ['ALA', 'ILE', 'LEU', 'MET', 'PHE', 'PRO', 'TRP', 'VAL', 'GLY']);\n_addFlag(Flags.AROMATIC, ['PHE', 'TRP', 'TYR']);\n\n_addFlag(Flags.NUCLEIC, [\n  'A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I',\n  'C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U',\n]);\n_addFlag(Flags.PURINE, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I']);\n_addFlag(Flags.PYRIMIDINE, ['C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U']);\n_addFlag(Flags.DNA, ['DA', 'DG', 'DI', 'DC', 'DT', 'DU']);\n_addFlag(Flags.RNA, ['A', 'G', 'I', 'C', 'T', 'U']);\n// Table of kdHydrophobicity\nconst hydro = {\n  ILE: 4.5,\n  VAL: 4.2,\n  LEU: 3.8,\n  PHE: 2.8,\n  CYS: 2.5,\n  MET: 1.9,\n  ALA: 1.8,\n  GLY: -0.4,\n  THR: -0.7,\n  SER: -0.8,\n  TRP: -0.9,\n  TYR: -1.3,\n  PRO: -1.6,\n  HIS: -3.2,\n  GLU: -3.5,\n  GLN: -3.5,\n  ASP: -3.5,\n  ASN: -3.5,\n  LYS: -3.9,\n  ARG: -4.5,\n};\n\nfunction _addParam(param, list) {\n  const keys = Object.keys(list);\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const key = keys[i];\n    const value = list[key];\n    ResidueType.StandardTypes[key][param] = value;\n  }\n}\n\n_addParam('hydrophobicity', hydro);\n\nexport default ResidueType;\n","import * as THREE from 'three';\nimport Residue from './Residue';\nimport ResidueType from './ResidueType';\n\n/**\n * Residues in chain are either amino acid either nucleic acid (and water)\n * There might be some modified/mutated residues, which type could not be determined by their name (nucleic or amino); In this\n * case firstly program definites the chain type (by well-known residues) and then definites modified/mutated residues\n */\nconst ChainType = {\n  UNKNOWN: 0,\n  PROTEIN: 1,\n  NUCLEIC: 2,\n};\n\n/**\n * Residue chain.\n *\n * @param {Complex} complex - Molecular complex this chain belongs to.\n * @param {string} name - One character identifier (usually space, A-Z, 0-9, or a-z).\n *\n * @exports Chain\n * @constructor\n */\nclass Chain {\n  constructor(complex, name) {\n    this._complex = complex;\n    this._name = name;\n    this._mask = 1 | 0;\n    this._index = -1;\n    this._residues = [];\n\n    this.minSequence = Number.POSITIVE_INFINITY;\n    this.maxSequence = Number.NEGATIVE_INFINITY;\n  }\n\n  getComplex() {\n    return this._complex;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  getResidues() {\n    return this._residues;\n  }\n\n  _determineType() {\n    const residues = this._residues;\n\n    const { PROTEIN, NUCLEIC } = ResidueType.Flags;\n\n    this.type = ChainType.UNKNOWN;\n\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const { flags } = residues[i]._type;\n\n      if ((flags & NUCLEIC) !== 0) {\n        this.type = ChainType.NUCLEIC;\n        break;\n      } else if ((flags & PROTEIN) !== 0) {\n        this.type = ChainType.PROTEIN;\n        break;\n      }\n    }\n  }\n\n  /**\n   * Finds thre residue with specified sequence number and inserion code\n   * @param {Number} seqNum sequence number\n   * @param {string} iCode insertion code\n   * @returns {*} Residue or null if not found\n   */\n  findResidue(seqNum, iCode) {\n    const residues = this._residues;\n\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const res = residues[i];\n      if (res._sequence === seqNum && res._icode === iCode) {\n        return [res, i];\n      }\n    }\n\n    return null;\n  }\n\n  _finalize() {\n    this._determineType();\n\n    const residues = this._residues;\n\n    let prev = null;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      const next = (i + 1 < n) ? residues[i + 1] : null;\n      const curr = residues[i];\n      // TODO: skip invalid residues\n      if (1 /* curr._isValid */) { // eslint-disable-line no-constant-condition\n        curr._finalize2(prev, next, this.type === ChainType.NUCLEIC);\n        prev = curr;\n      }\n    }\n\n    // fix very first wing\n    if (residues.length > 1 && residues[1]._wingVector) {\n      const p = residues[1]._wingVector;\n      residues[0]._wingVector = new THREE.Vector3(p.x, p.y, p.z);\n    } else if (residues.length > 0) {\n      residues[0]._wingVector = new THREE.Vector3(1, 0, 0);\n    }\n  }\n\n  updateToFrame(frameData) {\n    const residues = this._residues;\n    let prev = null;\n    let prevData = null;\n    const frameRes = frameData._residues;\n    const n = residues.length;\n    function getAtomPos(atom) {\n      return frameData.getAtomPos(atom.index);\n    }\n\n    for (let i = 0; i < n; ++i) {\n      const curr = residues[i];\n      const currData = frameRes[curr._index];\n      const nextRes = (i + 1 < n) ? residues[i + 1] : null;\n      curr._innerFinalize(prev, prevData, nextRes, currData, this.type === ChainType.NUCLEIC, getAtomPos);\n      prev = curr;\n      prevData = currData;\n    }\n\n    frameRes[residues[0]._index]._wingVector = n > 1\n      ? frameRes[residues[1]._index]._wingVector\n      : new THREE.Vector3(1, 0, 0);\n  }\n\n  /**\n   * Create a new residue.\n   *\n   * @param {string} name - Residue name.\n   * @param {number} sequence - Residue sequence number.\n   * @param {string} iCode - Insertion code.\n   * @returns {Residue} - Newly created residue instance.\n   */\n  addResidue(name, sequence, iCode) {\n    let type = this._complex.getResidueType(name);\n    if (type === null) {\n      type = this._complex.addResidueType(name);\n    }\n    const residue = new Residue(this, type, sequence, iCode);\n    this._complex.addResidue(residue);\n    this._residues.push(residue);\n\n    if (type.flags & (ResidueType.Flags.NUCLEIC | ResidueType.Flags.PROTEIN)) {\n      if (this.maxSequence < sequence) {\n        this.maxSequence = sequence;\n      }\n      if (this.minSequence > sequence) {\n        this.minSequence = sequence;\n      }\n    }\n\n    return residue;\n  }\n\n  getResidueCount() {\n    return this._residues.length;\n  }\n\n  forEachResidue(process) {\n    const residues = this._residues;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i]);\n    }\n  }\n\n  collectMask() {\n    let mask = 0xffffffff;\n    const residues = this._residues;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      mask &= residues[i]._mask;\n    }\n    this._mask = mask;\n  }\n}\n\nexport default Chain;\n","import Residue from './Residue';\n\n/** An element of protein secondary structure. */\nclass StructuralElement {\n  /**\n   * Create a secondary structural element of the specified type.\n   *\n   * @param {StructuralElement.Type} type Secondary structure type.\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   */\n  constructor(type, init, term) {\n    /**\n     * Secondary structure type.\n     * @type {StructuralElement.Type}\n     */\n    this.type = type;\n    /**\n     * Generic secondary structure type.\n     * @type {StructuralElement.Generic}\n     */\n    this.generic = StructuralElement.genericByType[this.type] || 'loop';\n    /**\n     * Initial residue.\n     * @type Residue\n     */\n    this.init = init;\n    /**\n     * Terminal residue.\n     * @type Residue\n     */\n    this.term = term;\n  }\n\n  /**\n   * An internal method for making a final pass over the complex to set all required references.\n   *\n   * **NOTE:** I'm sorry. It's a legacy code waiting for refactoring.\n   * Just copying it as-is right now and hoping for the best.\n   *\n   * @param {object} serialAtomMap A dictionary of atoms\n   * @param {object} residueHash A dictionary of hashed residues to check.\n   * @param {Complex} complex The molecular complex this element belongs to.\n   */\n  _finalize(serialAtomMap, residueHash, complex) {\n    if (this.init instanceof Residue && this.term instanceof Residue) {\n      return;\n    }\n\n    // Link all intermediate residues to this structural element\n    const start = complex.splitUnifiedSerial(this.init);\n    const end = complex.splitUnifiedSerial(this.term);\n    for (let chainId = start.chain; chainId <= end.chain; chainId++) {\n      for (let serialId = start.serial; serialId <= end.serial; serialId++) {\n        for (let { iCode } = start; iCode <= end.iCode; iCode++) {\n          const hashCode = complex.getUnifiedSerial(chainId, serialId, iCode);\n          if (residueHash[hashCode]) {\n            residueHash[hashCode]._secondary = this;\n          }\n        }\n      }\n    }\n\n    // Replace unfined serials by objects\n    this.init = residueHash[this.init];\n    this.term = residueHash[this.term];\n  }\n}\n\n/**\n * Specific type of a secondary structural element.\n * @enum {string}\n * @see StructuralElement.Generic\n */\nStructuralElement.Type = {\n  /** A strand of a [beta-sheet](https://en.wikipedia.org/wiki/Beta_sheet). */\n  STRAND: 'E',\n  /** An isolated beta-bridge (too small for a beta-sheet). */\n  BRIDGE: 'B',\n\n  /** A [3/10 helix](https://en.wikipedia.org/wiki/310_helix) (hydrogen bonding is 3 residues apart). */\n  HELIX_310: 'G',\n  /** An [alpha-helix](https://en.wikipedia.org/wiki/Alpha_helix) (hydrogen bonding is 4 residues apart). */\n  HELIX_ALPHA: 'H',\n  /** A [pi-helix](https://en.wikipedia.org/wiki/Pi_helix) (hydrogen bonding is 5 residues apart). */\n  HELIX_PI: 'I',\n  /** A generic helix of unspecified bonding distance. */\n  HELIX: 'X',\n\n  /** An isolated 3/10-like helical turn. */\n  TURN_310: '3',\n  /** An isolated alpha-like helical turn. */\n  TURN_ALPHA: '4',\n  /** An isolated pi-like helical turn. */\n  TURN_PI: '5',\n  /** An isolated helical [turn](https://en.wikipedia.org/wiki/Turn_(biochemistry)) of unspecified bonding distance. */\n  TURN: 'T',\n\n  /** A bend (a region of high curvature). */\n  BEND: 'S',\n  /** Just a protein section with no particular conformation. */\n  COIL: 'C',\n};\n\n/**\n * Generic type of a secondary structural element.\n * @enum {string}\n * @see StructuralElement.Type\n */\nStructuralElement.Generic = {\n  /** A strand of a sheet. */\n  STRAND: 'strand',\n  /** A helix. */\n  HELIX: 'helix',\n  /** Just a protein section with no particular conformation. */\n  LOOP: 'loop',\n};\n\nconst StructuralElementType = StructuralElement.Type;\nconst StructuralElementGeneric = StructuralElement.Generic;\n\n/**\n * A mapping from specific types to generic ones.\n * @type {Object<StructuralElement.Type, StructuralElement.Generic>}\n */\nStructuralElement.genericByType = {\n  [StructuralElementType.STRAND]: StructuralElementGeneric.STRAND,\n  [StructuralElementType.HELIX_310]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX_ALPHA]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX_PI]: StructuralElementGeneric.HELIX,\n  [StructuralElementType.HELIX]: StructuralElementGeneric.HELIX,\n};\n\nexport default StructuralElement;\n","import StructuralElement from './StructuralElement';\n\nconst StructuralElementType = StructuralElement.Type;\n\nexport const typeByPDBHelixClass = {\n  1: StructuralElementType.HELIX_ALPHA,\n  3: StructuralElementType.HELIX_PI,\n  5: StructuralElementType.HELIX_310,\n};\n\n/**\n * Helical secondary structure of a protein.\n * @extends StructuralElement\n */\nclass Helix extends StructuralElement {\n  /**\n   * Create a helix.\n   *\n   * @param {number} helixClass A helix class according to the\n   *   [PDB Format](http://www.wwpdb.org/documentation/file-format-content/format33/sect5.html#HELIX).\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   * @param {number} serial Serial number of the helix (see PDB Format).\n   * @param {string} name Helix identifier (see PDB Format).\n   * @param {string} comment Comment about this helix (see PDB Format).\n   * @param {number} length Length of this helix, in residues (see PDB Format).\n   */\n  constructor(helixClass, init, term, serial, name, comment, length) {\n    super(typeByPDBHelixClass[helixClass] || StructuralElement.Type.HELIX, init, term);\n\n    /**\n     * Serial number of the helix (see PDB Format).\n     * @type {number}\n     */\n    this.serial = serial;\n    /**\n     * Helix identifier (see PDB Format).\n     * @type {string}\n     */\n    this.name = name;\n    /**\n     * Comment about this helix (see PDB Format).\n     * @type {string}\n     */\n    this.comment = comment;\n    /**\n     * Length of this helix, in residues (see PDB Format).\n     * @type {number}\n     */\n    this.length = length;\n  }\n}\n\nexport default Helix;\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import StructuralElement from './StructuralElement';\n\n/**\n * A single strand of a sheet in a protein secondary structure.\n * @extends StructuralElement\n */\nclass Strand extends StructuralElement {\n  /**\n   * Create a strand.\n   *\n   * @param {Sheet} sheet Parent sheet this strand belongs to.\n   * @param {Residue} init Initial residue.\n   * @param {Residue} term Terminal residue.\n   * @param {number} sense Sense of strand with respect to previous strand in the sheet.\n   *   - 0 if the first strand,\n   *   - 1 if parallel, and\n   *   - -1 if anti-parallel.\n   * @param {Atom} atomCur Atom in current strand (see PDB Format).\n   * @param {Atom} atomPrev Atom in previous strand (see PDB Format).\n   */\n  constructor(sheet, init, term, sense, atomCur, atomPrev) {\n    super(StructuralElement.Type.STRAND, init, term);\n\n    /**\n     * Parent sheet this strand belongs to.\n     * @type {Sheet}\n     */\n    this.sheet = sheet;\n    /**\n     * Sense of strand with respect to previous strand in the sheet.\n     * - 0 if the first strand,\n     * - 1 if parallel, and\n     * - -1 if anti-parallel.\n     * @type {number}\n     */\n    this.sense = sense;\n    /**\n     * Atom in current strand (see PDB Format).\n     * @type {Atom}\n     */\n    this.atomCur = atomCur;\n    /**\n     * Atom in previous strand (see PDB Format).\n     * @type {Atom}\n     */\n    this.atomPrev = atomPrev;\n  }\n\n  /**\n   * An internal method for making a final pass over the complex to set all required references.\n   *\n   * **NOTE:** I'm sorry. It's a legacy code waiting for refactoring.\n   * Just copying it as-is right now and hoping for the best.\n   *\n   * @param {object} serialAtomMap A dictionary of atoms\n   * @param {object} residueHash A dictionary of hashed residues to check.\n   * @param {Complex} complex The molecular complex this element belongs to.\n   *\n   * @override\n   */\n  _finalize(serialAtomMap, residueHash, complex) {\n    super._finalize(serialAtomMap, residueHash, complex);\n\n    let as = this.atomCur;\n    if (as !== null && !Number.isNaN(as)) {\n      this.atomCur = serialAtomMap[as];\n    }\n    as = this.atomPrev;\n    if (as !== null && !Number.isNaN(as)) {\n      this.atomPrev = serialAtomMap[as];\n    }\n  }\n}\n\nexport default Strand;\n","import Strand from './Strand';\n\n/**\n * Sheet secondary structure of a protein.\n *\n * @param {string} name -\n * @param {number} width -\n *\n * @exports Sheet\n * @constructor\n */\nclass Sheet {\n  constructor(name, width) {\n    this._name = name;\n    this._width = width;\n\n    this._strands = [];\n  }\n\n  // Getters and setters\n  getName() {\n    return this._name;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  addStrand(strand) {\n    this._strands.push(strand);\n    this._width = this._strands.length;\n  }\n\n  addEmptyStrand() {\n    this._strands.push(new Strand(null, null, null, null, null, null));\n  }\n\n  _finalize(serialAtomMap, residueHash, complex) {\n    const s = this._strands;\n    for (let i = 0, n = s.length; i < n; ++i) {\n      s[i]._finalize(serialAtomMap, residueHash, complex);\n    }\n    if (!this._width) {\n      this._width = s.length;\n    }\n    if (s.length !== this._width) {\n      throw new Error(`Sheet ${this._name} is inconsistent.`);\n    }\n  }\n}\n\nexport default Sheet;\n","import * as THREE from 'three';\n\n/**\n * Atom measurements.\n *\n * @param {string} id              - SGroup id\n * @param {string} name            - Name of the group\n * @param {THREE.Vector3} position - Registered coordinates\n * @param {array} atoms            - Atoms group consists of\n * @param {object} saveNode        - XML node from file for saving\n *\n * @exports SGroup\n * @constructor\n */\nclass SGroup {\n  constructor(id, name, position, atoms, saveNode) {\n    this._id = id;\n    this._name = name;\n    this._position = position || new THREE.Vector3();\n    this._atoms = atoms || [];\n    this._charge = 0; // default group charge\n    this._repeat = 1; // how many times group repeated: always > 0\n    this._center = null;\n    this.xmlNodeRef = saveNode || null;\n  }\n\n  /**\n   * Get atom full name.\n   * @returns {string} Atom full name.\n   */\n  getName() {\n    return this._name;\n  }\n\n  getPosition() {\n    return this._position;\n  }\n\n  getCentralPoint() {\n    return this._center;\n  }\n\n  _rebuildSGroupOnAtomChange() {\n    const nLimon = 100000000;\n    if (this._center === null) {\n      return; // nothing to do if we are not relative\n    }\n\n    const bLow = new THREE.Vector3(nLimon, nLimon, nLimon);\n    const bHight = new THREE.Vector3(-nLimon, -nLimon, -nLimon);\n    for (let j = 0, n = this._atoms.length; j < n; j++) {\n      const aPos = this._atoms[j].position;\n      bLow.set(Math.min(bLow.x, aPos.x), Math.min(bLow.y, aPos.y), Math.min(bLow.z, aPos.z));\n      bHight.set(Math.max(bHight.x, aPos.x), Math.max(bHight.y, aPos.y), Math.max(bHight.z, aPos.z));\n    }\n    this._center.addVectors(bLow, bHight);\n    this._center.multiplyScalar(0.5);\n  }\n}\n\nexport default SGroup;\n","/* eslint-disable */\n// DO NOT EDIT! Automatically generated from .jison\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,4],$V1=[1,5],$V2=[1,6],$V3=[1,7],$V4=[1,8],$V5=[1,9],$V6=[1,11],$V7=[1,12],$V8=[5,7,8,11],$V9=[1,17],$Va=[1,22],$Vb=[1,20],$Vc=[1,21],$Vd=[5,7,8,11,19];\nvar parser = {trace: function trace() { },\nyy: {},\nsymbols_: {\"error\":2,\"Program\":3,\"Expression\":4,\"EOF\":5,\"Selector\":6,\"OR\":7,\"AND\":8,\"NOT\":9,\"(\":10,\")\":11,\"SELECTOR\":12,\"NAMED_SELECTOR\":13,\"SELECTOR_RANGED\":14,\"RangeList\":15,\"SELECTOR_NAMED\":16,\"NameList\":17,\"Range\":18,\",\":19,\"NUMBER\":20,\":\":21,\"Name\":22,\"IDENTIFIER\":23,\"STRING\":24,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",7:\"OR\",8:\"AND\",9:\"NOT\",10:\"(\",11:\")\",12:\"SELECTOR\",13:\"NAMED_SELECTOR\",14:\"SELECTOR_RANGED\",16:\"SELECTOR_NAMED\",19:\",\",20:\"NUMBER\",21:\":\",23:\"IDENTIFIER\",24:\"STRING\"},\nproductions_: [0,[3,2],[4,1],[4,3],[4,3],[4,2],[4,3],[6,1],[6,1],[6,2],[6,2],[15,1],[15,3],[18,1],[18,3],[17,1],[17,3],[22,1],[22,1],[22,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 3:\nthis.$ = yy.keyword('or')($$[$0-2], $$[$0]);\nbreak;\ncase 4:\nthis.$ = yy.keyword('and')($$[$0-2], $$[$0]);\nbreak;\ncase 5:\nthis.$ = yy.keyword('not')($$[$0]);\nbreak;\ncase 6:\nthis.$ = $$[$0-1];\nbreak;\ncase 7:\nthis.$ = yy.keyword($$[$0])();\nbreak;\ncase 8:\nthis.$ = yy.GetSelector($$[$0].toLowerCase().slice(1, $$[$0].length));\nbreak;\ncase 9: case 10:\nthis.$ = yy.keyword($$[$0-1])($$[$0]);\nbreak;\ncase 11:\nthis.$ = new yy.RangeList($$[$0]);\nbreak;\ncase 12: case 16:\nthis.$ = $$[$0-2].append($$[$0]);\nbreak;\ncase 13:\nthis.$ = new yy.Range(Number($$[$0]));\nbreak;\ncase 14:\nthis.$ = new yy.Range(Number($$[$0-2]), Number($$[$0]));\nbreak;\ncase 15:\nthis.$ = new yy.ValueList($$[$0]);\nbreak;\n}\n},\ntable: [{3:1,4:2,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},{1:[3]},{5:[1,10],7:$V6,8:$V7},o($V8,[2,2]),{4:13,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},{4:14,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},o($V8,[2,7]),o($V8,[2,8]),{15:15,18:16,20:$V9},{17:18,20:$Va,22:19,23:$Vb,24:$Vc},{1:[2,1]},{4:23,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},{4:24,6:3,9:$V0,10:$V1,12:$V2,13:$V3,14:$V4,16:$V5},o($V8,[2,5]),{7:$V6,8:$V7,11:[1,25]},o($V8,[2,9],{19:[1,26]}),o($Vd,[2,11]),o($Vd,[2,13],{21:[1,27]}),o($V8,[2,10],{19:[1,28]}),o($Vd,[2,15]),o($Vd,[2,17]),o($Vd,[2,18]),o($Vd,[2,19]),o([5,7,11],[2,3],{8:$V7}),o($V8,[2,4]),o($V8,[2,6]),{18:29,20:$V9},{20:[1,30]},{20:$Va,22:31,23:$Vb,24:$Vc},o($Vd,[2,12]),o($Vd,[2,14]),o($Vd,[2,16])],\ndefaultActions: {10:[2,1]},\nparseError: function parseError(str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function (match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex() {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin(condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState(condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* skip whitespace */\nbreak;\ncase 1:return 20;\nbreak;\ncase 2:return 7;\nbreak;\ncase 3:return 8;\nbreak;\ncase 4:return 9;\nbreak;\ncase 5:return 12;\nbreak;\ncase 6:return 16;\nbreak;\ncase 7:return 14;\nbreak;\ncase 8:return 10;\nbreak;\ncase 9:return 11;\nbreak;\ncase 10:return 19;\nbreak;\ncase 11:return 21;\nbreak;\ncase 12:return '<=';\nbreak;\ncase 13:return '>=';\nbreak;\ncase 14:return '<';\nbreak;\ncase 15:return '>';\nbreak;\ncase 16:yy_.yytext = yy_.yytext.substr(1,yy_.yyleng-2); return 24;\nbreak;\ncase 17:return 13;\nbreak;\ncase 18:return 23;\nbreak;\ncase 19:return 5;\nbreak;\ncase 20:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:\\s+)/i,/^(?:(-?(?:[1-9][0-9]+|[0-9]))\\b)/i,/^(?:OR\\b)/i,/^(?:AND\\b)/i,/^(?:NOT\\b)/i,/^(?:((ALL|NONE|HETATM|PROTEIN|BASIC|ACIDIC|CHARGED|POLAR|NONPOLAR|AROMATIC|NUCLEIC|PURINE|PYRIMIDINE|WATER|POLARH|NONPOLARH))\\b)/i,/^(?:((NAME|ELEM|TYPE|RESIDUE|ICODE|CHAIN|ALTLOC))\\b)/i,/^(?:((SERIAL|SEQUENCE|RESIDX))\\b)/i,/^(?:\\()/i,/^(?:\\))/i,/^(?:,)/i,/^(?::)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,/^(?:(@[_A-Z0-9]+))/i,/^(?:([_A-Z0-9]+))/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\nmodule.exports = {parser: parser};\n","import utils from '../../utils';\n\n//----------------------------------------------------------------------------\nclass Range {\n  constructor(min, max) {\n    this.min = min;\n    this.max = typeof max === 'undefined' ? min : max;\n  }\n\n  includes(value) {\n    return this.min <= value && value <= this.max;\n  }\n\n  toString() {\n    const { min, max } = this;\n    return min === max ? String(min) : [min, max].join(':');\n  }\n\n  toJSON() {\n    return [this.min, this.max];\n  }\n}\n\n// ////////////////////////////////////////////////////////////////////////////\n\nclass List {\n  constructor(arg) {\n    if (arg instanceof this.constructor) {\n      return arg;\n    }\n    if (arg instanceof Array) {\n      this._values = arg.slice(0);\n    } else if (arg) {\n      this._values = [arg];\n    } else {\n      this._values = [];\n    }\n  }\n\n  append(value) {\n    const values = this._values;\n    values[values.length] = value;\n    return this;\n  }\n\n  remove(value) {\n    const values = this._values;\n    const index = values.indexOf(value);\n    if (index >= 0) {\n      values.splice(index, 1);\n    }\n    return this;\n  }\n\n  toString() {\n    return this._values.join(',');\n  }\n\n  toJSON() {\n    const values = this._values;\n    const result = [];\n    for (let i = 0, n = values.length; i < n; ++i) {\n      const value = values[i];\n      result[i] = value.toJSON ? value.toJSON() : value;\n    }\n    return result;\n  }\n}\n\n//----------------------------------------------------------------------------\n\nclass RangeList extends List {\n  includes(value) {\n    const list = this._values;\n    for (let i = 0, n = list.length; i < n; ++i) {\n      if (list[i].includes(value)) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n//----------------------------------------------------------------------------\n\nconst valuesArray = [];\n\nclass ValueList extends List {\n  constructor(arg, upperOnly) {\n    const list = super(arg);\n    if (upperOnly) {\n      this.upperOnly = true;\n      const values = list._values;\n      for (let i = 0, n = values.length; i < n; ++i) {\n        const value = values[i];\n        if (typeof value === 'string') {\n          values[i] = value.toUpperCase();\n        }\n      }\n    } else {\n      this.upperOnly = false;\n    }\n    return list;\n  }\n\n  includes(value) {\n    // we do not convert to upper case here for perfomance reasons\n    // if list is upper case only, value must be converted before it is sent up to  here\n    return this._values.indexOf(value) !== -1;\n  }\n\n  toString() {\n    // Quote values that are not correct identifiers\n    const values = this._values;\n    valuesArray.length = 0;\n    for (let i = 0, n = values.length; i < n; ++i) {\n      valuesArray[i] = utils.correctSelectorIdentifier(String(values[i]));\n    }\n    return valuesArray.join(',');\n  }\n\n  _validate(value) {\n    return (this.upperOnly && typeof value === 'string') ? value.toUpperCase() : value;\n  }\n\n  append(value) {\n    super.append(this._validate(value));\n    return this;\n  }\n\n  remove(value) {\n    super.remove(this._validate(value));\n    return this;\n  }\n}\n\nexport {\n  Range,\n  List,\n  RangeList,\n  ValueList,\n};\n","import { RangeList, ValueList } from './selectArgs';\n\n/** Base class for atom selectors. */\nclass Selector {\n  toString() {\n    return this.keyword;\n  }\n\n  toJSON() {\n    return [this.name];\n  }\n}\n\nSelector.prototype.name = 'Error';\nSelector.prototype.keyword = 'error';\n\n/** Base class for list-based atom selectors. */\nclass ListSelector extends Selector {\n  constructor(list) {\n    super();\n    this.list = list;\n  }\n\n  toString() {\n    return `${this.keyword} ${this.list}`;\n  }\n\n  toJSON() {\n    return [this.name, this.list.toJSON()];\n  }\n}\n\nclass RangeListSelector extends ListSelector {\n  constructor(arg) {\n    super(new RangeList(arg));\n  }\n}\n\nclass ValueListSelector extends ListSelector {\n  constructor(arg, caseSensitive) {\n    super(new ValueList(arg, !caseSensitive));\n  }\n}\n\nclass NoneSelector extends Selector {\n  includesAtom(_atom) {\n    return false;\n  }\n}\n\nNoneSelector.prototype.name = 'None';\nNoneSelector.prototype.keyword = 'none';\n\nclass AllSelector extends Selector {\n  includesAtom(_atom) {\n    return true;\n  }\n}\n\nAllSelector.prototype.name = 'All';\nAllSelector.prototype.keyword = 'all';\n\nexport {\n  Selector,\n  ListSelector,\n  RangeListSelector,\n  ValueListSelector,\n  NoneSelector,\n  AllSelector,\n};\n","import { Selector, NoneSelector } from './selectorsBase';\n\n//----------------------------------------------------------------------------\n// Operators\n//----------------------------------------------------------------------------\nconst none = new NoneSelector();\n\nclass PrefixOperator extends Selector {\n  constructor(rhs) {\n    super();\n    this.rhs = rhs || none;\n  }\n\n  toString() {\n    const rhs = this.rhs.priority && this.rhs.priority > this.priority ? `(${this.rhs})` : this.rhs;\n    return `${this.keyword} ${rhs}`;\n  }\n\n  toJSON() {\n    return [this.name, this.rhs.toJSON()];\n  }\n}\n\nPrefixOperator.prototype.priority = 1;\n\nclass InfixOperator extends Selector {\n  constructor(lhs, rhs) {\n    super();\n    this.lhs = lhs || none;\n    this.rhs = rhs || none;\n  }\n\n  toString() {\n    const lhs = this.lhs.priority && this.lhs.priority > this.priority ? `(${this.lhs})` : this.lhs;\n    const rhs = this.rhs.priority && this.rhs.priority > this.priority ? `(${this.rhs})` : this.rhs;\n    return `${lhs} ${this.keyword} ${rhs}`;\n  }\n\n  toJSON() {\n    return [this.name, this.lhs.toJSON(), this.rhs.toJSON()];\n  }\n}\n\nInfixOperator.prototype.priority = 1000;\n\nexport { PrefixOperator, InfixOperator };\n","import Atom from './Atom';\nimport ResidueType from './ResidueType';\nimport { parser } from '../utils/SelectionParser';\nimport { Range, RangeList, ValueList } from './selectors/selectArgs';\nimport { PrefixOperator, InfixOperator } from './selectors/selectOps';\nimport {\n  Selector,\n  RangeListSelector,\n  ValueListSelector,\n  NoneSelector,\n  AllSelector,\n} from './selectors/selectorsBase';\n\nconst keywords = {};\n\n//----------------------------------------------------------------------------\n// Named selectors\n//----------------------------------------------------------------------------\n\nfunction defineSelector(name, SelectorClass) {\n  const keyword = name.toLowerCase();\n  SelectorClass.prototype.keyword = keyword;\n  SelectorClass.prototype.name = name;\n\n  const factory = ((...args) => new SelectorClass(...args));\n  factory.SelectorClass = SelectorClass;\n  keywords[keyword] = factory;\n\n  return SelectorClass;\n}\n\ndefineSelector('Serial', class SerialSelector extends RangeListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.serial);\n  }\n});\n\ndefineSelector('Name', class NameSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.name);\n  }\n});\n\ndefineSelector('AltLoc', class AltLocSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(String.fromCharCode(atom.location));\n  }\n});\n\ndefineSelector('Elem', class ElemSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.element.name);\n  }\n});\n\ndefineSelector('Residue', class ResidueSelector extends ValueListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._type._name);\n  }\n});\n\ndefineSelector('Sequence', class SequenceSelector extends RangeListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._sequence);\n  }\n});\n\ndefineSelector('ICode', class ICodeSelector extends ValueListSelector {\n  constructor(arg) {\n    super(arg, true);\n  }\n\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._icode);\n  }\n});\n\ndefineSelector('ResIdx', class ResIdxSelector extends RangeListSelector {\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._index);\n  }\n});\n\ndefineSelector('Chain', class ChainSelector extends ValueListSelector {\n  constructor(arg) {\n    super(arg, true);\n  }\n\n  includesAtom(atom) {\n    return this.list.includes(atom.residue._chain._name);\n  }\n});\n\ndefineSelector('Hetatm', class HetatmSelector extends Selector {\n  includesAtom(atom) {\n    return atom.het;\n  }\n});\n\ndefineSelector('PolarH', class PolarHSelector extends Selector {\n  includesAtom(atom) {\n    return (atom.flags & Atom.Flags.NONPOLARH) === Atom.Flags.HYDROGEN;\n  }\n});\n\ndefineSelector('NonPolarH', class NonPolarHSelector extends Selector {\n  includesAtom(atom) {\n    return (atom.flags & Atom.Flags.NONPOLARH) === Atom.Flags.NONPOLARH;\n  }\n});\n\ndefineSelector('All', AllSelector);\n\ndefineSelector('None', NoneSelector);\n\nconst NULL_SELECTOR = keywords.none();\n\n//----------------------------------------------------------------------------\n// Named operators\n//----------------------------------------------------------------------------\n\nfunction defineOperator(name, priority, OperatorClass) {\n  OperatorClass.prototype.priority = priority;\n  return defineSelector(name, OperatorClass);\n}\ndefineOperator('Not', 1, class NotOperator extends PrefixOperator {\n  includesAtom(atom) {\n    return !this.rhs.includesAtom(atom);\n  }\n});\n\ndefineOperator('And', 2, class AndOperator extends InfixOperator {\n  includesAtom(atom) {\n    return this.lhs.includesAtom(atom) && this.rhs.includesAtom(atom);\n  }\n});\n\ndefineOperator('Or', 3, class OrOperator extends InfixOperator {\n  includesAtom(atom) {\n    return this.lhs.includesAtom(atom) || this.rhs.includesAtom(atom);\n  }\n});\n\n//----------------------------------------------------------------------------\n// Flag selectors\n//----------------------------------------------------------------------------\n\nfunction byResidueTypeFlag(flag, name) {\n  return defineSelector(name, class extends Selector {\n    includesAtom(atom) {\n      return (atom.residue._type.flags & flag) !== 0;\n    }\n  });\n}\n\nbyResidueTypeFlag(ResidueType.Flags.PROTEIN, 'Protein');\nbyResidueTypeFlag(ResidueType.Flags.BASIC, 'Basic');\nbyResidueTypeFlag(ResidueType.Flags.ACIDIC, 'Acidic');\nbyResidueTypeFlag(ResidueType.Flags.BASIC | ResidueType.Flags.ACIDIC, 'Charged');\nbyResidueTypeFlag(ResidueType.Flags.POLAR, 'Polar');\nbyResidueTypeFlag(ResidueType.Flags.NONPOLAR, 'NonPolar');\nbyResidueTypeFlag(ResidueType.Flags.AROMATIC, 'Aromatic');\nbyResidueTypeFlag(ResidueType.Flags.NUCLEIC, 'Nucleic');\nbyResidueTypeFlag(ResidueType.Flags.PURINE, 'Purine');\nbyResidueTypeFlag(ResidueType.Flags.PYRIMIDINE, 'Pyrimidine');\nbyResidueTypeFlag(ResidueType.Flags.WATER, 'Water');\n\n//----------------------------------------------------------------------------\nconst selectors = Object.create(keywords);\n\nselectors.Selector = Selector;\nselectors.RangeListSelector = RangeListSelector;\nselectors.ValueListSelector = ValueListSelector;\nselectors.Range = Range;\nselectors.RangeList = RangeList;\nselectors.ValueList = ValueList;\nselectors.PrefixOperator = PrefixOperator;\nselectors.InfixOperator = InfixOperator;\nselectors.Context = Object.create({});\n\nselectors.GetSelector = function (key) {\n  if (!selectors.Context.hasOwnProperty(key)) {\n    const exc = { message: `selector ${key} is not registered` };\n    throw exc;\n  }\n  return selectors.Context[key] || NULL_SELECTOR;\n};\n\nselectors.ClearContext = function () {\n  Object.keys(selectors.Context).forEach((k) => { delete selectors.Context[k]; });\n};\n\nselectors.keyword = function (key) {\n  return keywords[key.toLowerCase()] || keywords.none;\n};\n\nselectors.parse = function (str) {\n  const res = {};\n  try {\n    res.selector = parser.parse(str);\n  } catch (e) {\n    res.selector = NULL_SELECTOR;\n    res.error = e.message;\n  }\n  return res;\n};\n\nparser.yy = selectors;\nparser.yy.parseError = parser.parseError; // workaround for incorrect JISON parser generator for AMD module\n\nexport default selectors;\n","import * as THREE from 'three';\nimport selectors from './selectors';\n\n/**\n * Basic biological unit class.\n *\n * @exports BiologicalUnit\n * @constructor\n */\nclass BiologicalUnit {\n  constructor(complex) {\n    this._complex = complex;\n    this._selector = selectors.keyword('All')();\n    this._boundaries = {\n      boundingBox: new THREE.Box3(),\n      boundingSphere: new THREE.Sphere(),\n    };\n  }\n\n  computeBoundaries() {\n    const atoms = this._complex._atoms;\n    const n = atoms.length;\n    const selector = this._selector;\n\n    const { boundingBox } = this._boundaries;\n    boundingBox.makeEmpty();\n    if (n === 1) {\n      boundingBox.expandByPoint(atoms[0].position);\n      const bbc = new THREE.Vector3();\n      boundingBox.getCenter(bbc);\n      const s = 2 * atoms[0].element.radius;\n      boundingBox.setFromCenterAndSize(bbc, new THREE.Vector3(s, s, s));\n    } else {\n      for (let i = 0; i < n; ++i) {\n        if (selector.includesAtom(atoms[i])) {\n          boundingBox.expandByPoint(atoms[i].position);\n        }\n      }\n    }\n\n    // Build bounding sphere\n    let radiusSquared = 0.0;\n    const center = new THREE.Vector3();\n    boundingBox.getCenter(center);\n    if (n === 1) {\n      this._boundaries.boundingSphere.set(center, atoms[0].element.radius);\n    } else {\n      for (let i = 0; i < n; ++i) {\n        if (!selector.includesAtom(atoms[i])) {\n          continue;\n        }\n        const pos = atoms[i].position;\n        const lengthSquared = center.distanceToSquared(pos);\n        if (radiusSquared < lengthSquared) {\n          radiusSquared = lengthSquared;\n        }\n      }\n      this._boundaries.boundingSphere.set(center, Math.sqrt(radiusSquared));\n    }\n  }\n\n  getTransforms() {\n    return [];\n  }\n\n  getSelector() {\n    return this._selector;\n  }\n\n  getBoundaries() {\n    return this._boundaries;\n  }\n\n  finalize() {\n  }\n}\n\nexport default BiologicalUnit;\n","import * as THREE from 'three';\nimport selectors from './selectors';\nimport BiologicalUnit from './BiologicalUnit';\n\n/**\n * Biological assembly.\n *\n * @exports Assembly\n * @constructor\n */\n\nclass Assembly extends BiologicalUnit {\n  constructor(complex) {\n    super(complex);\n    this.chains = [];\n    this.matrices = [];\n  }\n\n  computeBoundaries() {\n    super.computeBoundaries();\n    // fix up the boundaries\n    const { matrices } = this;\n    const oldCenter = this._boundaries.boundingSphere.center;\n    const oldRad = this._boundaries.boundingSphere.radius;\n    const boundingBox = this._boundaries.boundingBox = new THREE.Box3();\n    boundingBox.makeEmpty();\n    for (let i = 0, n = matrices.length; i < n; ++i) {\n      boundingBox.expandByPoint(oldCenter.clone().applyMatrix4(matrices[i]));\n    }\n\n    const newRad = boundingBox.max.distanceTo(boundingBox.min) / 2 + oldRad;\n    const center = new THREE.Vector3();\n    boundingBox.getCenter(center);\n    this._boundaries.boundingSphere = new THREE.Sphere().set(center, newRad);\n    boundingBox.max.addScalar(oldRad);\n    boundingBox.min.subScalar(oldRad);\n  }\n\n  /**\n   * Mark a chain as belonging to this biological assembly.\n   * @param {string} chain - chain identifier, usually a single letter\n   */\n  addChain(chain) {\n    this.chains[this.chains.length] = chain;\n  }\n\n  /**\n   * Add a transformation matrix.\n   * @param {THREE.Matrix4} matrix - transformation matrix\n   */\n  addMatrix(matrix) {\n    this.matrices[this.matrices.length] = matrix;\n  }\n\n  getTransforms() {\n    return this.matrices;\n  }\n\n  finalize() {\n    if (this.chains.length > 0) {\n      this._selector = selectors.keyword('Chain')(this.chains);\n    } else {\n      this._selector = selectors.keyword('None')();\n    }\n  }\n}\n\nexport default Assembly;\n","/**\n * This class represents connected component as a part of a complex.\n * WARNING! The whole component entity is build under the assumption that residues\n * are placed in the chains and complex in ascending order of indices\n *\n * @param {Complex} complex - Molecular complex this chain belongs to.\n *\n * @exports Component\n * @constructor\n */\nclass Component {\n  constructor(complex) {\n    this._complex = complex;\n    this._index = -1;\n    this._residueIndices = [];\n    this._cycles = [];\n    this._subDivs = [];\n    this._residueCount = 0;\n  }\n\n  getResidues() {\n    return this._complex._residues;\n  }\n\n  getResidueCount() {\n    return this._residueCount;\n  }\n\n  forEachResidue(process) {\n    const residues = this._complex._residues;\n    const resIdc = this._residueIndices;\n    for (let idIdc = 0, idCount = resIdc.length; idIdc < idCount; ++idIdc) {\n      for (let idx = resIdc[idIdc].start, last = resIdc[idIdc].end; idx <= last; ++idx) {\n        process(residues[idx]);\n      }\n    }\n  }\n\n  setSubDivs(subDivs) {\n    this._subDivs = subDivs;\n    let curr = 0;\n    const resIdc = [];\n    let resCnt = 0;\n    for (let i = 0, n = subDivs.length; i < n; ++i) {\n      if (i === n - 1 || subDivs[i].end + 1 !== subDivs[i + 1].start) {\n        const { start } = subDivs[curr];\n        const { end } = subDivs[i];\n        resIdc[resIdc.length] = {\n          start,\n          end,\n        };\n        resCnt += end - start + 1;\n        curr = i + 1;\n      }\n    }\n\n    this._residueIndices = resIdc;\n    this._residueCount = resCnt;\n  }\n\n  getComplex() {\n    return this._complex;\n  }\n\n  forEachBond(process) {\n    const bonds = this._complex._bonds;\n\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      const bond = bonds[i];\n      if (bond._left.residue._component === this) {\n        process(bond);\n      }\n    }\n  }\n\n  update() {\n    this.forEachCycle((cycle) => {\n      cycle.update();\n    });\n  }\n\n  forEachAtom(process) {\n    this.forEachResidue((residue) => {\n      residue.forEachAtom(process);\n    });\n  }\n\n  addCycle(cycle) {\n    this._cycles.push(cycle);\n  }\n\n  forEachCycle(process) {\n    const cycles = this._cycles;\n    for (let i = 0, n = cycles.length; i < n; ++i) {\n      process(cycles[i]);\n    }\n  }\n\n  markResidues() {\n    const self = this;\n    self.forEachResidue((residue) => {\n      residue._component = self;\n    });\n  }\n\n  _forEachSubChain(mask, process) {\n    const residues = this._complex._residues;\n    const subs = this._subDivs;\n    for (let i = 0, n = subs.length; i < n; ++i) {\n      for (let idx = subs[i].start, last = subs[i].end; idx <= last; ++idx) {\n        const currRes = residues[idx];\n        if (mask & currRes._mask && currRes._isValid) {\n          let end = idx + 1;\n          for (; end <= last; ++end) {\n            const endRes = residues[end];\n            if (!(mask & endRes._mask && endRes._isValid)) {\n              break;\n            }\n          }\n          process(i, idx, end - 1);\n          idx = end;\n        }\n      }\n    }\n  }\n\n  getMaskedSequences(mask) {\n    const subs = [];\n    let idx = 0;\n    this._forEachSubChain(mask, (_subIdx, start, end) => {\n      subs[idx++] = { start, end };\n    });\n\n    return subs;\n  }\n\n  getMaskedSubdivSequences(mask) {\n    const subs = [];\n    let currIdx = -1;\n    let lastSubIdx = -1;\n    const subDivs = this._subDivs;\n\n    this._forEachSubChain(mask, (subIdx, start, end) => {\n      if (lastSubIdx !== subIdx) {\n        ++currIdx;\n        subs[currIdx] = {\n          arr: [],\n          boundaries: subDivs[subIdx],\n        };\n        lastSubIdx = subIdx;\n      }\n      subs[currIdx].arr[subs[currIdx].arr.length] = { start, end };\n    });\n\n    return subs;\n  }\n}\n\nexport default Component;\n","import utils from '../utils';\n\nconst cMaxPairsForHashCode = 32;\nconst cHashTableSize = 1024 * 1024;\nconst cNumbersPerPair = 4;\nconst cMaxNeighbours = 14;\nconst cInvalidVal = -1;\n// 89237 is a large simple number, can be used for pseudo random hash code create\nconst cBigPrime = 89237;\n\nclass AtomPairs {\n  constructor(maxPairsEstimate) {\n    this.numPairs = 0;\n    this.numMaxPairs = maxPairsEstimate;\n    this.intBuffer = utils.allocateTyped(Int32Array, maxPairsEstimate * cNumbersPerPair);\n    for (let i = 0; i < maxPairsEstimate * cNumbersPerPair; i++) {\n      this.intBuffer[i] = cInvalidVal;\n    }\n    this.hashBuffer = utils.allocateTyped(Int32Array, cHashTableSize * cMaxPairsForHashCode);\n    for (let i = 0; i < cHashTableSize * cMaxPairsForHashCode; i++) {\n      this.hashBuffer[i] = cInvalidVal;\n    }\n  }\n\n  /**\n   * Destroy all pairs memory\n   */\n  destroy() {\n    this.intBuffer = null;\n    this.hashBuffer = null;\n  }\n\n  /**\n   * Add pair of atoms to collection\n   * @param {number} indexA - Index of the 1st vertex.\n   * @param {number} indexB - Index of the 2nd vertex.\n   */\n  addPair(indexA, indexB) {\n    const ia = (indexA < indexB) ? indexA : indexB;\n    const ib = (indexA > indexB) ? indexA : indexB;\n    const codeToAdd = ia + (ib << cMaxNeighbours);\n\n    const hashCode = (ia + (ib * cBigPrime)) & (cHashTableSize - 1);\n    let j = hashCode * cMaxPairsForHashCode;\n    let apI = 0;\n    for (; apI < cMaxPairsForHashCode; apI++) {\n      const code = this.hashBuffer[j + apI];\n      if (code === cInvalidVal) {\n        break;\n      }\n      if (code === codeToAdd) {\n        return false;\n      }\n    }\n    // add this new hash code\n    if (apI >= cMaxPairsForHashCode) {\n      throw new Error('addPair: increase cMaxPairsForHashCode');\n    }\n    this.hashBuffer[j + apI] = codeToAdd;\n\n    // actually add\n    if (this.numPairs >= this.numMaxPairs) {\n      throw new Error('addPair: increase num pairs');\n    }\n    j = this.numPairs * cNumbersPerPair;\n    this.intBuffer[j] = ia;\n    this.intBuffer[j + 1] = ib;\n    this.intBuffer[j + 2] = codeToAdd;\n    this.numPairs++;\n    return true;\n  }\n}\n\nexport default AtomPairs;\n","import AtomPairs from './AtomPairs';\nimport Bond from './Bond';\n\nconst cProfileBondBuilder = false;\nconst cEstBondsMultiplier = 4;\nconst cSpaceCode = 32;\nconst cBondTolerance = 0.45;\nconst cVMDTolerance = 0.6;\nconst cBondRadInJMOL = true;\nconst cEpsilon = 0.001;\n\n/**\n * Get radius used for building bonds.\n *\n * @param {Atom} atom - Atom object.\n * @returns {number} special value for bonding radius for this atom\n */\nfunction _getBondingRadius(atom) {\n  const { element } = atom;\n  if (element) {\n    return element.radiusBonding;\n  }\n  throw new Error('_getBondingRadius: Logic error.');\n}\n\nfunction _isAtomEligible(atom) {\n  // build for all non-hetatm and for hetatm without bonds\n  return !atom.isHet() || (atom.bonds && atom.bonds.length === 0);\n}\n\n/**\n * Bond between atoms.\n *\n * @param {Complex} complex molecular complex\n\n * @exports AutoBond\n * @constructor\n */\nclass AutoBond {\n  constructor(complex) {\n    this._complex = complex;\n    this._maxRad = 1.8;\n    const bBox = this._complex.getDefaultBoundaries().boundingBox;\n    this._vBoxMin = bBox.min.clone();\n    this._vBoxMax = bBox.max.clone();\n\n    this._pairCollection = null;\n  }\n\n  /**\n   * Add existing pairs of connectors (from pdb file after its reading)\n   * @returns {number} 0\n   */\n  _addExistingPairs() {\n    const atoms = this._complex.getAtoms();\n    const numAtoms = atoms.length;\n    let aInd = 0;\n    const collection = this._pairCollection;\n\n    for (; aInd < numAtoms; aInd++) {\n      const { bonds } = atoms[aInd];\n      const numBondsForAtom = bonds.length;\n      for (let bInd = 0; bInd < numBondsForAtom; bInd++) {\n        const bond = bonds[bInd];\n        const indTo = bond._left.index;\n        if (indTo === aInd) {\n          collection.addPair(aInd, bond._right.index);\n        }\n      } // for (b) all bonds in atom\n    } // for (a)\n    return 0;\n  }\n\n  _findPairs() {\n    const vw = this._complex.getVoxelWorld();\n    if (vw === null) {\n      return;\n    }\n\n    const atoms = this._complex._atoms;\n    const atomsNum = atoms.length;\n    const self = this;\n\n    let rA;\n    let isHydrogenA;\n    let posA;\n    let locationA;\n    let atomA;\n\n    const processAtom = function (atomB) {\n      if (isHydrogenA && atomB.isHydrogen()) {\n        return;\n      }\n\n      const locationB = atomB.location;\n      if ((locationA !== cSpaceCode)\n        && (locationB !== cSpaceCode)\n        && (locationA !== locationB)) {\n        return;\n      }\n\n      const dist2 = posA.distanceToSquared(atomB.position);\n      const rB = atomB.element.radiusBonding;\n      const maxAcceptable = cBondRadInJMOL ? rA + rB + cBondTolerance : cVMDTolerance * (rA + rB);\n\n      if (dist2 > (maxAcceptable * maxAcceptable)) {\n        return;\n      }\n\n      if (dist2 < cEpsilon) {\n        return;\n      }\n\n      self._pairCollection.addPair(atomA.index, atomB.index);\n    };\n\n    for (let i = 0; i < atomsNum; ++i) {\n      atomA = atoms[i];\n      if (!_isAtomEligible(atomA)) {\n        continue;\n      }\n\n      rA = atomA.element.radiusBonding;\n      isHydrogenA = atomA.isHydrogen();\n      posA = atomA.position;\n      locationA = atomA.location;\n\n      vw.forEachAtomWithinRadius(posA, 2 * this._maxRad + cBondTolerance, processAtom);\n    }\n  }\n\n  _addPairs() {\n    const atoms = this._complex._atoms;\n\n    for (let i = 0, k = 0; i < this._pairCollection.numPairs; i++, k += 4) {\n      const iA = this._pairCollection.intBuffer[k];\n      const iB = this._pairCollection.intBuffer[k + 1];\n      this._addPair(atoms[iA], atoms[iB]);\n    }\n  }\n\n  _addPair(atomA, atomB) {\n    const bondsA = atomA.bonds;\n    const indexA = atomA.index;\n    const indexB = atomB.index;\n    for (let j = 0, numBonds = bondsA.length; j < numBonds; ++j) {\n      const bond = bondsA[j];\n      if (bond._left.index === indexB || bond._right.index === indexB) {\n        return;\n      }\n    }\n    const left = indexA < indexB ? atomA : atomB;\n    const right = indexA < indexB ? atomB : atomA;\n    const newBond = this._complex.addBond(left, right, 0, Bond.BondType.UNKNOWN, false);\n    bondsA.push(newBond);\n    atomB.bonds.push(newBond);\n  }\n\n  build() {\n    if (cProfileBondBuilder) {\n      console.time('Bonds Builder');\n    }\n    this._buildInner();\n\n    if (cProfileBondBuilder) {\n      console.timeEnd('Bonds Builder');\n    }\n  }\n\n  _buildInner() {\n    const atoms = this._complex._atoms;\n    if (atoms.length < 2) {\n      return;\n    }\n    if (atoms[0].index < 0) {\n      throw new Error('AutoBond: Atoms in complex were not indexed.');\n    }\n\n    this._calcBoundingBox();\n    this._pairCollection = new AtomPairs(atoms.length * cEstBondsMultiplier);\n    this._addExistingPairs();\n    this._findPairs();\n    this._addPairs();\n  }\n\n  _calcBoundingBox() {\n    const atoms = this._complex._atoms;\n    const nAtoms = atoms.length;\n    let maxRad = _getBondingRadius(atoms[0]);\n    for (let i = 1; i < nAtoms; ++i) {\n      maxRad = Math.max(maxRad, _getBondingRadius(atoms[i]));\n    }\n    this._vBoxMax.addScalar(maxRad);\n    this._vBoxMin.addScalar(-maxRad);\n    this._maxRad = maxRad * 1.2;\n  }\n\n  destroy() {\n    if (this._pairCollection) {\n      this._pairCollection.destroy();\n    }\n  }\n}\n\nexport default AutoBond;\n","import * as THREE from 'three';\nimport Bond from './Bond';\nimport Element from './Element';\n\nconst cCrossThresh = 0.1;\nconst cAromaticType = Bond.BondType.AROMATIC;\nconst cAromaticAtoms = [\n  Element.ByName.C.number,\n  Element.ByName.N.number,\n  // Element.ByName.O.number,\n  // Element.ByName.S.number,\n];\n\n/** Conditions for bonds:\n   *   - Cross product with each subsequent bond to add is collinear and point to the same direction\n   *   - Each pair of a adjacent bonds belong to not more than one cycle\n   *   - If there is more than one candidates we try them in ascending order of angle values\n   */\n\nconst _coDirVectors = (function () {\n  const v1Tmp = new THREE.Vector3();\n  const v2Tmp = new THREE.Vector3();\n  const cp = new THREE.Vector3();\n  return function (v1, v2) {\n    v1Tmp.copy(v1).normalize();\n    v2Tmp.copy(v2).normalize();\n    cp.crossVectors(v1Tmp, v2Tmp);\n    if (cp.length() > cCrossThresh) {\n      return false;\n    }\n    // zero vector in out terms must be collinear to any\n    return v1Tmp.dot(v2Tmp) >= 0;\n  };\n}());\n\nfunction _insertAscending(arr, val) {\n  let idx = 0;\n  while (idx < arr.length && arr[idx] < val) {\n    ++idx;\n  }\n  arr.splice(idx, 0, val);\n}\n\nfunction _anotherAtom(bond, currAtom) {\n  return bond._left === currAtom ? bond._right : bond._left;\n}\n\nfunction _cosBetween(v1, v2) {\n  const theta = v1.dot(v2) / (Math.sqrt(v1.lengthSq() * v2.lengthSq()));\n  return THREE.MathUtils.clamp(theta, -1, 1);\n}\n\nfunction _markAromatic(bond) {\n  bond._type = cAromaticType;\n}\n\nclass Cycle {\n  constructor(atomsList) {\n    this.atoms = atomsList;\n    this.update();\n  }\n\n  update() {\n    const { atoms } = this;\n    const center = new THREE.Vector3();\n    const nA = atoms.length;\n    for (let j = 0; j < nA; ++j) {\n      center.add(atoms[j].position);\n    }\n    center.multiplyScalar(1.0 / nA);\n    this.center = center;\n    this.radius = center.distanceTo(atoms[0].position.clone().lerp(atoms[1].position, 0.5));\n  }\n\n  forEachBond(process) {\n    const { atoms } = this;\n    const nA = atoms.length;\n    let currAtom = atoms[0];\n    let nextAtom;\n\n    function checkBond(bond) {\n      if (bond._left === nextAtom || bond._right === nextAtom) {\n        process(bond);\n      }\n    }\n\n    for (let i = 0; i < nA; ++i) {\n      nextAtom = atoms[(i + 1) % nA];\n      currAtom.forEachBond(checkBond);\n      currAtom = nextAtom;\n    }\n  }\n}\n\nfunction _isAromatic(bond) {\n  return bond._type === cAromaticType;\n}\n\nfunction _isPossibleAromatic(bond) {\n  if (bond.type === cAromaticType) {\n    return true;\n  }\n  const rightIdx = cAromaticAtoms.indexOf(bond._right.element.number);\n  const leftIdx = cAromaticAtoms.indexOf(bond._left.element.number);\n  return rightIdx !== -1 && leftIdx !== -1;\n}\n\nfunction _checkCycleSimple(cycle) {\n  return cycle.length > 3;\n}\n\nfunction _checkCycleComplex(cycle) {\n  console.assert(cycle.length > 2);\n  return true;\n}\n\nclass AromaticLoopsMarker {\n  constructor(complex) {\n    this._complex = complex;\n    const bondsData = new Array(complex._bonds.length);\n    const bondMarks = new Array(complex._bonds.length);\n    for (let i = 0, n = bondsData.length; i < n; ++i) {\n      bondsData[i] = [];\n      bondMarks[i] = false;\n    }\n    this._bondsData = bondsData;\n    this._bondMarks = bondMarks;\n    this._resetCycles();\n  }\n\n  _resetCycles() {\n    this._cycles = [];\n    this._currIdx = -1;\n  }\n\n  _haveSameCycle(bondsData, bond1, bond2) {\n    const arr1 = bondsData[bond1._index];\n    const arr2 = bondsData[bond2._index];\n    const n1 = arr1.length;\n    const n2 = arr2.length;\n    let i1 = 0;\n    let i2 = 0;\n    while (i1 < n1 && i2 < n2) {\n      if (arr1[i1] === arr2[i2]) {\n        return true;\n      }\n      if (arr1[i1] > arr2[i2]) {\n        ++i2;\n      } else {\n        ++i1;\n      }\n    }\n    return false;\n  }\n\n  _tryBond(prevBond, currRight, currDir) {\n    const bondsOrder = [];\n    const bondsData = this._bondsData;\n    const currLeft = _anotherAtom(prevBond, currRight);\n    const currVec = currRight.position.clone().sub(currLeft.position);\n    const startAtomRef = this._currStart;\n    const self = this;\n    const bondMarks = this._bondMarks;\n    let checkAromatic = this._checkBond;\n    bondMarks[prevBond._index] = true;\n    checkAromatic = checkAromatic === undefined ? _isAromatic : checkAromatic;\n    currRight.forEachBond((newBond) => {\n      if (!checkAromatic(newBond)\n        || newBond === prevBond\n        || bondMarks[newBond._index]\n        || self._haveSameCycle(bondsData, prevBond, newBond)) {\n        return;\n      }\n      const anotherAtom = _anotherAtom(newBond, currRight);\n      const anotherVec = anotherAtom.position.clone().sub(currRight.position);\n      const val = anotherAtom === startAtomRef ? -2.0 : 1 - _cosBetween(currVec, anotherVec);\n      const newDir = anotherVec.cross(currVec);\n      if (!_coDirVectors(newDir, currDir)) {\n        return;\n      }\n      let idx = 0;\n      while (idx < bondsOrder.length && bondsOrder[idx].val < val) {\n        ++idx;\n      }\n      bondsOrder.splice(idx, 0, { bond: newBond, val, dir: newDir });\n    });\n\n    for (let i = 0, n = bondsOrder.length; i < n; ++i) {\n      const { bond } = bondsOrder[i];\n      const newRight = bond._left === currRight ? bond._right : bond._left;\n      if (newRight === startAtomRef) {\n        ++this._currIdx;\n        this._cycles.push([currRight]);\n        bondMarks[prevBond._index] = false;\n        return true;\n      }\n      if (this._tryBond(bond, newRight, bondsOrder[i].dir)) {\n        _insertAscending(bondsData[bond._index], this._currIdx);\n        this._cycles[this._currIdx].push(currRight);\n        bondMarks[prevBond._index] = false;\n        return true;\n      }\n    }\n    bondMarks[prevBond._index] = false;\n    return false;\n  }\n\n  _startCycle(bond) {\n    // start from left to right\n    this._currStart = bond._left;\n    if (this._tryBond(bond, bond._right, new THREE.Vector3())) {\n      _insertAscending(this._bondsData[bond._index], this._currIdx);\n      this._cycles[this._currIdx].push(bond._left);\n    }\n  }\n\n  _findLoops(checkBond, checkCycle) {\n    this._checkBond = checkBond;\n    const complex = this._complex;\n    const self = this;\n\n    complex.forEachComponent((component) => {\n      self._resetCycles();\n      component.forEachBond((bond) => {\n        if (checkBond(bond)) {\n          self._startCycle(bond);\n        }\n      });\n      const cycles = self._cycles;\n      for (let i = 0, n = cycles.length; i < n; ++i) {\n        const cycle = cycles[i];\n        if (!checkCycle(cycle)) {\n          continue;\n        }\n        const newCycle = new Cycle(cycle);\n        newCycle.forEachBond(_markAromatic);\n        component.addCycle(newCycle);\n      }\n    });\n  }\n\n  markCycles() {\n    this._findLoops(_isAromatic, _checkCycleSimple);\n  }\n\n  detectCycles() {\n    this._findLoops(_isPossibleAromatic, _checkCycleComplex);\n  }\n}\n\nexport default AromaticLoopsMarker;\n","import * as THREE from 'three';\nimport utils from '../utils';\n\n/**\n * Calculate min & max radius of a sphere slice between zMin & zMax\n *\n * @param {Vector3} center - center of the sphere\n * @param {number} radius  - sphere radius\n * @param {number} zMin - lower bound of the slice\n * @param {number} zMax - upper bound of the slice\n */\nfunction _getSphereSliceRadiusRange(center, radius, zMin, zMax) {\n  const dzMin = zMin - center.z;\n  const dzMax = zMax - center.z;\n  const rzMin = Math.sqrt(Math.max(radius * radius - dzMin * dzMin, 0.0));\n  const rzMax = Math.sqrt(Math.max(radius * radius - dzMax * dzMax, 0.0));\n\n  const rMin = Math.min(rzMin, rzMax);\n  let rMax;\n\n  if (zMin <= center.z && zMax >= center.z) {\n    // sphere's main diameter is inside slice\n    rMax = radius;\n  } else {\n    rMax = Math.max(rzMin, rzMax);\n  }\n\n  return [rMin, rMax];\n}\n\n/**\n * Calculate min & max radius of a circle slice between yMin & yMax.\n *\n * To maintain analogy with _getSphereSliceRadiusRange we call radius what in fact is\n * half-width (along X axis) of the slice, i.e. 1D-sphere radius.\n *\n * @param {Vector3} center - center of the circle (z can be ignored)\n * @param {number} radius  - circle radius\n * @param {number} yMin - lower bound of the slice\n * @param {number} yMax - upper bound of the slice\n * @returns {Array} - array of two numbers (min & max radius, or half-width)\n */\nfunction _getCircleSliceRadiusRange(center, radius, yMin, yMax) {\n  const dyMin = yMin - center.y;\n  const dyMax = yMax - center.y;\n  const ryMin = Math.sqrt(Math.max(radius * radius - dyMin * dyMin, 0.0));\n  const ryMax = Math.sqrt(Math.max(radius * radius - dyMax * dyMax, 0.0));\n\n  const rMin = Math.min(ryMin, ryMax);\n  let rMax;\n\n  if (yMin <= center.y && yMax >= center.y) {\n    // slice's main diameter is inside slice\n    rMax = radius;\n  } else {\n    rMax = Math.max(ryMin, ryMax);\n  }\n\n  return [rMin, rMax];\n}\n\n/**\n * VoxelWorld constructor\n *\n * @param {Box3} box - bounding box of the volume to be partitioned\n * @param {Vector3} vCellSizeHint - target voxel size (actual voxel size may differ from this)\n */\nclass VoxelWorld {\n  constructor(box, vCellSizeHint) {\n    this._box = box.clone();\n    const size = new THREE.Vector3();\n    box.getSize(size);\n    this._count = size.clone().divide(vCellSizeHint).floor().max(new THREE.Vector3(1, 1, 1));\n    this._last = this._count.clone().subScalar(1);\n    this._cellSize = size.clone().divide(this._count);\n    this._cellInnerR = 0.5 * Math.min(Math.min(this._cellSize.x, this._cellSize.y), this._cellSize.z);\n    this._cellOuterR = 0.5 * Math.sqrt(this._cellSize.dot(this._cellSize));\n\n    // array of voxels, each element contains index of first atom in voxel\n    const numVoxels = this._count.x * this._count.y * this._count.z;\n    this._voxels = utils.allocateTyped(Int32Array, numVoxels);\n    for (let i = 0; i < numVoxels; ++i) {\n      this._voxels[i] = -1;\n    }\n\n    // array of atoms that stores multiple single-linked lists\n    // two elements for each atom: Atom ref, index of next atom (in this array\n    this._atoms = [];\n  }\n\n  /**\n   * Add all atoms from a complex to voxel world\n   *\n   * @param {Complex} complex - complex\n   */\n  addAtoms(complex) {\n    const self = this;\n\n    let idx = this._atoms.length;\n\n    // resize array of atoms\n    this._atoms.length += 2 * complex.getAtomCount();\n\n    complex.forEachAtom((atom) => {\n      // find which voxel contains this atom\n      const voxelIdx = self._findVoxel(atom.position);\n\n      // push current atom to the head of voxel's atom list\n      self._atoms[idx] = atom;\n      self._atoms[idx + 1] = self._voxels[voxelIdx];\n      self._voxels[voxelIdx] = idx;\n\n      idx += 2;\n    });\n  }\n\n  /**\n   * Get voxel that contains specified 3D point (we use clamp at the edges)\n   *\n   * @param {Vector3} point - a point in 3D\n   * @returns {number} - index of voxel\n   */\n  static _zero = new THREE.Vector3(0, 0, 0);\n\n  static _voxel = new THREE.Vector3();\n\n  _findVoxel(point) {\n    const zero = VoxelWorld._zero;\n    const voxel = VoxelWorld._voxel;\n    voxel.copy(point)\n      .sub(this._box.min)\n      .divide(this._cellSize)\n      .floor()\n      .clamp(zero, this._last);\n    return voxel.x + this._count.x * (voxel.y + this._count.y * voxel.z);\n  }\n\n  /**\n   * Call a function for each atom in voxel\n   *\n   * @param {number} voxel - index of voxel\n   * @param {function(Atom)} process - function to call\n   */\n  _forEachAtomInVoxel(voxel, process) {\n    for (let i = this._voxels[voxel]; i >= 0; i = this._atoms[i + 1]) {\n      process(this._atoms[i]);\n    }\n  }\n\n  /**\n   * Call a function for each voxel that is touched by given sphere. Callback also takes flag\n   * isInside specifying whether voxel lies inside the sphere entirely.\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(number,bool)} process - function to call that takes voxel index and boolean isInside\n   */\n\n  static _xRange = new THREE.Vector2();\n\n  static _yRange = new THREE.Vector2();\n\n  static _zRange = new THREE.Vector2();\n\n  _forEachVoxelWithinRadius(center, radius, process) {\n    const xRange = VoxelWorld._xRange;\n    const yRange = VoxelWorld._yRange;\n    const zRange = VoxelWorld._zRange;\n\n    // switch to a faster method unless cell size is much smaller than sphere radius\n    if (radius / this._cellInnerR < 10) {\n      this._forEachVoxelWithinRadiusSimple(center, radius, process);\n      return;\n    }\n\n    let rRangeXY;\n    let rRangeX;\n    let xVal;\n    let yVal;\n    let zVal;\n    let isInsideX;\n    let isInsideY;\n    let isInsideZ;\n\n    zRange.set(center.z - radius, center.z + radius);\n    zRange.subScalar(this._box.min.z)\n      .divideScalar(this._cellSize.z)\n      .floor()\n      .clampScalar(0, this._count.z - 1);\n\n    for (let z = zRange.x; z <= zRange.y; ++z) {\n      zVal = [this._box.min.z + z * this._cellSize.z,\n        this._box.min.z + (z + 1) * this._cellSize.z];\n\n      isInsideZ = (center.z - radius <= zVal[0]) && (zVal[1] <= center.z + radius);\n\n      rRangeXY = _getSphereSliceRadiusRange(center, radius, zVal[0], zVal[1]);\n\n      yRange.set(center.y - rRangeXY[1], center.y + rRangeXY[1]);\n      yRange.subScalar(this._box.min.y)\n        .divideScalar(this._cellSize.y)\n        .floor()\n        .clampScalar(0, this._count.y - 1);\n\n      for (let y = yRange.x; y <= yRange.y; ++y) {\n        yVal = [this._box.min.y + y * this._cellSize.y,\n          this._box.min.y + (y + 1) * this._cellSize.y];\n\n        isInsideY = (center.y - rRangeXY[0] <= yVal[0]) && (yVal[1] <= center.y + rRangeXY[0]);\n\n        rRangeX = _getCircleSliceRadiusRange(center, rRangeXY[1], yVal[0], yVal[1]);\n\n        xRange.set(center.x - rRangeX[1], center.x + rRangeX[1]);\n        xRange.subScalar(this._box.min.x)\n          .divideScalar(this._cellSize.x)\n          .floor()\n          .clampScalar(0, this._count.x - 1);\n\n        for (let { x } = xRange; x <= xRange.y; ++x) {\n          xVal = [this._box.min.x + x * this._cellSize.x,\n            this._box.min.x + (x + 1) * this._cellSize.x];\n          isInsideX = (center.x - rRangeX[0] <= xVal[0]) && (xVal[1] <= center.x + rRangeX[0]);\n\n          process(x + this._count.x * (y + this._count.y * z), isInsideX && isInsideY && isInsideZ);\n        }\n      }\n    }\n  }\n\n  /**\n   * Call a function for each voxel that is touched by given sphere. Callback also takes flag\n   * isInside specifying whether voxel lies inside the sphere entirely.\n   * This is a version of method that doesn't try to \"calculate\" what voxels fall inside radius\n   * but instead just checks all voxels inside sphere's bounding box. This should be faster\n   * unless cell size is much smaller than sphere radius.\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(number,bool)} process - function to call that takes voxel index and boolean isInside\n   */\n\n  static _vCenter = new THREE.Vector3();\n\n  _forEachVoxelWithinRadiusSimple(center, radius, process) {\n    const xRange = VoxelWorld._xRange;\n    const yRange = VoxelWorld._yRange;\n    const zRange = VoxelWorld._zRange;\n    const vCenter = VoxelWorld._vCenter;\n\n    const distTouch2 = (radius + this._cellOuterR) * (radius + this._cellOuterR);\n    let distInside2 = -1.0;\n    if (radius > this._cellOuterR) {\n      distInside2 = (radius - this._cellOuterR) * (radius - this._cellOuterR);\n    }\n\n    // calculate bounding box for the sphere\n    xRange.set(center.x - radius, center.x + radius);\n    xRange.subScalar(this._box.min.x)\n      .divideScalar(this._cellSize.x)\n      .floor();\n    xRange.x = Math.min(Math.max(xRange.x, 0), this._count.x - 1);\n    xRange.y = Math.min(Math.max(xRange.y, 0), this._count.x - 1);\n\n    yRange.set(center.y - radius, center.y + radius);\n    yRange.subScalar(this._box.min.y)\n      .divideScalar(this._cellSize.y)\n      .floor();\n    yRange.x = Math.min(Math.max(yRange.x, 0), this._count.y - 1);\n    yRange.y = Math.min(Math.max(yRange.y, 0), this._count.y - 1);\n\n    zRange.set(center.z - radius, center.z + radius);\n    zRange.subScalar(this._box.min.z)\n      .divideScalar(this._cellSize.z)\n      .floor();\n    zRange.x = Math.min(Math.max(zRange.x, 0), this._count.z - 1);\n    zRange.y = Math.min(Math.max(zRange.y, 0), this._count.z - 1);\n\n    for (let z = zRange.x; z <= zRange.y; ++z) {\n      const zVal = [this._box.min.z + z * this._cellSize.z,\n        this._box.min.z + (z + 1) * this._cellSize.z];\n      vCenter.z = 0.5 * (zVal[0] + zVal[1]);\n\n      for (let y = yRange.x; y <= yRange.y; ++y) {\n        const yVal = [this._box.min.y + y * this._cellSize.y,\n          this._box.min.y + (y + 1) * this._cellSize.y];\n        vCenter.y = 0.5 * (yVal[0] + yVal[1]);\n\n        for (let { x } = xRange; x <= xRange.y; ++x) {\n          const xVal = [this._box.min.x + x * this._cellSize.x,\n            this._box.min.x + (x + 1) * this._cellSize.x];\n          vCenter.x = 0.5 * (xVal[0] + xVal[1]);\n\n          const d2 = center.distanceToSquared(vCenter);\n          if (d2 <= distTouch2) {\n            process(x + this._count.x * (y + this._count.y * z), d2 <= distInside2);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Call a function for each atom within given sphere\n   *\n   * @param {Vector3} center - center of the sphere\n   * @param {number} radius  - sphere radius\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinRadius(center, radius, process) {\n    const self = this;\n    const r2 = radius * radius;\n\n    self._forEachVoxelWithinRadius(center, radius, (voxel, isInside) => {\n      if (isInside) {\n        self._forEachAtomInVoxel(voxel, process);\n      } else {\n        self._forEachAtomInVoxel(voxel, (atom) => {\n          if (center.distanceToSquared(atom.position) <= r2) {\n            process(atom);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms defined by mask\n   *\n   * @param {Complex} complex - complex\n   * @param {number} mask - bit mask\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinDistFromMasked(complex, mask, dist, process) {\n    this._forEachAtomWithinDistFromGroup((atomProc) => {\n      complex.forEachAtom((atom) => {\n        if ((atom.mask & mask) !== 0) {\n          atomProc(atom);\n        }\n      });\n    }, dist, process);\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms defined by selector\n   *\n   * @param {Complex} complex - complex\n   * @param {number} selector - selector\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  forEachAtomWithinDistFromSelected(complex, selector, dist, process) {\n    this._forEachAtomWithinDistFromGroup((atomProc) => {\n      complex.forEachAtom((atom) => {\n        if (selector.includesAtom(atom)) {\n          atomProc(atom);\n        }\n      });\n    }, dist, process);\n  }\n\n  /**\n   * Call a function for each atom of given complex within given distance from group of atoms\n   *\n   * @param {function} forEachAtom - enumerator of atoms in the group\n   * @param {number} dist - distance\n   * @param {function(Atom)} process - function to call\n   */\n  _forEachAtomWithinDistFromGroup(forEachAtom, dist, process) {\n    const self = this;\n    const r2 = dist * dist;\n\n    const voxels = [];\n    const atoms = [];\n    let idx = 0;\n\n    // build \"within radius\" atom list for each voxel\n    forEachAtom((atom) => {\n      self._forEachVoxelWithinRadius(atom.position, dist, (voxel, isInside) => {\n        if (isInside) {\n          // this voxel is inside circle -- no check will be required\n          voxels[voxel] = -1;\n        } else if (typeof voxels[voxel] === 'undefined') {\n          // this voxel isn't covered yet -- start building list of atoms\n          atoms.push(atom);\n          atoms.push(-1);\n          voxels[voxel] = idx;\n          idx += 2;\n        } else if (voxels[voxel] !== -1) {\n          // this voxel has a list of atoms required for distance check -- add atom to the list\n          atoms.push(atom);\n          atoms.push(voxels[voxel]);\n          voxels[voxel] = idx;\n          idx += 2;\n        }\n      });\n    });\n\n    let voxel;\n\n    const processIfWithin = function (atom) {\n      if (typeof voxels[voxel] === 'undefined') {\n        return;\n      }\n\n      idx = voxels[voxel];\n      if (idx === -1) {\n        // this voxel is fully covered\n        process(atom);\n        return;\n      }\n\n      // check distance to each atom within radius from this voxel\n      for (; idx >= 0; idx = atoms[idx + 1]) {\n        if (atom.position.distanceToSquared(atoms[idx].position) < r2) {\n          process(atom);\n          break;\n        }\n      }\n    };\n\n    // for each marked voxel\n    for (voxel in voxels) {\n      if (voxels.hasOwnProperty(voxel)) {\n        self._forEachAtomInVoxel(voxel, processIfWithin);\n      }\n    }\n  }\n}\n\nexport default VoxelWorld;\n","import ResidueType from './ResidueType';\nimport PairCollection from './AtomPairs';\n\nconst MINIMAL_DISTANCE = 0.5;\nconst MIN_HBOND_ENERGY = -9.9;\nconst MAX_HBOND_ENERGY = -0.5;\nconst COUPLING_CONSTANT = -27.888; // = -332 * 0.42 * 0.2\nconst MAX_COUPLING_DISTANCE = 5.0; // how far is the closest atom of a potential partner residue from CA atom\nconst MAX_RESIDUES_THRESHOLD = 1000;\n\nexport default class HBondInfo {\n  constructor(complex) {\n    this._complex = complex;\n    this._hbonds = []; // array of bond info for each residue\n    if (this._complex._residues.length > MAX_RESIDUES_THRESHOLD) {\n      this._buildVW(); // optimized version using voxel grid\n    } else {\n      this._build(); // test all pairs of residues\n    }\n  }\n\n  isBond(from, to) {\n    if (this._hbonds[from]) {\n      const [acc0, acc1] = this._hbonds[from].acceptor;\n      if (acc0 && acc0.residue === to && acc0.energy < MAX_HBOND_ENERGY) {\n        return true;\n      }\n      if (acc1 && acc1.residue === to && acc1.energy < MAX_HBOND_ENERGY) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  _build() {\n    const self = this;\n\n    for (let i = 0; i < this._complex._residues.length - 1; ++i) {\n      const ri = this._complex._residues[i];\n      if ((ri.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        continue;\n      }\n\n      // get predecessor in chain\n      let preri = null;\n      if (i > 0 && (this._complex._residues[i - 1].getType().flags & ResidueType.Flags.PROTEIN)\n        && ri._sequence === this._complex._residues[i - 1]._sequence + 1) {\n        preri = this._complex._residues[i - 1];\n      }\n\n      for (let j = i + 1; j < this._complex._residues.length; ++j) {\n        const rj = this._complex._residues[j];\n        if ((rj.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n          continue;\n        }\n\n        // get predecessor in chain\n        let prerj = null;\n        if ((this._complex._residues[j - 1].getType().flags & ResidueType.Flags.PROTEIN)\n          && rj._sequence === this._complex._residues[j - 1]._sequence + 1) {\n          prerj = this._complex._residues[j - 1];\n        }\n\n        self._calcHBondEnergy(preri, ri, rj);\n        if (j !== i + 1) {\n          self._calcHBondEnergy(prerj, rj, ri);\n        }\n      }\n    }\n  }\n\n  _buildVW() {\n    const self = this;\n    const residues = this._complex._residues;\n    let ri;\n    let preri;\n\n    const vw = this._complex.getVoxelWorld();\n    if (vw === null) {\n      return;\n    }\n\n    const pairs = new PairCollection(this._complex._residues.length * this._complex._residues.length / 2);\n\n    function processAtom(atom) {\n      const rj = atom.residue;\n\n      if (rj._index === ri._index) {\n        return;\n      }\n\n      if ((rj.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        return;\n      }\n\n      if (!pairs.addPair(ri._index, rj._index)) {\n        // we've seen this pair\n        return;\n      }\n\n      // get predecessor in chain\n      let prerj = rj._index > 0 ? residues[rj._index - 1] : null;\n      if (prerj\n        && ((prerj.getType().flags & ResidueType.Flags.PROTEIN) === 0 || rj._sequence !== prerj._sequence + 1)) {\n        prerj = null;\n      }\n\n      self._calcHBondEnergy(preri, ri, rj);\n      if (rj._index !== ri._index + 1) {\n        self._calcHBondEnergy(prerj, rj, ri);\n      }\n    }\n\n    for (let i = 0; i < residues.length - 1; ++i) {\n      ri = residues[i];\n      if ((ri.getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n        continue;\n      }\n\n      // get predecessor in chain\n      preri = i > 0 ? residues[i - 1] : null;\n      if (preri\n        && ((preri.getType().flags & ResidueType.Flags.PROTEIN) === 0 || ri._sequence !== preri._sequence + 1)) {\n        preri = null;\n      }\n\n      vw.forEachAtomWithinRadius(this._residueGetCAlpha(ri), MAX_COUPLING_DISTANCE, processAtom);\n    }\n  }\n\n  _residueGetCAlpha(res) {\n    for (let i = 0; i < res._atoms.length; ++i) {\n      const { name } = res._atoms[i];\n      if (name === 'CA'\n        || name === 'C1') {\n        return res._atoms[i].position;\n      }\n    }\n\n    return null;\n  }\n\n  _residueGetCO(res) {\n    let c = null;\n    let o = null;\n\n    res.forEachAtom((a) => {\n      if (a.name === 'C') {\n        c = a.position;\n      } else if (a.name === 'O') {\n        o = a.position;\n      }\n    });\n\n    return [c, o];\n  }\n\n  // TODO Support hydrogen defined in complex\n  _residueGetNH(prev, res) {\n    const [c, o] = this._residueGetCO(prev);\n\n    let n;\n    res.forEachAtom((a) => {\n      if (a.name === 'N') {\n        n = a.position;\n      }\n    });\n\n    if (c && o && n) {\n      // calculate hydrogen position\n      const h = c.clone();\n      h.sub(o);\n      h.multiplyScalar(1.0 / h.length());\n      h.add(n);\n\n      return [n, h];\n    }\n\n    return [null, null];\n  }\n\n  _calcHBondEnergy(predonor, donor, acceptor) {\n    let result = 0;\n\n    if (predonor === null) {\n      return result;\n    }\n\n    if (donor.getType().getName() !== 'PRO') {\n      const [n, h] = this._residueGetNH(predonor, donor);\n      const [c, o] = this._residueGetCO(acceptor);\n\n      if (n === null || h === null || c === null || o === null) {\n        return result;\n      }\n\n      const distanceHO = h.distanceTo(o);\n      const distanceHC = h.distanceTo(c);\n      const distanceNC = n.distanceTo(c);\n      const distanceNO = n.distanceTo(o);\n\n      if (distanceHO < MINIMAL_DISTANCE || distanceHC < MINIMAL_DISTANCE\n          || distanceNC < MINIMAL_DISTANCE || distanceNO < MINIMAL_DISTANCE) {\n        result = MIN_HBOND_ENERGY;\n      } else {\n        result = COUPLING_CONSTANT / distanceHO - COUPLING_CONSTANT / distanceHC\n                 + COUPLING_CONSTANT / distanceNC - COUPLING_CONSTANT / distanceNO;\n      }\n\n      // DSSP compatibility mode:\n      result = Math.round(result * 1000) / 1000;\n\n      if (result < MIN_HBOND_ENERGY) {\n        result = MIN_HBOND_ENERGY;\n      }\n    }\n\n    // update donor\n    if (typeof this._hbonds[donor._index] === 'undefined') {\n      this._hbonds[donor._index] = {\n        donor: [],\n        acceptor: [],\n      };\n    }\n    const donorInfo = this._hbonds[donor._index];\n\n    if (donorInfo.acceptor.length < 2) {\n      donorInfo.acceptor.push({\n        residue: acceptor._index,\n        energy: result,\n      });\n    }\n\n    if (donorInfo.acceptor.length > 1) {\n      if (result < donorInfo.acceptor[0].energy) {\n        donorInfo.acceptor[1].residue = donorInfo.acceptor[0].residue;\n        donorInfo.acceptor[1].energy = donorInfo.acceptor[0].energy;\n        donorInfo.acceptor[0].residue = acceptor._index;\n        donorInfo.acceptor[0].energy = result;\n      } else if (result < donorInfo.acceptor[1].energy) {\n        donorInfo.acceptor[1].residue = acceptor._index;\n        donorInfo.acceptor[1].energy = result;\n      }\n    }\n\n    // update acceptor\n    if (typeof this._hbonds[acceptor._index] === 'undefined') {\n      this._hbonds[acceptor._index] = {\n        donor: [],\n        acceptor: [],\n      };\n    }\n    const accInfo = this._hbonds[acceptor._index];\n\n    if (accInfo.donor.length < 2) {\n      accInfo.donor.push({\n        residue: donor._index,\n        energy: result,\n      });\n    }\n\n    if (accInfo.donor.length > 1) {\n      if (result < accInfo.donor[0].energy) {\n        accInfo.donor[1].residue = accInfo.donor[0].residue;\n        accInfo.donor[1].energy = accInfo.donor[0].energy;\n        accInfo.donor[0].residue = donor._index;\n        accInfo.donor[0].energy = result;\n      } else if (result < accInfo.donor[1].energy) {\n        accInfo.donor[1].residue = donor._index;\n        accInfo.donor[1].energy = result;\n      }\n    }\n\n    return result;\n  }\n}\n","import HBondInfo from './HBondInfo';\nimport ResidueType from './ResidueType';\n\nconst BridgeType = Object.freeze({\n  NO_BRIDGE: 0,\n  PARALLEL: 1,\n  ANTI_PARALLEL: 2,\n});\n\nconst HelixFlag = Object.freeze({\n  START: 1,\n  MIDDLE: 2,\n  END: 3,\n  START_AND_END: 4,\n});\n\nconst StructureType = Object.freeze({\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  TURN: 'T',\n  BEND: 'S',\n  LOOP: ' ',\n});\n\nexport default class SecondaryStructureMap {\n  constructor(complex) {\n    this._complex = complex;\n    this._build();\n  }\n\n  _build() {\n    const self = this;\n    this._hbonds = new HBondInfo(this._complex);\n    this._ss = []; // DSSP map by residue\n\n    // auxilliary data\n    this._sheet = [];\n    this._betaPartners = [];\n    this._bend = [];\n    for (let i = 0; i < this._complex.getResidues().length; ++i) {\n      this._betaPartners[i] = [];\n    }\n    this._helixFlags = [];\n    this._helixFlags[3] = [];\n    this._helixFlags[4] = [];\n    this._helixFlags[5] = [];\n\n    // calculate peptide chain lengths\n    this._chainLengths = [];\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i].getResidues();\n      let len = 0;\n      for (; len < chain.length; ++len) {\n        if ((chain[len].getType().flags & ResidueType.Flags.PROTEIN) === 0) {\n          break;\n        }\n      }\n      this._chainLengths[i] = len;\n    }\n\n    this._buildBetaSheets();\n\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      self._buildAlphaHelices(this._complex._chains[i].getResidues(), this._chainLengths[i], false);\n    }\n  }\n\n  _buildAlphaHelices(inResidues, chainLength, inPreferPiHelices) {\n    // Helix and Turn\n    for (let stride = 3; stride <= 5; ++stride) {\n      if (inResidues.length < stride) {\n        break;\n      }\n\n      for (let i = 0; i + stride < chainLength; ++i) {\n        if (this._hbonds.isBond(inResidues[i + stride]._index, inResidues[i]._index)\n        /* && NoChainBreak(res[i], res[i + stride]) */) {\n          this._helixFlags[stride][inResidues[i + stride]._index] = HelixFlag.END;\n          for (let j = i + 1; j < i + stride; ++j) {\n            if (typeof this._helixFlags[stride][inResidues[j]._index] === 'undefined') {\n              this._helixFlags[stride][inResidues[j]._index] = HelixFlag.MIDDLE;\n            }\n          }\n\n          if (this._helixFlags[stride][inResidues[i]._index] === HelixFlag.END) {\n            this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START_AND_END;\n          } else {\n            this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START;\n          }\n        }\n      }\n    }\n\n    for (let i = 2; i < chainLength - 2; ++i) {\n      const kappa = this._kappa(inResidues[i - 2], inResidues[i], inResidues[i + 2]);\n      this._bend[inResidues[i]._index] = (kappa !== 360 && kappa > 70);\n    }\n\n    for (let i = 1; i + 4 < chainLength; ++i) {\n      if (this._isHelixStart(inResidues[i]._index, 4) && this._isHelixStart(inResidues[i - 1]._index, 4)) {\n        for (let j = i; j <= i + 3; ++j) {\n          this._ss[inResidues[j]._index] = StructureType.HELIX_ALPHA;\n        }\n      }\n    }\n\n    for (let i = 1; i + 3 < chainLength; ++i) {\n      if (this._isHelixStart(inResidues[i]._index, 3) && this._isHelixStart(inResidues[i - 1]._index, 3)) {\n        let empty = true;\n        for (let j = i; empty && j <= i + 2; ++j) {\n          empty = typeof this._ss[inResidues[j]._index] === 'undefined'\n                  || this._ss[inResidues[j]._index] === StructureType.HELIX_310;\n        }\n        if (empty) {\n          for (let j = i; j <= i + 2; ++j) {\n            this._ss[inResidues[j]._index] = StructureType.HELIX_310;\n          }\n        }\n      }\n    }\n\n    for (let i = 1; i + 5 < chainLength; ++i) {\n      if (this._isHelixStart(inResidues[i]._index, 5) && this._isHelixStart(inResidues[i - 1]._index, 5)) {\n        let empty = true;\n        for (let j = i; empty && j <= i + 4; ++j) {\n          empty = typeof this._ss[inResidues[j]._index] === 'undefined'\n                  || this._ss[inResidues[j]._index] === StructureType.HELIX_PI\n                  || (inPreferPiHelices && this._ss[inResidues[j]._index] === StructureType.HELIX_ALPHA);\n        }\n        if (empty) {\n          for (let j = i; j <= i + 4; ++j) {\n            this._ss[inResidues[j]._index] = StructureType.HELIX_PI;\n          }\n        }\n      }\n    }\n\n    for (let i = 1; i + 1 < chainLength; ++i) {\n      if (typeof this._ss[inResidues[i]._index] === 'undefined') {\n        let isTurn = false;\n        for (let stride = 3; stride <= 5 && !isTurn; ++stride) {\n          for (let k = 1; k < stride && !isTurn; ++k) {\n            isTurn = (i >= k) && this._isHelixStart(inResidues[i - k]._index, stride);\n          }\n        }\n\n        if (isTurn) {\n          this._ss[inResidues[i]._index] = StructureType.TURN;\n        } else if (this._bend[inResidues[i]._index]) {\n          this._ss[inResidues[i]._index] = StructureType.BEND;\n        }\n      }\n    }\n  }\n\n  _residueGetCAlpha(res) {\n    for (let i = 0; i < res._atoms.length; ++i) {\n      const { name } = res._atoms[i];\n      if (name === 'CA'\n          || name === 'C1') {\n        return res._atoms[i].position;\n      }\n    }\n\n    return null;\n  }\n\n  _cosinusAngle(p1, p2, p3, p4) {\n    const v12 = p1.clone().sub(p2);\n    const v34 = p3.clone().sub(p4);\n\n    let result = 0;\n\n    const x = v12.dot(v12) * v34.dot(v34);\n    if (x > 0) {\n      result = v12.dot(v34) / Math.sqrt(x);\n    }\n\n    return result;\n  }\n\n  _kappa(prevPrev, res, nextNext) {\n    const curCA = this._residueGetCAlpha(res);\n    const ppCA = this._residueGetCAlpha(prevPrev);\n    const nnCA = this._residueGetCAlpha(nextNext);\n    if (curCA === null || ppCA === null || nnCA === null) {\n      return 180;\n    }\n\n    const ckap = this._cosinusAngle(curCA, ppCA, nnCA, curCA);\n    const skap = Math.sqrt(1 - ckap * ckap);\n    return Math.atan2(skap, ckap) * 180 / Math.PI;\n  }\n\n  _isHelixStart(res, stride) {\n    return (this._helixFlags[stride][res] === HelixFlag.START\n      || this._helixFlags[stride][res] === HelixFlag.START_AND_END);\n  }\n\n  _buildBetaSheets() {\n    // find bridges\n    // check each chain against each other chain, and against itself\n    const bridges = [];\n    for (let a = 0; a < this._complex._chains.length; ++a) {\n      const lenA = this._chainLengths[a];\n      if (lenA <= 4) {\n        continue;\n      }\n\n      const chainA = this._complex._chains[a].getResidues();\n\n      for (let b = a; b < this._complex._chains.length; ++b) {\n        const lenB = this._chainLengths[b];\n        if (lenB <= 4) {\n          continue;\n        }\n\n        const chainB = this._complex._chains[b].getResidues();\n\n        for (let i = 1; i + 1 < lenA; ++i) {\n          const ri = chainA[i];\n\n          let j = 1;\n          if (b === a) {\n            j = i + 3; // check for self-bridges forward down the chain\n          }\n\n          for (; j + 1 < lenB; ++j) {\n            const rj = chainB[j];\n\n            const type = this._testBridge(chainA, i, chainB, j);\n            if (type === BridgeType.NO_BRIDGE) {\n              continue;\n            }\n\n            // there is a bridge, try to attach it to previously found sequence\n            let found = false;\n            for (const bridge of bridges) {\n              if (type !== bridge.type || ri._index !== bridge.i[bridge.i.length - 1] + 1) {\n                continue;\n              }\n\n              if (type === BridgeType.PARALLEL && bridge.j[bridge.j.length - 1] + 1 === rj._index) {\n                bridge.i.push(ri._index);\n                bridge.j.push(rj._index);\n                found = true;\n                break;\n              }\n\n              if (type === BridgeType.ANTI_PARALLEL && bridge.j[0] - 1 === rj._index) {\n                bridge.i.push(ri._index);\n                bridge.j.unshift(rj._index);\n                found = true;\n                break;\n              }\n            }\n\n            // this bridge cannot be attached anywhere, start a new sequence\n            if (!found) {\n              bridges.push({\n                type,\n                i: [ri._index],\n                chainI: ri.getChain()._index,\n                j: [rj._index],\n                chainJ: rj.getChain()._index,\n              });\n            }\n          }\n        }\n      }\n    }\n\n    // extend ladders\n    bridges.sort((a, b) => {\n      if (a.chainI < b.chainI || (a.chainI === b.chainI && a.i[0] < b.i[0])) {\n        return -1;\n      }\n      return 1;\n    });\n\n    for (let i = 0; i < bridges.length; ++i) {\n      for (let j = i + 1; j < bridges.length; ++j) {\n        const ibi = bridges[i].i[0];\n        const iei = bridges[i].i[bridges[i].i.length - 1];\n        const jbi = bridges[i].j[0];\n        const jei = bridges[i].j[bridges[i].j.length - 1];\n        const ibj = bridges[j].i[0];\n        const iej = bridges[j].i[bridges[j].i.length - 1];\n        const jbj = bridges[j].j[0];\n        const jej = bridges[j].j[bridges[j].j.length - 1];\n\n        if (bridges[i].type !== bridges[j].type\n          || this._hasChainBreak(Math.min(ibi, ibj), Math.max(iei, iej))\n          || this._hasChainBreak(Math.min(jbi, jbj), Math.max(jei, jej))\n          || ibj - iei >= 6 || (iei >= ibj && ibi <= iej)) {\n          continue;\n        }\n\n        let bulge = false;\n        if (bridges[i].type === BridgeType.PARALLEL) {\n          bulge = ((jbj - jei < 6 && ibj - iei < 3) || (jbj - jei < 3));\n        } else {\n          bulge = ((jbi - jej < 6 && ibj - iei < 3) || (jbi - jej < 3));\n        }\n\n        if (bulge) {\n          bridges[i].i = bridges[i].i.concat(bridges[j].i);\n          if (bridges[i].type === BridgeType.PARALLEL) {\n            bridges[i].j = bridges[i].j.concat(bridges[j].j);\n          } else {\n            bridges[i].j = bridges[j].j.concat(bridges[i].j);\n          }\n          bridges.splice(j--, 1);\n        }\n      }\n    }\n\n    // Sheet\n    const ladderset = new Set();\n    for (let i = 0; i < bridges.length; ++i) {\n      ladderset.add(bridges[i]);\n    }\n\n    let sheet = 1;\n    let ladder = 0;\n    while (ladderset.size > 0) {\n      let bridge = ladderset.values().next().value;\n      ladderset.delete(bridge);\n\n      const sheetset = new Set();\n      sheetset.add(bridge);\n\n      let toMove;\n      do {\n        toMove = new Set();\n        for (const a of sheetset.values()) {\n          for (const b of ladderset.values()) {\n            if (this._areBridgesLinked(a, b)) {\n              toMove.add(b);\n            }\n          }\n        }\n        for (bridge of toMove.values()) {\n          sheetset.add(bridge);\n          ladderset.delete(bridge);\n        }\n      } while (toMove.size > 0);\n\n      for (bridge of sheetset.values()) {\n        bridge.ladder = ladder;\n        bridge.sheet = sheet;\n        bridge.link = sheetset;\n        ++ladder;\n      }\n\n      ++sheet;\n    }\n\n    for (let i = 0; i < bridges.length; ++i) {\n      const bridge = bridges[i];\n\n      // find out if any of the i and j set members already have\n      // a bridge assigned, if so, we're assigning bridge 2\n\n      let betai = 0;\n      let betaj = 0;\n\n      for (let l = 0; l < bridge.i.length; ++l) {\n        if (this._betaPartners[bridge.i[l]][0]) {\n          betai = 1;\n          break;\n        }\n      }\n\n      for (let l = 0; l < bridge.j.length; ++l) {\n        if (this._betaPartners[bridge.j[l]][0]) {\n          betaj = 1;\n          break;\n        }\n      }\n\n      let ss = StructureType.BRIDGE;\n      if (bridge.i.length > 1) {\n        ss = StructureType.STRAND;\n      }\n\n      if (bridge.type === BridgeType.PARALLEL) {\n        let j = 0;\n        for (let k = 0; k < bridge.i.length; ++k) {\n          this._betaPartners[bridge.i[k]][betai] = {\n            residue: bridge.j[j++],\n            ladder: bridge.ladder,\n            parallel: true,\n          };\n        }\n\n        j = 0;\n        for (let k = 0; k < bridge.j.length; ++k) {\n          this._betaPartners[bridge.j[k]][betaj] = {\n            residue: bridge.i[j++],\n            ladder: bridge.ladder,\n            parallel: true,\n          };\n        }\n      } else {\n        let j = bridge.j.length - 1;\n        for (let k = 0; k < bridge.i.length; ++k) {\n          this._betaPartners[bridge.i[k]][betai] = {\n            residue: bridge.j[j--],\n            ladder: bridge.ladder,\n            parallel: false,\n          };\n        }\n\n        j = bridge.i.length - 1;\n        for (let k = 0; k < bridge.j.length; ++k) {\n          this._betaPartners[bridge.j[k]][betaj] = {\n            residue: bridge.i[j--],\n            ladder: bridge.ladder,\n            parallel: false,\n          };\n        }\n      }\n\n      for (let k = bridge.i[0]; k <= bridge.i[bridge.i.length - 1]; ++k) {\n        if (this._ss[k] !== StructureType.STRAND) {\n          this._ss[k] = ss;\n          this._sheet[k] = bridge.sheet;\n        }\n      }\n\n      for (let k = bridge.j[0]; k <= bridge.j[bridge.j.length - 1]; ++k) {\n        if (this._ss[k] !== StructureType.STRAND) {\n          this._ss[k] = ss;\n          this._sheet[k] = bridge.sheet;\n        }\n      }\n    }\n  }\n\n  _testBridge(chainA, from, chainB, to) {\n    let result = BridgeType.NO_BRIDGE;\n\n    const a = chainA[from - 1]._index;\n    const b = chainA[from]._index;\n    const c = chainA[from + 1]._index;\n    const d = chainB[to - 1]._index;\n    const e = chainB[to]._index;\n    const f = chainB[to + 1]._index;\n\n    const isBond = this._hbonds.isBond.bind(this._hbonds);\n    if ((isBond(c, e) && isBond(e, a)) || (isBond(f, b) && isBond(b, d))) {\n      result = BridgeType.PARALLEL;\n    } else if ((isBond(c, d) && isBond(f, a)) || (isBond(e, b) && isBond(b, e))) {\n      result = BridgeType.ANTI_PARALLEL;\n    }\n    return result;\n  }\n\n  // return true if any of the residues in bridge a is identical to any of the residues in bridge b\n  _areBridgesLinked(a, b) {\n    const ai = new Set(a.i);\n    const aj = new Set(a.j);\n\n    for (const i of b.i) {\n      if (ai.has(i) || aj.has(i)) {\n        return true;\n      }\n    }\n\n    for (const i of b.j) {\n      if (ai.has(i) || aj.has(i)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  _hasChainBreak(from, to) {\n    for (let i = from + 1; i <= to; ++i) {\n      if (this._complex._residues[i]._sequence !== this._complex._residues[i - 1]._sequence + 1) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nSecondaryStructureMap.StructureType = StructureType;\n","import * as THREE from 'three';\nimport logger from '../utils/logger';\nimport Atom from './Atom';\nimport Chain from './Chain';\nimport Helix from './Helix';\nimport Strand from './Strand';\nimport Sheet from './Sheet';\nimport Component from './Component';\nimport ResidueType from './ResidueType';\nimport Bond from './Bond';\nimport AutoBond from './AutoBond';\nimport AromaticLoopsMarker from './AromaticLoopsMarker';\nimport BiologicalUnit from './BiologicalUnit';\nimport selectors from './selectors';\nimport VoxelWorld from './VoxelWorld';\nimport SecondaryStructureMap from './SecondaryStructureMap';\nimport StructuralElement from './StructuralElement';\n\nconst VOXEL_SIZE = 5.0;\n\nconst { StructureType } = SecondaryStructureMap;\nconst StructuralElementType = StructuralElement.Type;\n\n// see http://www.wwpdb.org/documentation/file-format-content/format33/sect5.html#HELIX\nconst helixClassMap = {\n  [StructureType.HELIX_ALPHA]: 1,\n  [StructureType.HELIX_PI]: 3,\n  [StructureType.HELIX_310]: 5,\n};\n\nconst loopMap = {\n  [StructureType.BRIDGE]: StructuralElementType.BRIDGE,\n  [StructureType.TURN]: StructuralElementType.TURN,\n  [StructureType.BEND]: StructuralElementType.BEND,\n  [StructureType.LOOP]: StructuralElementType.COIL,\n};\n\n/**\n * The entire complex of the molecules under study.\n *\n * @exports Complex\n * @constructor\n */\nclass Complex {\n  constructor() {\n    this._chains = [];\n    this._components = [];\n    this._helices = [];\n    this._sheets = [];\n    this.structures = [];\n\n    this._residueTypes = Object.create(ResidueType.StandardTypes);\n    this._atoms = [];\n    this._residues = [];\n    this._bonds = [];\n    this._sgroups = [];\n    this._molecules = [];\n    this._maskNeedsUpdate = false;\n\n    this.metadata = {};\n\n    this.symmetry = [];\n    this.units = [new BiologicalUnit(this)];\n    this._currentUnit = 0; // default biological unit is the asymmetric unit\n  }\n\n  addAtom(atom) {\n    const index = this._atoms.length;\n    this._atoms.push(atom);\n    return index;\n  }\n\n  addSheet(sheet) {\n    const index = this._sheets.length;\n    this._sheets.push(sheet);\n    return index;\n  }\n\n  addHelix(helix) {\n    const index = this._helices.length;\n    this._helices.push(helix);\n    return index;\n  }\n\n  getAtoms() {\n    return this._atoms;\n  }\n\n  getBonds() {\n    return this._bonds;\n  }\n\n  getAtomCount() {\n    return this._atoms.length;\n  }\n\n  addResidue(residue) {\n    const index = this._residues.length;\n    this._residues.push(residue);\n    return index;\n  }\n\n  updateToFrame(frameData) {\n    this.forEachChain((chain) => {\n      chain.updateToFrame(frameData);\n    });\n  }\n\n  addResidueType(resName) {\n    const rt = this._residueTypes[resName] = new ResidueType(resName, 'Unknown', '');\n    return rt;\n  }\n\n  getResidueCount() {\n    return this._residues.length;\n  }\n\n  getResidues() {\n    return this._residues;\n  }\n\n  getSGroupCount() {\n    return this._sgroups.length;\n  }\n\n  getSGroups() {\n    return this._sgroups;\n  }\n\n  /*\n     Extract atom by its fullname: #chainName#.#residueId#.#atomName#\n     */\n  getAtomByFullname(fullName) {\n    const parts = fullName.split('.');\n    if (parts.length !== 3) {\n      return null;\n    }\n\n    const chainName = parts[0];\n    const resId = parseInt(parts[1], 10);\n    if (Number.isNaN(resId)) {\n      return null;\n    }\n    const atomName = parts[2].toUpperCase();\n\n    let currAtom = null;\n    this.forEachChain((chain) => {\n      if (currAtom) {\n        return;\n      }\n      if (chain._name.localeCompare(chainName) === 0) {\n        chain.forEachResidue((residue) => {\n          if (currAtom) {\n            return;\n          }\n          if (residue._sequence === resId) {\n            residue.forEachAtom((atom) => {\n              if (currAtom) {\n                return;\n              }\n              if (atomName.localeCompare(atom.name) === 0) {\n                currAtom = atom;\n              }\n            });\n          }\n        });\n      }\n    });\n\n    return currAtom;\n  }\n\n  /**\n   * Create a new chain.\n   *\n   * @param {string} name - Chain name.\n   * @returns {Chain} - Newly created chain.\n   */\n  addChain(name) {\n    const result = new Chain(this, name);\n    this._chains.push(result);\n    return result;\n  }\n\n  getChain(name) {\n    for (let i = 0, n = this._chains.length; i < n; ++i) {\n      const chain = this._chains[i];\n      if (chain.getName() === name) {\n        return chain;\n      }\n    }\n    return null;\n  }\n\n  getChainCount() {\n    return this._chains.length;\n  }\n\n  getMolecules() {\n    return this._molecules;\n  }\n\n  getMoleculeCount() {\n    return this._molecules.length;\n  }\n\n  forEachAtom(process) {\n    const atoms = this._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      process(atoms[i]);\n    }\n  }\n\n  forEachBond(process) {\n    const bonds = this._bonds;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      process(bonds[i]);\n    }\n  }\n\n  forEachResidue(process) {\n    const residues = this._residues;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i]);\n    }\n  }\n\n  forEachChain(process) {\n    const chains = this._chains;\n    for (let i = 0, n = chains.length; i < n; ++i) {\n      process(chains[i]);\n    }\n  }\n\n  forEachMolecule(process) {\n    const molecules = this._molecules;\n    const n = molecules.length;\n    for (let i = 0; i < n; ++i) {\n      process(molecules[i]);\n    }\n  }\n\n  forEachSGroup(process) {\n    const groups = this._sgroups;\n    for (let i = 0, n = groups.length; i < n; ++i) {\n      process(groups[i]);\n    }\n  }\n\n  forEachComponent(process) {\n    const components = this._components;\n    for (let i = 0, n = components.length; i < n; ++i) {\n      process(components[i]);\n    }\n  }\n\n  forEachVisibleComponent(process) {\n    const components = this._components;\n    for (let i = 0, n = components.length; i < n; ++i) {\n      process(components[i]);\n    }\n  }\n\n  addBond(left, right, order, type, fixed) {\n    const bond = new Bond(left, right, order, type, fixed);\n    this._bonds.push(bond);\n    return bond;\n  }\n\n  getBondCount() {\n    return this._bonds.length;\n  }\n\n  getResidueType(name) {\n    return this._residueTypes[name] || null;\n  }\n\n  getUnifiedSerial(chain, serial, iCode) {\n    /* eslint-disable no-magic-numbers */\n    const maxSerial = 65536;\n    const chainShift = maxSerial * 256;\n    /* eslint-enable no-magic-numbers */\n    return serial + iCode * maxSerial + chain * chainShift;\n  }\n\n  splitUnifiedSerial(uniSerial) {\n    /* eslint-disable no-magic-numbers */\n    const maxSerial = 65536;\n    const chainShift = maxSerial * 256;\n    /* eslint-enable no-magic-numbers */\n    const chainId = Math.floor(uniSerial / chainShift);\n    const remnant = uniSerial - chainId * chainShift;\n    const insCode = Math.floor(remnant / maxSerial);\n    const ser = remnant - insCode * maxSerial;\n    return { chain: chainId, serial: ser, iCode: insCode };\n  }\n\n  _fillCmpEdit() {\n    const self = this;\n    const components = this._components;\n\n    function addComp() {\n      const comp = new Component(self);\n      comp._index = components.length;\n      components[comp._index] = comp;\n      return comp;\n    }\n\n    this.forEachChain((chain) => {\n      const residues = chain._residues;\n      const resCount = residues.length;\n      if (resCount < 1) {\n        return;\n      }\n      let comp = addComp();\n      let currStart = residues[0]._index;\n\n      for (let i = 0; i < resCount; ++i) {\n        const currRes = residues[i];\n        currRes._component = comp;\n\n        const nextRes = i === resCount - 1 ? null : residues[i + 1];\n        if (!nextRes\n          || !currRes.isConnected(nextRes)\n          || currRes._index !== nextRes._index - 1) {\n          // the last condition is broken and incorrect\n          // the refactoring of the Component is required in order to fix this issue\n          comp.setSubDivs([{\n            start: currStart,\n            end: currRes._index,\n          }]);\n          if (nextRes) {\n            currStart = nextRes._index;\n            comp = addComp();\n          }\n        }\n      }\n    });\n  }\n\n  // This function was added in the moment of despair\n  // It was the dark times for miew\n  _fillCmpNoedit() {\n    const comp = new Component(this);\n    comp._index = 0;\n\n    const residues = this._residues;\n    const resCount = residues.length;\n    if (resCount === 0) {\n      return;\n    }\n\n    const currSubDivs = [];\n    let currStart = 0;\n    for (let i = 0; i < resCount; ++i) {\n      const currRes = residues[i];\n      currRes._component = comp;\n\n      const nextRes = i === resCount - 1 ? null : residues[i + 1];\n      if (!nextRes\n        || !currRes.isConnected(nextRes)) {\n        // wrap up this interval\n        currSubDivs[currSubDivs.length] = {\n          start: currStart,\n          end: i,\n        };\n        if (nextRes) {\n          currStart = i + 1;\n        }\n      }\n    }\n\n    comp.setSubDivs(currSubDivs);\n    this._components[comp._index] = comp;\n  }\n\n  /**\n   * Fill components information.\n   * @param {boolean} enableEditing - Restructure Complex to enable per-component editing.\n   */\n  _fillComponents(enableEditing) {\n    if (enableEditing) {\n      this._fillCmpEdit();\n    } else {\n      this._fillCmpNoedit();\n    }\n  }\n\n  getCurrentUnit() {\n    return this._currentUnit;\n  }\n\n  getDefaultBoundaries() {\n    return this.units[0].getBoundaries();\n  }\n\n  getBoundaries() {\n    return this.units[this._currentUnit].getBoundaries();\n  }\n\n  getTransforms() {\n    return this.units[this._currentUnit].getTransforms();\n  }\n\n  getSelector() {\n    return this.units[this._currentUnit].getSelector();\n  }\n\n  resetCurrentUnit() {\n    this._currentUnit = 0;\n    this.setCurrentUnit(1);\n  }\n\n  setCurrentUnit(newUnit) {\n    if (newUnit !== null && newUnit !== undefined\n      && newUnit !== this._currentUnit\n      && newUnit >= 0\n      && newUnit < this.units.length) {\n      this._currentUnit = newUnit;\n      return true;\n    }\n    return false;\n  }\n\n  _computeBounds() {\n    const { units } = this;\n    for (let i = 0, n = units.length; i < n; ++i) {\n      units[i].computeBoundaries();\n    }\n  }\n\n  onAtomPositionChanged() {\n    this.forEachChain((a) => {\n      a._finalize();\n    });\n    this.forEachComponent((c) => {\n      c.update();\n    });\n    // Update bounding sphere and box\n    this._computeBounds();\n    this._finalizeBonds();\n    this.forEachSGroup((s) => {\n      s._rebuildSGroupOnAtomChange();\n    });\n  }\n\n  update() {\n    if (this._maskNeedsUpdate) {\n      this.updateStructuresMask();\n      this._maskNeedsUpdate = false;\n    }\n  }\n\n  _finalizeBonds() {\n    const bonds = this.getBonds();\n    const n = bonds.length;\n    for (let i = 0; i < n; ++i) {\n      bonds[i]._index = i;\n    }\n  }\n\n  /**\n   * Finalizes complex's inner data(i.e. after parsing).\n   * @param {objects} opts - Build bonds automatically.\n   * @param {boolean} opts.needAutoBonding     - Build bonds automatically.\n   * @param {boolean} opts.detectAromaticLoops - Find/mark aromatic loops.\n   * @param {boolean} opts.enableEditing       - Restructure Complex to enable per-component editing.\n   * @param {Array<Atom>} [opts.serialAtomMap] - Array of atoms ordered by their serials.\n   */\n  finalize(opts) {\n    opts = opts || {};\n    // Put bonds into atoms\n    const bonds = this._bonds;\n    let i;\n    let n;\n    // remove invalid bonds\n    for (i = bonds.length - 1; i >= 0; i--) {\n      const bond = bonds[i];\n      if (bond._left === null || bond._right === null) {\n        bonds.splice(i, 1);\n      } else {\n        bond._left.bonds.push(bond);\n        bond._right.bonds.push(bond);\n      }\n    }\n\n    const residues = this._residues;\n    for (i = 0, n = residues.length; i < n; ++i) {\n      residues[i]._finalize();\n    }\n\n    this.forEachChain((a) => {\n      a._finalize();\n    });\n\n    // WARNING! this MUST be done BEFORE computeBounds is called\n    const { units } = this;\n    for (i = 0, n = units.length; i < n; ++i) {\n      units[i].finalize();\n    }\n    // try setting first biomolecule by defaults\n    this.setCurrentUnit(1);\n\n    const residueHash = {};\n    for (i = 0, n = residues.length; i < n; ++i) {\n      const res = residues[i];\n      // This code is extremely dangerous for non-PDB formats\n      residueHash[this.getUnifiedSerial(\n        res.getChain().getName().charCodeAt(0),\n        res.getSequence(), res.getICode().charCodeAt(0),\n      )] = res;\n    }\n\n    const { structures } = this;\n    for (i = 0, n = structures.length; i < n; ++i) {\n      structures[i]._finalize(opts.serialAtomMap, residueHash, this);\n    }\n\n    const helices = this._helices;\n    for (i = 0, n = helices.length; i < n; ++i) {\n      helices[i]._finalize(opts.serialAtomMap, residueHash, this);\n    }\n\n    const sheets = this._sheets;\n    for (i = 0, n = sheets.length; i < n; ++i) {\n      sheets[i]._finalize(opts.serialAtomMap, residueHash, this);\n    }\n\n    // Update bounding sphere and box\n    this._computeBounds();\n\n    const atoms = this._atoms;\n    for (i = 0, n = atoms.length; i < n; ++i) {\n      const currAtom = atoms[i];\n      currAtom.index = i;\n    }\n\n    if (opts.needAutoBonding) {\n      const autoConnector = new AutoBond(this);\n      autoConnector.build();\n      autoConnector.destroy();\n    }\n\n    const chains = this._chains;\n    for (i = 0, n = chains.length; i < n; ++i) {\n      chains[i]._index = i;\n    }\n\n    for (i = 0, n = residues.length; i < n; ++i) {\n      residues[i]._index = i;\n    }\n\n    // mark non-polar hydrogens\n    for (i = 0, n = atoms.length; i < n; ++i) {\n      const atom = atoms[i];\n      if (atom.flags & Atom.Flags.HYDROGEN && atom.bonds.length === 1) {\n        const bond = atom.bonds[0];\n        const other = (bond._left !== atom && bond._left) || bond._right;\n        if (other.flags & Atom.Flags.CARBON) {\n          atom.flags |= Atom.Flags.NONPOLARH;\n        }\n      }\n    }\n\n    this._finalizeBonds();\n    this._fillComponents(opts.enableEditing);\n\n    const marker = new AromaticLoopsMarker(this);\n    marker.markCycles();\n    if (opts.detectAromaticLoops) { // TODO remove this condition clause, it is for debug purposes only!\n      marker.detectCycles(); // TODO add conditional detection\n    }\n\n    this._finalizeMolecules();\n  }\n\n  _finalizeMolecules() {\n    // add reference to molecule into residue\n    for (let i = 0; i < this._molecules.length; i++) {\n      const molecule = this._molecules[i];\n      const count = molecule.residues.length;\n      for (let j = 0; j < count; j++) {\n        const residue = molecule.residues[j];\n        residue._molecule = molecule;\n      }\n    }\n  }\n\n  updateStructuresMask() {\n    const updater = (structure) => structure.collectMask();\n    this.forEachResidue(updater);\n    this.forEachChain(updater);\n    this.forEachMolecule(updater);\n  }\n\n  countAtomsByMask(mask) {\n    let count = 0;\n\n    this.forEachAtom((atom) => {\n      if ((atom.mask & mask) !== 0) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  getNumAtomsBySelector(selector) {\n    let count = 0;\n\n    this.forEachAtom((atom) => {\n      if (selector.includesAtom(atom)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  resetAtomMask(mask) {\n    this.forEachAtom((atom) => {\n      atom.mask = mask;\n    });\n  }\n\n  markAtoms(selector, mask) {\n    const setMask = mask;\n    const clearMask = ~setMask;\n    let count = 0;\n    const totalSelector = selectors.keyword('And')(selector, this.getSelector());\n\n    this.forEachAtom((atom) => {\n      if (totalSelector.includesAtom(atom)) {\n        atom.mask |= setMask;\n        count++;\n      } else {\n        atom.mask &= clearMask;\n      }\n    });\n    this._maskNeedsUpdate = true;\n\n    return count;\n  }\n\n  markAtomsAdditionally(selector, mask) {\n    const setMask = mask;\n    let count = 0;\n\n    this.forEachAtom((atom) => {\n      if (selector.includesAtom(atom) && (atom.mask & mask) !== mask) {\n        atom.mask |= setMask;\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  clearAtomBits(mask) {\n    const clearMask = ~mask;\n    this.forEachAtom((atom) => {\n      atom.mask &= clearMask;\n    });\n    const reseter = (a) => {\n      a._mask &= clearMask;\n    };\n    this.forEachAtom(reseter);\n    this.forEachResidue(reseter);\n    this.forEachChain(reseter);\n    this.forEachMolecule(reseter);\n  }\n\n  getAtomNames() {\n    if (this.hasOwnProperty('_atomNames')) {\n      return this._atomNames;\n    }\n\n    const dict = {};\n    this.forEachAtom((atom) => {\n      dict[atom.name] = 1;\n    });\n    this._atomNames = Object.keys(dict);\n\n    return this._atomNames;\n  }\n\n  getElements() {\n    if (this.hasOwnProperty('_elements')) {\n      return this._elements;\n    }\n\n    const dict = {};\n    this.forEachAtom((atom) => {\n      dict[atom.element.name] = 1;\n    });\n    this._elements = Object.keys(dict);\n\n    return this._elements;\n  }\n\n  getResidueNames() {\n    if (this.hasOwnProperty('_residueNames')) {\n      return this._residueNames;\n    }\n\n    const dict = {};\n    this.forEachResidue((res) => {\n      dict[res._type._name] = 1;\n    });\n    this._residueNames = Object.keys(dict);\n\n    return this._residueNames;\n  }\n\n  getChainNames() {\n    if (this.hasOwnProperty('_chainNames')) {\n      return this._chainNames;\n    }\n\n    const dict = {};\n    this.forEachChain((chain) => {\n      dict[chain._name] = 1;\n    });\n    this._chainNames = Object.keys(dict);\n\n    return this._chainNames;\n  }\n\n  getAltLocNames() {\n    if (this.hasOwnProperty('_altlocNames')) {\n      return this._altlocNames;\n    }\n\n    const dict = {};\n    this.forEachAtom((atom) => {\n      dict[String.fromCharCode(atom.location)] = 1;\n    });\n    this._altlocNames = Object.keys(dict);\n\n    return this._altlocNames;\n  }\n\n  getVoxelWorld() {\n    if (!this.hasOwnProperty('_voxelWorld')) {\n      try {\n        this._voxelWorld = new VoxelWorld(\n          this.getDefaultBoundaries().boundingBox,\n          new THREE.Vector3(VOXEL_SIZE, VOXEL_SIZE, VOXEL_SIZE),\n        );\n        this._voxelWorld.addAtoms(this);\n      } catch (e) {\n        logger.warn('Unable to create voxel world');\n        this._voxelWorld = null;\n      }\n    }\n\n    return this._voxelWorld;\n  }\n\n  /**\n   * Simple function to make unified routine procedure without code duplication.\n   * @param {Array} srcArray   - Source chemical structure array (will be part of resulting chemical structure array).\n   * @param {Array} dstArray   - Resulting chemical structure array.\n   * @param {number} param     - Parameter for processor.\n   * @param {function} functor - Processor for every element in array.\n   */\n  addElement(srcArray, dstArray, param, functor) {\n    const { length } = srcArray;\n    for (let i = 0; i < length; ++i) {\n      const elem = srcArray[i];\n      functor(elem, param);\n      dstArray.push(elem);\n    }\n  }\n\n  // this function joins multiple complexes into one (this)\n  // atom, bond, ... objects are reused -- so input complexes are no longer valid\n  joinComplexes(complexes) {\n    // clear target complex\n    this._chains = [];\n    this._components = [];\n    this._helices = [];\n    this._sheets = [];\n    this.structures = [];\n    this._atoms = [];\n    this._residues = [];\n    this._bonds = [];\n    this._sgroups = [];\n\n    const self = this;\n    let atomBias = 0;\n    let bondBias = 0;\n    let residueBias = 0;\n    let chainBias = 0;\n    let componentBias = 0;\n\n    function processAtom(atom, bias) {\n      atom.serial += bias;\n      atom.index += bias;\n    }\n\n    function processBond(bond, bias) {\n      bond._index += bias;\n    }\n\n    function processResidue(residue, bias) {\n      residue._index += bias;\n    }\n\n    function processChain(chain, bias) {\n      chain._complex = self;\n      chain._index += bias;\n    }\n\n    function processComponent(component, bias) {\n      component._complex = self;\n      component._index += bias;\n    }\n\n    /**\n     * Simple function to do nothing.\n     */\n    function doNothing() {\n    }\n\n    for (let i = 0; i < complexes.length; ++i) {\n      const c = complexes[i];\n      this.addElement(c._atoms, this._atoms, atomBias, processAtom);\n      this.addElement(c._bonds, this._bonds, bondBias, processBond);\n      this.addElement(c._residues, this._residues, residueBias, processResidue);\n      this.addElement(c._chains, this._chains, chainBias, processChain);\n      this.addElement(c._sheets, this._sheets, 0, doNothing);\n      this.addElement(c._helices, this._helices, 0, doNothing);\n      this.addElement(c._sgroups, this._sgroups, 0, doNothing);\n      this.addElement(c._components, this._components, componentBias, processComponent);\n      this.addElement(c.structures, this.structures, 0, doNothing);\n      // merge residue types\n      for (const rt in c._residueTypes) {\n        if (c._residueTypes.hasOwnProperty(rt)) {\n          this._residueTypes[rt] = c._residueTypes[rt];\n        }\n      }\n\n      atomBias += c._atoms.length;\n      bondBias += c._bonds.length;\n      residueBias += c._residues.length;\n      chainBias += c._chains.length;\n      componentBias += c._components.length;\n    }\n\n    this._computeBounds();\n  }\n\n  /**\n   * Replace secondary structure with calculated one.\n   *\n   * DSSP algorithm implementation is used.\n   *\n   * Kabsch W, Sander C. 1983. Dictionary of protein secondary structure: pattern recognition of hydrogen-bonded and\n   * geometrical features. Biopolymers. 22(12):2577-2637. doi:10.1002/bip.360221211.\n   */\n  dssp() {\n    const ssMap = new SecondaryStructureMap(this);\n\n    const structures = this.structures = [];\n    const helices = this._helices = [];\n    const sheets = this._sheets = [];\n\n    const getSheet = (index) => {\n      let item = sheets[index];\n      if (!item) {\n        item = sheets[index] = new Sheet(String(index), 0);\n      }\n      return item;\n    };\n\n    let lastCode;\n    let lastSheetIndex;\n    let lastHelixIndex = 0;\n    let curStructure = null;\n    for (let i = 0, n = this._residues.length; i < n; ++i) {\n      const curCode = ssMap._ss[i];\n      const curResidue = this._residues[i];\n      const curSheetIndex = ssMap._sheet[i];\n\n      // expand the last structure\n      if (curCode === lastCode && curSheetIndex === lastSheetIndex) {\n        curResidue._secondary = curStructure;\n        if (curStructure) {\n          curStructure.term = curResidue;\n        }\n        if (curStructure instanceof Helix) {\n          curStructure.length++;\n        }\n        continue;\n      }\n\n      // create a new structure\n      const helixClass = helixClassMap[curCode];\n      const loopType = loopMap[curCode];\n      if (curCode === StructureType.STRAND) {\n        const curSheet = getSheet(curSheetIndex);\n        curStructure = new Strand(curSheet, curResidue, curResidue, 0, null, null);\n        curSheet.addStrand(curStructure);\n      } else if (helixClass !== undefined) {\n        lastHelixIndex++;\n        curStructure = new Helix(helixClass, curResidue, curResidue, lastHelixIndex, String(lastHelixIndex), '', 1);\n        helices.push(curStructure);\n      } else if (loopType !== undefined) {\n        curStructure = new StructuralElement(loopType, curResidue, curResidue);\n      } else {\n        curStructure = null;\n      }\n\n      if (curStructure) {\n        structures.push(curStructure);\n      }\n\n      curResidue._secondary = curStructure;\n\n      lastCode = curCode;\n      lastSheetIndex = curSheetIndex;\n    }\n\n    this._sheets = sheets.filter((_sheet) => true); // squeeze sheets array\n  }\n}\n\nComplex.prototype.id = 'Complex';\nComplex.prototype.name = '';\n\nexport default Complex;\n","import * as THREE from 'three';\nimport utils from '../utils';\n\nfunction pow2ceil(v) {\n  let p = 2;\n  v = (v - 1) >> 1;\n  while (v) {\n    p <<= 1;\n    v >>= 1;\n  }\n  return p;\n}\n\n/**\n * Volume constructor\n *\n * @param {Object} type - Float32Array, Int8Array, etc...\n * @param {Object|Array} dimensions - number of data points on each axis (x, y, z)\n * @param {Box3} box - bounding box defining data place in metric space,\n *                     it's corners correspond to extreme data points\n * @param {Number} vecSize - dimension of the field data point (1 = scalar, 3 = 3D vector)\n * @param {Object} data - typed array of the same type as specified by the 1st parameter,\n *                        layout: point by point along X,\n *                                row by row along Y,\n *                                plane by plane along Z\n * @param {Number} volumeInfo - volume info values to define threshold to filter the noise\n */\n\nclass Volume {\n  constructor(type, dimensions, box, vecSize, data, volumeInfo) {\n    this._box = box.clone();\n    this._dimVec = Math.max(Math.floor(vecSize || 1), 1);\n    this._volumeInfo = volumeInfo;\n\n    if (dimensions instanceof Array) {\n      [this._dimX, this._dimY, this._dimZ] = dimensions;\n    } else {\n      this._dimX = dimensions.x;\n      this._dimY = dimensions.y;\n      this._dimZ = dimensions.z;\n    }\n    this._dimX = Math.max(Math.floor(this._dimX), 1);\n    this._dimY = Math.max(Math.floor(this._dimY), 1);\n    this._dimZ = Math.max(Math.floor(this._dimZ), 1);\n\n    this._rowElements = this._dimVec * this._dimX;\n    this._planeElements = this._rowElements * this._dimY;\n    this._totalElements = this._planeElements * this._dimZ;\n\n    this._data = data || utils.allocateTyped(type, this._totalElements);\n\n    // override getter/setter for vector fields\n    switch (this._dimVec) {\n      case 1:\n        break;\n\n      case 2:\n        this.getValue = function (x, y, z) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1]];\n        };\n\n        this.setValue = function (x, y, z, a, b) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n        };\n\n        this.addValue = function (x, y, z, a, b) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n        };\n        break;\n\n      case 3:\n        this.getValue = function (x, y, z) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1], this._data[idx + 2]];\n        };\n\n        this.setValue = function (x, y, z, a, b, c) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n          this._data[idx + 2] = c;\n        };\n\n        this.addValue = function (x, y, z, a, b, c) {\n          const idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n          this._data[idx + 2] += c;\n        };\n        break;\n\n      default:\n        throw new Error('Volume: invalid vector dimension');\n    }\n  }\n\n  // default getter assumes it's a scalar field\n  getValue(x, y, z) {\n    return this._data[x + y * this._rowElements + z * this._planeElements];\n  }\n\n  // default setter assumes it's a scalar field\n  setValue(x, y, z, val) {\n    this._data[x + y * this._rowElements + z * this._planeElements] = val;\n  }\n\n  // default adder assumes it's a scalar field\n  addValue(x, y, z, val) {\n    this._data[x + y * this._rowElements + z * this._planeElements] += val;\n  }\n\n  getDimensions() {\n    return [this._dimX, this._dimY, this._dimZ];\n  }\n\n  getBox() {\n    return this._box;\n  }\n\n  getVolumeInfo() {\n    return this._volumeInfo;\n  }\n\n  getCellSize() {\n    const boxSize = new THREE.Vector3();\n    this._box.getSize(boxSize);\n    const res = new THREE.Vector3();\n    res.x = this._dimX > 1 ? boxSize.x / (this._dimX - 1) : 0;\n    res.y = this._dimY > 1 ? boxSize.y / (this._dimY - 1) : 0;\n    res.z = this._dimZ > 1 ? boxSize.z / (this._dimZ - 1) : 0;\n    return res;\n  }\n\n  computeGradient() {\n    if (this._dimVec !== 1) {\n      // gradient can only be computed for scalar fields\n      return null;\n    }\n\n    // create a 3D vector field of gradients\n    const gradient = new Volume(Float32Array, [this._dimX, this._dimY, this._dimZ], this._box, 3);\n\n    // calculate cell side lengths\n    const vl = this.getCellSize();\n\n    // gradient axis scaling values and averaging factors, to correctly\n    // calculate the gradient for volumes with irregular cell spacing\n    const vs = new THREE.Vector3(-0.5 / vl.x, -0.5 / vl.y, -0.5 / vl.z);\n\n    // TODO Check for intended bug in VMD (min is zero)\n    function clamp(val, min, max) {\n      return Math.min(max, Math.max(min, val));\n    }\n\n    const xSize = this._dimX;\n    const ySize = this._dimY;\n    const zSize = this._dimZ;\n    const volMap = this._data;\n\n    function _voxelValue(x, y, z) {\n      return volMap[z * xSize * ySize + y * xSize + x];\n    }\n\n    for (let zi = 0; zi < zSize; ++zi) {\n      const zm = clamp(zi - 1, 0, zSize - 1);\n      const zp = clamp(zi + 1, 0, zSize - 1);\n\n      for (let yi = 0; yi < ySize; ++yi) {\n        const ym = clamp(yi - 1, 0, ySize - 1);\n        const yp = clamp(yi + 1, 0, ySize - 1);\n\n        for (let xi = 0; xi < xSize; ++xi) {\n          const xm = clamp(xi - 1, 0, xSize - 1);\n          const xp = clamp(xi + 1, 0, xSize - 1);\n\n          // Calculate the volume gradient at each grid cell.\n          // Gradients are now stored unnormalized, since we need them in pure\n          // form in order to draw field lines etc.  Shading code will now have\n          // to do renormalization for itself on-the-fly.\n\n          // XXX this gradient is only correct for orthogonal grids, since\n          // we're using the array index offsets rather to calculate the gradient\n          // rather than voxel coordinate offsets.  This will have to be\n          // re-worked for non-orthogonal datasets.\n\n          gradient.setValue(\n            xi, yi, zi,\n            (_voxelValue(xp, yi, zi) - _voxelValue(xm, yi, zi)) * vs.x,\n            (_voxelValue(xi, yp, zi) - _voxelValue(xi, ym, zi)) * vs.y,\n            (_voxelValue(xi, yi, zp) - _voxelValue(xi, yi, zm)) * vs.z,\n          );\n        }\n      }\n    }\n\n    return gradient;\n  }\n\n  normalize() {\n    const data = this._data;\n\n    // get min/max\n    let min = data[0];\n    let max = data[0];\n    for (let i = 1; i < data.length; ++i) {\n      min = Math.min(min, data[i]);\n      max = Math.max(max, data[i]);\n    }\n\n    const d = 1.0 / (max - min);\n    if (d === 0) {\n      return;\n    }\n\n    // normalize\n    for (let i = 0; i < data.length; ++i) {\n      data[i] = d * (data[i] - min);\n    }\n  }\n\n  getTiledTextureStride() {\n    return [this._dimX + 2, this._dimY + 2];\n  }\n\n  buildTiledTexture() {\n    let tilesX = Math.ceil(Math.sqrt(this._dimZ * this._dimY / this._dimX));\n\n    let width = tilesX * (this._dimX + 2) - 1;\n    width = pow2ceil(width);\n    tilesX = Math.floor(width / (this._dimX + 2));\n\n    const tilesY = Math.ceil(this._dimZ / tilesX);\n    let height = tilesY * (this._dimY + 2) - 1;\n    height = pow2ceil(height);\n\n    const data = new Uint8Array(width * height);\n\n    let src;\n    let dst;\n    for (let tileRow = 0; tileRow < tilesY; ++tileRow) {\n      // process each pixel row of this tile row\n      for (let row = 0; row < this._dimY; ++row) {\n        src = tileRow * tilesX * this._planeElements + row * this._rowElements;\n        dst = width * (tileRow * (this._dimY + 2) + row);\n        // copy a series of rows through several XY planes\n        for (let t = 0; t < tilesX; ++t) {\n          // copy one row of one XY plane\n          for (let x = 0; x < this._dimX; ++x) {\n            data[dst++] = 255.0 * this._data[src++];\n          }\n\n          // repeat last pixel of previous tile\n          data[dst++] = 255.0 * this._data[src - 1];\n\n          if (t < tilesX - 1) {\n            // skip to the same row of next XY plane\n            src += this._planeElements - this._rowElements;\n            // repeat first pixel of next tile\n            data[dst++] = 255.0 * this._data[src];\n          }\n        }\n      }\n    }\n\n    // fill pixels between tile rows with copy of edge pixels\n    for (let tileRow = 0; tileRow < tilesY; ++tileRow) {\n      // copy last pixel row of this tile row to the following pixel row of the texture\n      src = width * (tileRow * (this._dimY + 2) + this._dimY - 1);\n      dst = src + width;\n      for (let x = 0; x < width; ++x) {\n        data[dst++] = data[src++];\n      }\n      if (tileRow < tilesY - 1) {\n        // copy first pixel row of next tile row to the preceding pixel row of the texture\n        src = width * (tileRow + 1) * (this._dimY + 2);\n        dst = src - width;\n        for (let x = 0; x < width; ++x) {\n          data[dst++] = data[src++];\n        }\n      }\n    }\n\n    const texture = new THREE.DataTexture(\n      data, width, height, THREE.LuminanceFormat, THREE.UnsignedByteType,\n      THREE.UVMapping, THREE.ClampToEdgeWrapping, THREE.ClampToEdgeWrapping, THREE.LinearFilter, THREE.LinearFilter,\n    );\n    texture.needsUpdate = true;\n    return texture;\n  }\n\n  /* ********************************************************************************\n   *\n   * Methods that provide direct access to internal array (for better performance)\n   *\n   ******************************************************************************** */\n\n  getData() {\n    return this._data;\n  }\n\n  getDirectIdx(x, y, z) {\n    return x * this._dimVec + y * this._rowElements + z * this._planeElements;\n  }\n\n  getStrideX() {\n    return this._dimVec;\n  }\n\n  getStrideY() {\n    return this._rowElements;\n  }\n\n  getStrideZ() {\n    return this._planeElements;\n  }\n}\n\nVolume.prototype.id = 'Volume';\n\nexport default Volume;\n","/**\n * Residue Molecule.\n *\n * @param {Complex} complex - Molecular complex this Molecule belongs to.\n * @param {String} name - Molecule's name.\n * @param {Integer} index - Molecule's index in file.\n *\n * @exports Molecule\n * @constructor\n */\nclass Molecule {\n  constructor(complex, name, index) {\n    this.complex = complex;\n    this.name = name || '';\n    this.residues = [];\n    this.mask = 1 | 0;\n    this.index = index || -1; // start with 1\n  }\n\n  forEachResidue(process) {\n    const { residues } = this;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      process(residues[i]);\n    }\n  }\n\n  collectMask() {\n    let mask = 0xffffffff;\n    const { residues } = this;\n    for (let i = 0, n = residues.length; i < n; ++i) {\n      mask &= residues[i]._mask;\n    }\n    this.mask = mask;\n  }\n}\n\nexport default Molecule;\n","import Atom from './chem/Atom';\nimport Element from './chem/Element';\nimport Bond from './chem/Bond';\nimport Residue from './chem/Residue';\nimport ResidueType from './chem/ResidueType';\nimport Chain from './chem/Chain';\nimport Helix from './chem/Helix';\nimport Strand from './chem/Strand';\nimport Sheet from './chem/Sheet';\nimport SGroup from './chem/SGroup';\nimport Assembly from './chem/Assembly';\nimport Complex from './chem/Complex';\nimport Volume from './chem/Volume';\nimport VoxelWorld from './chem/VoxelWorld';\nimport selectors from './chem/selectors';\nimport Molecule from './chem/Molecule';\n\nexport default {\n  Atom,\n  Element,\n  Bond,\n  Residue,\n  ResidueType,\n  Chain,\n  Helix,\n  Strand,\n  Sheet,\n  SGroup,\n  Assembly,\n  Complex,\n  Volume,\n  VoxelWorld,\n  selectors,\n  Molecule,\n};\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as THREE from 'three';\n\nclass CSS2DObject extends THREE.Object3D {\n  constructor(element) {\n    super();\n    const self = this;\n    this._element = element;\n    this._element.style.position = 'absolute';\n    this.addEventListener('removed', () => {\n      if (self._element.parentNode !== null) {\n        self._element.parentNode.removeChild(self._element);\n      }\n    });\n  }\n\n  getElement() {\n    return this._element;\n  }\n\n  /**\n   * Sets label transparency.\n   *\n   * @param {number} transp    - in [0; 1] 1 means fully transparent\n   */\n  setTransparency(transp) {\n    const el = this.getElement();\n    if (el === null) {\n      return;\n    }\n    if (transp === 1.0) {\n      el.style.display = 'none';\n      return;\n    }\n    el.style.display = 'inline';\n    const op = 1.0 - transp;\n    const top = op.toString();\n    const op100 = op * 100;\n    el.style.opacity = top;\n    el.style.filter = `alpha(opacity=${op100})`; // IE fallback\n  }\n\n  clone() {\n    const obj = new CSS2DObject(this._element);\n    obj.copy(this);\n    return obj;\n  }\n}\n\nexport default CSS2DObject;\n","import * as THREE from 'three';\n\nclass RCGroup extends THREE.Group {\n  raycast(raycaster, intersects) {\n    if (!this.visible) {\n      return;\n    }\n\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      children[i].raycast(raycaster, intersects);\n    }\n  }\n\n  enableSubset(mask, innerOnly) {\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].enableSubset) {\n        children[i].enableSubset(mask, innerOnly);\n      }\n    }\n  }\n\n  disableSubset(mask, innerOnly) {\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].disableSubset) {\n        children[i].disableSubset(mask, innerOnly);\n      }\n    }\n  }\n\n  isEmpty() {\n    return this.children.length === 0;\n  }\n\n  updateToFrame(frameData) {\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].updateToFrame) {\n        children[i].updateToFrame(frameData);\n      }\n    }\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        Array.prototype.push.apply(totalSubset, children[i].getSubset(mask, innerOnly));\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default RCGroup;\n","/* eslint-disable no-magic-numbers */\nimport * as THREE from 'three';\nimport logger from '../utils/logger';\nimport CSS2DObject from './CSS2DObject';\nimport RCGroup from './RCGroup';\nimport vertexScreenQuadShader from './shaders/ScreenQuad.vert';\nimport fragmentScreenQuadFromTex from './shaders/ScreenQuadFromTex.frag';\nimport fragmentScreenQuadFromTexWithDistortion from './shaders/ScreenQuadFromTexWithDistortion.frag';\n\nconst LAYERS = {\n  DEFAULT: 0, VOLUME: 1, TRANSPARENT: 2, PREPASS_TRANSPARENT: 3, VOLUME_BFPLANE: 4, COLOR_FROM_POSITION: 5, SHADOWMAP: 6,\n};\n\nconst SELECTION_LAYERS = [ // These layers, that are used in the selection by ray casting\n  LAYERS.DEFAULT, LAYERS.TRANSPARENT,\n];\n\nTHREE.Object3D.prototype.resetTransform = function () {\n  this.position.set(0, 0, 0);\n  this.quaternion.set(0, 0, 0, 1);\n  this.scale.set(1, 1, 1);\n};\n\n// update world matrix of this object and all its ancestors\nTHREE.Object3D.prototype.updateMatrixWorldRecursive = function () {\n  if (this.parent != null) {\n    this.parent.updateMatrixWorldRecursive();\n  }\n  this.updateMatrixWorld();\n};\n// add object to parent, saving objects' world transform\nTHREE.Object3D.prototype.addSavingWorldTransform = (function () {\n  const _worldMatrixInverse = new THREE.Matrix4();\n\n  return function (object) {\n    if (object instanceof THREE.Object3D) {\n      _worldMatrixInverse.copy(this.matrixWorld).invert();\n      _worldMatrixInverse.multiply(object.matrixWorld);\n      object.matrix.copy(_worldMatrixInverse);\n      object.matrix.decompose(object.position, object.quaternion, object.scale);\n      this.add(object);\n    }\n  };\n}());\n\n// render a tiny transparent quad in the center of the screen\nTHREE.WebGLRenderer.prototype.renderDummyQuad = (function () {\n  const _material = new THREE.MeshBasicMaterial({ transparent: true, opacity: 0.0, depthWrite: false });\n\n  const _scene = new THREE.Scene();\n  const _quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(0.01, 0.01), _material);\n  _scene.add(_quad);\n\n  const _camera = new THREE.OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n\n  return function () {\n    this.render(_scene, _camera);\n  };\n}());\n\nTHREE.WebGLRenderer.prototype.renderScreenQuad = (function () {\n  const _scene = new THREE.Scene();\n  const _quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(1.0, 1.0));\n  _scene.add(_quad);\n\n  const _camera = new THREE.OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n\n  return function (material) {\n    _quad.material = material;\n    this.render(_scene, _camera);\n  };\n}());\n\nTHREE.Matrix4.prototype.isIdentity = (function () {\n  const identity = new THREE.Matrix4();\n  return function () {\n    return identity.equals(this);\n  };\n}());\n\nTHREE.Matrix4.prototype.applyToPointsArray = function (array, stride, w) {\n  if (!array || !stride || stride < 3) {\n    return array;\n  }\n  w = w || 0; // use point as normal by default\n  const e = this.elements;\n  for (let i = 0; i < array.length; i += stride) {\n    const x = array[i];\n    const y = array[i + 1];\n    const z = array[i + 2];\n\n    const persp = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\n    array[i] = (e[0] * x + e[4] * y + e[8] * z + e[12] * w) * persp;\n    array[i + 1] = (e[1] * x + e[5] * y + e[9] * z + e[13] * w) * persp;\n    array[i + 2] = (e[2] * x + e[6] * y + e[10] * z + e[14] * w) * persp;\n  }\n  return array;\n};\n\nclass ScreenQuadMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    if (params.uniforms === undefined) {\n      params.uniforms = {};\n    }\n    params.uniforms.srcTex = { type: 't', value: null };\n    params.vertexShader = vertexScreenQuadShader;\n    params.transparent = false;\n    params.depthTest = false;\n    params.depthWrite = false;\n    super(params);\n  }\n}\n\nTHREE.WebGLRenderer.prototype.renderScreenQuadFromTex = (function () {\n  const _material = new ScreenQuadMaterial({\n    uniforms: { opacity: { type: 'f', value: 1.0 } },\n    fragmentShader: fragmentScreenQuadFromTex,\n    transparent: true,\n  });\n\n  return function (srcTex, opacity) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.transparent = (opacity < 1.0);\n    _material.uniforms.opacity.value = opacity;\n    this.renderScreenQuad(_material);\n  };\n}());\n\nTHREE.WebGLRenderer.prototype.renderScreenQuadFromTexWithDistortion = (function () {\n  const _material = new ScreenQuadMaterial({\n    uniforms: { coef: { type: 'f', value: 1.0 } },\n    fragmentShader: fragmentScreenQuadFromTexWithDistortion,\n  });\n\n  return function (srcTex, coef) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.uniforms.coef.value = coef;\n    this.renderScreenQuad(_material);\n  };\n}());\n\n/**\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.PerspectiveCamera.prototype.setMinimalFov = function (angle) {\n  if (this.aspect >= 1.0) {\n    this.fov = angle;\n  } else {\n    this.fov = THREE.MathUtils.radToDeg(2 * Math.atan(Math.tan(THREE.MathUtils.degToRad(angle) * 0.5) / this.aspect));\n  }\n};\n\n/**\n * @param {THREE.PerspectiveCamera} camera - Base camera for this stereo camera.\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.StereoCamera.prototype.updateHalfSized = function (camera, angle) {\n  const originalAspect = camera.aspect;\n  const originalFov = camera.fov;\n\n  camera.aspect = originalAspect / 2.0;\n  camera.setMinimalFov(angle);\n  camera.updateProjectionMatrix();\n\n  this.update(camera);\n\n  camera.aspect = originalAspect;\n  camera.fov = originalFov;\n  camera.updateProjectionMatrix();\n};\n\n/**\n * @param {number} radius - Radius of bounding sphere in angstroms to fit on screen.\n * @param {number} angle - Field of view in degrees.\n */\nTHREE.PerspectiveCamera.prototype.setDistanceToFit = function (radius, angle) {\n  this.position.z = radius / Math.sin(0.5 * THREE.MathUtils.degToRad(angle));\n};\n\n/**\n * @param {RCGroup} gfxObj - All objects on scene.\n * @param {THREE.PerspectiveCamera} camera - Camera used for rendering.\n * @param {number} clipPlane - Distance to clip plane.\n * @param {number} fogFarPlane - Distance to fog far plane.\n */\nTHREE.Raycaster.prototype.intersectVisibleObject = function (gfxObj, camera, clipPlane, fogFarPlane) {\n  const intersects = this.intersectObject(gfxObj, false);\n  if (intersects.length === 0) {\n    return null;\n  }\n\n  // find point closest to camera that doesn't get clipped by camera near plane or clipPlane (if it exists)\n  const nearPlane = Math.min(camera.near, clipPlane);\n  let i;\n  let p = intersects[0];\n  const v = new THREE.Vector3();\n  for (i = 0; i < intersects.length; ++i) {\n    p = intersects[i];\n    v.copy(p.point);\n    v.applyMatrix4(camera.matrixWorldInverse);\n    if (v.z <= -nearPlane) {\n      break;\n    }\n  }\n  if (i === intersects.length) {\n    return null;\n  }\n\n  // check that selected intersection point is not clipped by camera far plane or occluded by fog (if it exists)\n  const farPlane = Math.min(camera.far, fogFarPlane);\n  v.copy(p.point);\n  v.applyMatrix4(camera.matrixWorldInverse);\n  if (v.z <= -farPlane) {\n    return null;\n  }\n  return p;\n};\n\nTHREE.Matrix4.prototype.extractScale = (function () {\n  const _v = new THREE.Vector3();\n\n  return function (scale) {\n    if (scale === undefined) {\n      logger.debug('extractScale(): new is too expensive operation to do it on-the-fly');\n      scale = _v.clone();\n    }\n\n    const te = this.elements;\n    scale.x = _v.set(te[0], te[1], te[2]).length();\n    scale.y = _v.set(te[4], te[5], te[6]).length();\n    scale.z = _v.set(te[8], te[9], te[10]).length();\n\n    // if determine is negative, we need to invert one scale\n    const det = this.determinant();\n    if (det < 0) {\n      scale.x = -scale.x;\n    }\n    return scale;\n  };\n}());\n\nfunction _calcCylinderMatrix(posBegin, posEnd, radius) {\n  const posCenter = posBegin.clone().lerp(posEnd, 0.5);\n  const matScale = new THREE.Matrix4();\n  matScale.makeScale(radius, posBegin.distanceTo(posEnd), radius);\n\n  const matRotHalf = new THREE.Matrix4();\n  matRotHalf.makeRotationX(Math.PI / 2);\n\n  const matRotLook = new THREE.Matrix4();\n  const vUp = new THREE.Vector3(0, 1, 0);\n  matRotLook.lookAt(posCenter, posEnd, vUp);\n\n  matRotLook.multiply(matRotHalf);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(posCenter);\n  return matRotLook;\n}\n\nfunction _calcChunkMatrix(eye, target, up, rad) {\n  const matScale = new THREE.Matrix4();\n  matScale.makeScale(rad.x, rad.y, 0);\n\n  const matRotLook = new THREE.Matrix4();\n  matRotLook.lookAt(eye, target, up);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(eye);\n\n  return matRotLook;\n}\n\nfunction _groupHasGeometryToRender(group) {\n  let hasGeoms = false;\n  group.traverse((node) => {\n    if (node.hasOwnProperty('geometry') || node instanceof CSS2DObject) {\n      hasGeoms = true;\n    }\n  });\n  return hasGeoms;\n}\n\nfunction _buildDistorionMesh(widthSegments, heightSegements, coef) {\n  // solve equation r_u = r_d * (1 + k * r_d^2)\n  // for r_d using iterations\n  // takes: r_u^2\n  // returns: r_d / r_u  factor that can be used to distort point coords\n  function calcInverseBarrel(r2) {\n    const epsilon = 1e-5;\n    let prevR2 = 0.0;\n    let curR2 = r2;\n    let dr = 1.0;\n    while (Math.abs(curR2 - prevR2) > epsilon) {\n      dr = 1.0 + coef * curR2;\n      prevR2 = curR2;\n      curR2 = r2 / (dr * dr);\n    }\n\n    return 1.0 / dr;\n  }\n\n  const geo = new THREE.PlaneBufferGeometry(2.0, 2.0, widthSegments, heightSegements);\n\n  const pos = geo.getAttribute('position');\n  for (let i = 0; i < pos.count; ++i) {\n    const x = pos.array[3 * i];\n    const y = pos.array[3 * i + 1];\n    const c = calcInverseBarrel(x * x + y * y);\n    pos.setXY(i, c * x, c * y);\n  }\n\n  return geo;\n}\n\nTHREE.BufferAttribute.prototype.copyAtList = function (attribute, indexList) {\n  console.assert(\n    this.itemSize === attribute.itemSize,\n    'DEBUG: BufferAttribute.copyAtList buffers have different item size.',\n  );\n  const { itemSize } = this;\n  for (let i = 0, n = indexList.length; i < n; ++i) {\n    for (let j = 0; j < itemSize; ++j) {\n      this.array[i * itemSize + j] = attribute.array[indexList[i] * itemSize + j];\n    }\n  }\n  return this;\n};\n\nfunction fillArray(array, value, startIndex, endIndex) {\n  startIndex = (typeof startIndex !== 'undefined') ? startIndex : 0;\n  endIndex = (typeof endIndex !== 'undefined') ? endIndex : array.length;\n  for (let i = startIndex; i < endIndex; ++i) {\n    array[i] = value;\n  }\n}\n\n/** @param {THREE.Object3D} object - Parent object. */\nfunction removeChildren(object) {\n  const { children } = object;\n  for (let i = 0, n = children.length; i < n; ++i) {\n    const child = children[i];\n    child.parent = null;\n    child.dispatchEvent({ type: 'removed' });\n  }\n  object.children = [];\n}\n\nfunction clearTree(object) {\n  object.traverse((obj) => {\n    if (obj instanceof THREE.Mesh || obj instanceof THREE.LineSegments || obj instanceof THREE.Line) {\n      obj.geometry.dispose();\n    }\n  });\n  removeChildren(object);\n}\n\nfunction destroyObject(object) {\n  clearTree(object);\n  if (object.parent) {\n    object.parent.remove(object);\n  } else {\n    object.dispatchEvent({ type: 'removed' });\n  }\n}\n\nfunction belongToSelectLayers(object) {\n  for (let i = 0; i < SELECTION_LAYERS.length; i++) {\n    if (((object.layers.mask >> SELECTION_LAYERS[i]) & 1) === 1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction processObjRenderOrder(root, idMaterial) {\n  // set renderOrder to 0 for Backdrop and to 1 in other cases to render Backdrop earlier all other materials\n  const renderOrder = +(idMaterial !== 'BA');\n  root.traverse((object) => {\n    if (object.isGroup) {\n      object.renderOrder = renderOrder;\n    }\n  });\n}\n\nfunction applySelectionMaterial(geo) {\n  geo.traverse((node) => {\n    if ('material' in node) {\n      node.material = node.material.clone(true);\n      // using z-offset to magically fix selection rendering artifact (on z-sprites)\n      node.material.setValues({\n        depthFunc: THREE.LessEqualDepth,\n        overrideColor: true,\n        fog: false,\n        lights: false,\n        shadowmap: false,\n      });\n      node.material.setUberOptions({ fixedColor: new THREE.Color(0xFFFF00), zOffset: -1e-6 });\n    }\n  });\n}\n\nfunction getMiddlePoint(point1, point2, optionalTarget) {\n  const result = optionalTarget || new THREE.Vector3();\n\n  result.set(0, 0, 0);\n  result.addScaledVector(point1, 0.5);\n  result.addScaledVector(point2, 0.5);\n\n  return result;\n}\n\n// Monkey-patch for \"InstancedBufferGeometry.instanceCount becomes undefined after copy()\"\n// https://github.com/mrdoob/three.js/issues/22151\nconst _oldInstancedBufferGeometryCopy = THREE.InstancedBufferGeometry.prototype.copy;\n\nTHREE.InstancedBufferGeometry.prototype.copy = function (source) {\n  _oldInstancedBufferGeometryCopy.call(this, source);\n  if (this.instanceCount === undefined) {\n    this.instanceCount = Infinity;\n  }\n};\n\nexport default {\n  calcCylinderMatrix: _calcCylinderMatrix,\n  calcChunkMatrix: _calcChunkMatrix,\n  groupHasGeometryToRender: _groupHasGeometryToRender,\n  buildDistorionMesh: _buildDistorionMesh,\n  RCGroup,\n  fillArray,\n  clearTree,\n  destroyObject,\n  belongToSelectLayers,\n  processObjRenderOrder,\n  applySelectionMaterial,\n  getMiddlePoint,\n  LAYERS,\n};\n","import * as THREE from 'three';\nimport gfxutils from './gfx/gfxutils';\n\nconst _defaultBoundaries = {\n  boundingBox: new THREE.Box3(new THREE.Vector3(-1, -1, -1), new THREE.Vector3(1, 1, 1)),\n  boundingSphere: new THREE.Sphere(new THREE.Vector3(0, 0, 0), 1),\n};\n\nclass Visual extends gfxutils.RCGroup {\n  constructor(name, dataSource) {\n    super(name, dataSource);\n    this.name = name;\n    this._dataSource = dataSource;\n  }\n\n  release() {\n    if (this.parent) {\n      this.parent.remove(this);\n    }\n  }\n\n  getDataSource() {\n    return this._dataSource;\n  }\n\n  getBoundaries() {\n    return _defaultBoundaries;\n  }\n}\n\nexport default Visual;\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _ensureArray(x) {\n  if (x === null || x === undefined || Array.isArray(x)) {\n    return x;\n  }\n  return [x];\n}\n\n/** An indexed list of objects or classes. */\nclass EntityList {\n  /**\n   * Create a list of objects.\n   * The objects can be indexed by one or more properties for the later retrieval.\n   *\n   * @param {!Array<Object>=} entities A list of objects to automatically register at creation time.\n   * @param {!Array<string>=} indices A list of property names to use for case-insensitive indexing.\n   *   By default, a single `.id` property is used.\n   * @see EntityList#register\n   */\n  constructor(entities = [], indices = ['id']) {\n    this._list = [];\n    this._dict = {};\n    this._indices = [...indices];\n    this._indices.forEach((index) => {\n      this._dict[index] = {};\n    });\n\n    entities.forEach((entity) => this.register(entity));\n  }\n\n  /**\n   * Add a value to the end of a list.\n   * The list will contain only one copy of the value.\n   *\n   * @param {!Array} list An array.\n   * @param {*} value A value to add.\n   * @see EntityList.unregisterFromList\n   * @see EntityList.registerInDict\n   */\n  static registerInList(list, value) {\n    if (!list.includes(value)) {\n      list.push(value);\n    }\n  }\n\n  /**\n   * Remove a value from a list if it is there.\n   *\n   * @param {!Array} list An array.\n   * @param {*} value A value to remove.\n   * @see EntityList.registerInList\n   */\n  static unregisterFromList(list, value) {\n    const pos = list.indexOf(value);\n    if (pos !== -1) {\n      list.splice(pos, 1);\n    }\n  }\n\n  /**\n   * Add a value to a dictionary.\n   * The value may be stored under multiple different keys (aliases).\n   * There might be multiples values stored under the same key.\n   *\n   * @param {!Object<string,*>} dict A dictionary.\n   * @param {!Array<string>} keys An array of keys.\n   * @param {*} value A value to add.\n   * @see EntityList.unregisterFromDict\n   * @see EntityList.registerInList\n   */\n  static registerInDict(dict, keys, value) {\n    keys.forEach((key) => {\n      key = key.toLowerCase();\n      const list = dict[key] = dict[key] || [];\n      if (!list.includes(value)) {\n        list.push(value);\n      }\n    });\n  }\n\n  /**\n   * Remove a value from a dictionary.\n   * The value may be stored under multiple different keys (aliases).\n   * There might be multiples values stored under the same key.\n   *\n   * @param {!Object<string,*>} dict A dictionary.\n   * @param {!Array<string>} keys An array of keys.\n   * @param {*} value A value to add.\n   * @see EntityList.registerInDict\n   */\n  static unregisterFromDict(dict, keys, value) {\n    keys.forEach((key) => {\n      key = key.toLowerCase();\n      const list = dict[key];\n      if (list) {\n        const pos = list.indexOf(value);\n        if (pos !== -1) {\n          list.splice(pos, 1);\n        }\n        if (list.length === 0) {\n          delete dict[key];\n        }\n      }\n    });\n  }\n\n  /**\n   * Add an entity to this list.\n   *\n   * @param {!Object} entity An object or a class to register. The object must include all\n   *   properties specified as indices on construction.\n   * @see EntityList#unregister\n   */\n  register(entity) {\n    EntityList.registerInList(this._list, entity);\n    this._indices.forEach((index) => {\n      EntityList.registerInDict(this._dict[index], _ensureArray(entity[index]), entity);\n    });\n  }\n\n  /**\n   * Remove an entity from this list.\n   *\n   * @param {!Object} entity An object or a class to unregister. The object may be\n   *   missing from the list but it must include all properties specified as indices\n   *   on construction.\n   * @see EntityList#register\n   */\n  unregister(entity) {\n    EntityList.unregisterFromList(this._list, entity);\n    this._indices.forEach((index) => {\n      EntityList.unregisterFromDict(this._dict[index], _ensureArray(entity[index]), entity);\n    });\n  }\n\n  /**\n   * An ordered list of all registered entities.\n   * It is a read-only copy, use {@link EntityList#register} and {@link EntityList#unregister}\n   * to modify it.\n   *\n   * @type {!Array<Object>}\n   */\n  get all() {\n    return [...this._list];\n  }\n\n  /**\n   * The first registered entity.\n   * Use it if you do not care which entity you are referring to.\n   *\n   * @type {Object=}\n   */\n  get first() {\n    return this._list[0];\n  }\n\n  /**\n   * Retrieve a list of keys for the index.\n   *\n   * @param {string=} index One of the indices specified during the list construction. If omitted,\n   *   the first of the indices is used.\n   * @returns {!Array<string>} An unordered list of keys in the index, i.e. particular property\n   *   values for all registered entities.\n   */\n  keys(index) {\n    return Object.keys(this._dict[index || this._indices[0]]);\n  }\n\n  /**\n   * Retrieve an entity by its key.\n   *\n   * @param {string} key A case-insensitive property value to look-up.\n   * @param {string=} index One of the indices specified during the list construction. If omitted,\n   *   the first of the indices is used.\n   * @returns {Object=} An object registered in the index under the key. If there are multiple\n   *   objects under the same key, the first one is returned.\n   */\n  get(key, index) {\n    const dict = this._dict[index || this._indices[0]];\n    if (dict) {\n      const values = dict[key && key.toLowerCase()];\n      return values && values.length > 0 ? values[0] : undefined;\n    }\n    return undefined;\n  }\n}\n\nexport default EntityList;\n","import settings from '../settings';\nimport logger from './logger';\n\nfunction makeContextDependent(prototype) {\n  Object.defineProperties(prototype, {\n    logger: {\n      get() {\n        return this.context && this.context.logger ? this.context.logger : logger;\n      },\n    },\n    settings: {\n      get() {\n        return this.context && this.context.settings ? this.context.settings : settings;\n      },\n    },\n  });\n}\n\nexport default makeContextDependent;\n","import * as THREE from 'three';\n\nclass CollisionSphere {\n  constructor(position, radius) {\n    this._position = position;\n    this._radius = radius;\n  }\n\n  static _sphere = new THREE.Sphere();\n\n  raycast(raycaster) {\n    const sphere = CollisionSphere._sphere;\n    sphere.set(this._position, this._radius);\n\n    const p = new THREE.Vector3();\n    if (raycaster.ray.intersectSphere(sphere, p)) {\n      return {\n        distance: raycaster.ray.origin.distanceTo(p),\n        point: p,\n      };\n    }\n    return null;\n  }\n}\n\nconst SphereCollisionGeo = (base) => class extends base {\n  constructor(count, ...args) {\n    super(...args);\n    this._objects = new Array(count);\n    this.boundingSphere = null;\n    this.boundingBox = null;\n  }\n\n  setSphere(idx, position, radius) {\n    this._objects[idx] = new CollisionSphere(position, radius);\n  }\n\n  raycast(raycaster, intersects) {\n    // TODO raycast with bounding sphere? How to deal with updates?\n    for (let i = 0, n = this._objects.length; i < n; ++i) {\n      const inters = this._objects[i].raycast(raycaster);\n      if (inters) {\n        inters.chunkIdx = i;\n        intersects.push(inters);\n      }\n    }\n  }\n\n  computeBoundingBox() {\n    const objects = this._objects;\n    let { boundingBox } = this;\n    if (boundingBox === null) {\n      this.boundingBox = boundingBox = new THREE.Box3();\n    }\n    boundingBox.makeEmpty();\n    for (let i = 0, n = objects.length; i < n; ++i) {\n      boundingBox.expandByPoint(objects[i]._position);\n    }\n  }\n\n  computeBoundingSphere() {\n    this.computeBoundingBox();\n    const objects = this._objects;\n    const { boundingBox } = this;\n    // Build bounding sphere\n    let radiusSquared = 0.0;\n    const center = new THREE.Vector3();\n    boundingBox.getCenter(center);\n    for (let i = 0, n = objects.length; i < n; ++i) {\n      const pos = objects[i]._position;\n      const lengthSquared = center.distanceToSquared(pos);\n      if (radiusSquared < lengthSquared) {\n        radiusSquared = lengthSquared;\n      }\n    }\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new THREE.Sphere();\n    }\n    this.boundingSphere.set(center, Math.sqrt(radiusSquared));\n  }\n};\nexport default SphereCollisionGeo;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\nimport SphereCollisionGeo from './SphereCollisionGeo';\n\nconst tmpColor = new THREE.Color();\n\nconst OFFSET_SIZE = 4;\nconst COLOR_SIZE = 3;\nconst { copySubArrays } = utils;\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nclass InstancedSpheresGeometry extends SphereCollisionGeo(THREE.InstancedBufferGeometry) {\n  constructor(spheresCount, sphereComplexity, useZSprites) {\n    super(spheresCount);\n    this._sphGeometry = useZSprites ? new THREE.PlaneBufferGeometry(2, 2, 1, 1)\n      : new THREE.SphereBufferGeometry(1, sphereComplexity * 2, sphereComplexity, 0, Math.PI * 2, 0, Math.PI);\n    this._init(spheresCount, this._sphGeometry);\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    setArrayXYZW(this._offsets, itemIdx * OFFSET_SIZE, itemPos.x, itemPos.y, itemPos.z, itemRad);\n    this.setSphere(itemIdx, itemPos, itemRad);\n  }\n\n  setColor(itemIdx, colorVal) {\n    tmpColor.set(colorVal);\n    setArrayXYZ(this._colors, itemIdx * COLOR_SIZE, tmpColor.r, tmpColor.g, tmpColor.b);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('offset').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      alphaArr[chunkIndices[i]] = value;\n    }\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length;\n    const geom = new THREE.InstancedBufferGeometry();\n    this._init.call(geom, instanceCount, this._sphGeometry);\n\n    copySubArrays(this._offsets, geom._offsets, chunkIndices, OFFSET_SIZE);\n    copySubArrays(this._colors, geom._colors, chunkIndices, COLOR_SIZE);\n    geom.boundingSphere = this.boundingSphere;\n    geom.boundingBox = this.boundingBox;\n    return [geom];\n  }\n\n  _init(spheresCount, sphereGeo) {\n    this.copy(sphereGeo);\n\n    this._offsets = utils.allocateTyped(Float32Array, spheresCount * OFFSET_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, spheresCount);\n    _.fill(alpha, 1.0);\n\n    this.setAttribute('offset', new THREE.InstancedBufferAttribute(this._offsets, OFFSET_SIZE, false, 1));\n    this.setAttribute('color', new THREE.InstancedBufferAttribute(this._colors, COLOR_SIZE, false, 1));\n    this.setAttribute('alphaColor', new THREE.InstancedBufferAttribute(alpha, 1, false, 1));\n  }\n}\nexport default InstancedSpheresGeometry;\n","import * as THREE from 'three';\n\n/**\n * This class adds raycasting interface to indexed\n * THREE.BufferGeometry.\n * @constructor\n */\n\nclass RaycastableBufferGeometry extends THREE.BufferGeometry {\n  // This method was copied from three.js\n\n  static _vA = new THREE.Vector3();\n\n  static _vB = new THREE.Vector3();\n\n  static _vC = new THREE.Vector3();\n\n  static _uvA = new THREE.Vector2();\n\n  static _uvB = new THREE.Vector2();\n\n  static _uvC = new THREE.Vector2();\n\n  static _barycoord = new THREE.Vector3();\n\n  static _intersectionPoint = new THREE.Vector3();\n\n  uvIntersection(point, p1, p2, p3, uv1, uv2, uv3) {\n    const barycoord = RaycastableBufferGeometry._barycoord;\n    THREE.Triangle.barycoordFromPoint(point, p1, p2, p3, barycoord);\n\n    uv1.multiplyScalar(barycoord.x);\n    uv2.multiplyScalar(barycoord.y);\n    uv3.multiplyScalar(barycoord.z);\n\n    uv1.add(uv2).add(uv3);\n    return uv1.clone();\n  }\n\n  checkIntersection(object, raycaster, ray, pA, pB, pC, point) {\n    const intersect = ray.intersectTriangle(pA, pB, pC, false, point);\n\n    if (intersect === null) {\n      return null;\n    }\n\n    return {\n      point: point.clone(),\n    };\n  }\n\n  checkBufferGeometryIntersection(object, raycaster, ray, position, uv, a, b, c) {\n    const vA = RaycastableBufferGeometry._vA;\n    const vB = RaycastableBufferGeometry._vB;\n    const vC = RaycastableBufferGeometry._vC;\n    const intersectionPoint = RaycastableBufferGeometry._intersectionPoint;\n\n    vA.fromBufferAttribute(position, a);\n    vB.fromBufferAttribute(position, b);\n    vC.fromBufferAttribute(position, c);\n\n    const intersection = this.checkIntersection(\n      object, raycaster, ray, vA, vB, vC, intersectionPoint,\n    );\n    if (intersection) {\n      if (uv) {\n        const uvA = RaycastableBufferGeometry._uvA;\n        const uvB = RaycastableBufferGeometry._uvB;\n        const uvC = RaycastableBufferGeometry._uvC;\n\n        uvA.fromBufferAttribute(uv, a);\n        uvB.fromBufferAttribute(uv, b);\n        uvC.fromBufferAttribute(uv, c);\n        intersection.uv = this.uvIntersection(\n          intersectionPoint, vA, vB, vC, uvA, uvB, uvC,\n        );\n      }\n      const normal = new THREE.Vector3();\n      THREE.Triangle.getNormal(vA, vB, vC, normal);\n      intersection.face = new THREE.Face3(a, b, c, normal);\n      intersection.faceIndex = a;\n    }\n\n    return intersection;\n  }\n\n  raycast(raycaster, intersects) {\n    const { ray } = raycaster;\n    if (this.boundingSphere === null) {\n      this.computeBoundingSphere();\n    }\n\n    if (raycaster.ray.intersectsSphere(this.boundingSphere) === false) {\n      return;\n    }\n\n    if (this.boundingBox !== null) {\n      if (ray.intersectsBox(this.boundingBox) === false) {\n        return;\n      }\n    }\n\n    let a;\n    let b;\n    let c;\n    const {\n      index,\n      attributes: { position, uv },\n    } = this;\n\n    if (index === null) {\n      return;\n    }\n    // indexed buffer geometry\n    for (let i = 0, l = index.count; i < l; i += 3) {\n      a = index.getX(i);\n      b = index.getX(i + 1);\n      c = index.getX(i + 2);\n\n      const intersection = this.checkBufferGeometryIntersection(this, raycaster, ray, position, uv, a, b, c);\n\n      if (intersection) {\n        intersection.faceIndex = Math.floor(i / 3); // triangle number in indices buffer semantics\n        intersects.push(intersection);\n      }\n    }\n  }\n}\n\nexport default RaycastableBufferGeometry;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\nimport RaycastableBufferGeometry from './RaycastableBufferGeometry';\n\nconst MAX_IDC_16BIT = 65535;\nconst VEC_SIZE = 3;\nconst tmpColor = new THREE.Color();\n\n/**\n * This class represents geometry which consists of separate chunks.\n * Each chunk has same index and similar geometry with equal points and faces count.\n * Each chunk has by default only one color.\n * @constructor\n */\n\nclass ChunkedObjectsGeometry extends RaycastableBufferGeometry {\n  constructor(chunkGeo, chunksCount) {\n    super();\n\n    if (this.constructor === ChunkedObjectsGeometry) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n\n    this._chunkGeo = chunkGeo;\n\n    this._init(chunkGeo, chunksCount);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('position').needsUpdate = true;\n    this.getAttribute('normal').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n  }\n\n  setColor(chunkIdx, colorVal) {\n    tmpColor.set(colorVal);\n    const colors = this._colors;\n    const chunkSize = this._chunkSize;\n    for (let i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n      const idx = i * VEC_SIZE;\n      colors[idx] = tmpColor.r;\n      colors[idx + 1] = tmpColor.g;\n      colors[idx + 2] = tmpColor.b;\n    }\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha;\n    const chunkSize = this._chunkSize;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const left = chunkIndices[i] * chunkSize;\n      _.fill(alphaArr, value, left, left + chunkSize);\n    }\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  raycast(raycaster, intersects) {\n    const inters = [];\n    super.raycast(raycaster, inters);\n    const facesPerChunk = this._chunkGeo.index.count / 3;\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('faceIndex')) {\n        continue;\n      }\n      inters[i].chunkIdx = Math.floor(inters[i].faceIndex / facesPerChunk);\n      intersects.push(inters[i]);\n    }\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length;\n    const geom = new THREE.BufferGeometry();\n    this._init.call(geom, this._chunkGeo, instanceCount);\n\n    const srcPos = this._positions;\n    const srcNorm = this._normals;\n    const srcColor = this._colors;\n\n    const dstPos = geom._positions;\n    const dstNorm = geom._normals;\n    const dstColor = geom._colors;\n\n    const chunkSize = this._chunkSize * VEC_SIZE;\n\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const dstPtOffset = i * chunkSize;\n      const ptIdxBegin = chunkIndices[i] * chunkSize;\n      const ptIdxEnd = ptIdxBegin + chunkSize;\n      dstPos.set(srcPos.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n      dstNorm.set(srcNorm.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n      dstColor.set(srcColor.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n    }\n\n    geom.boundingSphere = this.boundingSphere;\n    geom.boundingBox = this.boundingBox;\n    return [geom];\n  }\n\n  _init(chunkGeo, chunksCount) {\n    const chunkSize = this._chunkSize = chunkGeo.attributes.position.count;\n    const chunkIndex = chunkGeo.index.array;\n    const chunkIndexSize = chunkIndex.length;\n    const pointsCount = this._chunkSize * chunksCount;\n    const use32bitIndex = pointsCount > MAX_IDC_16BIT;\n    const indexSize = chunkIndexSize * chunksCount;\n    const index = this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, indexSize);\n    this._positions = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE);\n    this._normals = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n    _.fill(alpha, 1.0);\n\n    for (let i = 0; i < chunksCount; ++i) {\n      const offset = i * chunkIndexSize;\n      const posOffset = i * chunkSize;\n      index.set(chunkIndex, offset);\n      for (let j = 0; j < chunkIndexSize; ++j) {\n        index[offset + j] += posOffset;\n      }\n    }\n\n    this.setIndex(new THREE.BufferAttribute(this._index, 1));\n    this.setAttribute('position', new THREE.BufferAttribute(this._positions, VEC_SIZE));\n    this.setAttribute('normal', new THREE.BufferAttribute(this._normals, VEC_SIZE));\n    this.setAttribute('color', new THREE.BufferAttribute(this._colors, VEC_SIZE));\n    this.setAttribute('alphaColor', new THREE.BufferAttribute(alpha, 1));\n  }\n}\nexport default ChunkedObjectsGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\nimport SphereCollisionGeo from './SphereCollisionGeo';\n\nconst VEC_SIZE = 3;\n\nclass SimpleSpheresGeometry extends SphereCollisionGeo(ChunkedObjectsGeometry) {\n  constructor(spheresCount, sphereComplexity) {\n    const sphGeometry = new THREE.SphereBufferGeometry(\n      1, sphereComplexity * 2, sphereComplexity,\n      0, Math.PI * 2, 0, Math.PI,\n    );\n    super(spheresCount, sphGeometry, spheresCount);\n\n    const normals = this._normals;\n    const geoNormals = sphGeometry.attributes.normal.array;\n    const chunkSize = this._chunkSize;\n    this._chunkPos = this._chunkGeo.attributes.position.array;\n    this._tmpPositions = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n    for (let i = 0; i < spheresCount; ++i) {\n      normals.set(geoNormals, chunkSize * VEC_SIZE * i);\n    }\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    const tmpPos = this._tmpPositions;\n    const chunkSize = this._chunkSize;\n    const geoPos = this._chunkPos;\n\n    for (let i = 0; i < chunkSize; ++i) {\n      const idx = i * 3;\n      tmpPos[idx] = itemPos.x + geoPos[idx] * itemRad;\n      tmpPos[idx + 1] = itemPos.y + geoPos[idx + 1] * itemRad;\n      tmpPos[idx + 2] = itemPos.z + geoPos[idx + 2] * itemRad;\n    }\n\n    this._positions.set(tmpPos, chunkSize * itemIdx * VEC_SIZE);\n    this.setSphere(itemIdx, itemPos, itemRad);\n  }\n}\nexport default SimpleSpheresGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\n\nconst VEC_SIZE = 3;\nconst centerPos = new THREE.Vector3();\nconst tmpVector = new THREE.Vector3();\nconst normMtx = new THREE.Matrix3();\n\nclass Simple2CCylindersGeometry extends ChunkedObjectsGeometry {\n  constructor(instanceCount, polyComplexity) {\n    const cylGeometry = new THREE.CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    super(cylGeometry, 2 * instanceCount);\n\n    const chunkSize = this._chunkSize;\n    this._chunkPos = this._chunkGeo.attributes.position.array;\n    this._chunkNorms = this._chunkGeo.attributes.normal.array;\n    this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const chunkSize = this._chunkSize;\n    const firstOffset = chunkSize * 2 * itemIdx * VEC_SIZE;\n    const secondOffset = firstOffset + chunkSize * VEC_SIZE;\n\n    const tmpArray = this._tmpVector;\n    const geoPos = this._chunkPos;\n    const geoNorm = this._chunkNorms;\n\n    centerPos.lerpVectors(botPos, topPos, 0.5);\n    const mtx1 = gfxutils.calcCylinderMatrix(botPos, centerPos, itemRad);\n    normMtx.getNormalMatrix(mtx1);\n\n    let idx;\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoPos, idx);\n      tmpVector.applyMatrix4(mtx1);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._positions.set(tmpArray, firstOffset);\n\n    // now shift center to get another part of the cylinder\n    centerPos.sub(botPos);\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpArray[idx] += centerPos.x;\n      tmpArray[idx + 1] += centerPos.y;\n      tmpArray[idx + 2] += centerPos.z;\n    }\n    this._positions.set(tmpArray, secondOffset);\n\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoNorm, idx);\n      tmpVector.applyMatrix3(normMtx);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._normals.set(tmpArray, firstOffset);\n    this._normals.set(tmpArray, secondOffset);\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const first = 2 * itemIdx;\n    super.setColor(first, colorVal1);\n\n    const second = first + 1;\n    super.setColor(second, colorVal2);\n  }\n}\n\nexport default Simple2CCylindersGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\n\nconst MAX_POINTS_COUNT_16BIT = 65536;\nconst PTS_PER_TRIANGLE = 3;\n\nclass CylinderBufferGeometry extends THREE.BufferGeometry {\n  constructor(\n    radiusTop,\n    radiusBottom,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded,\n  ) {\n    super();\n\n    const thetaStart = 0;\n    const thetaLength = 2 * Math.PI;\n\n    this.type = 'CylinderBufferGeometry';\n\n    this.parameters = {\n      radiusTop,\n      radiusBottom,\n      height,\n      radialSegments,\n      heightSegments,\n      openEnded,\n    };\n\n    const hasTop = openEnded === false && radiusTop > 0;\n    const hasBottom = openEnded === false && radiusBottom > 0;\n    const vertexCount = (heightSegments + 1) * radialSegments\n      + hasTop * (radialSegments + 1)\n      + hasBottom * (radialSegments + 1);\n    const facesCount = (2 * heightSegments + hasTop + hasBottom) * radialSegments;\n\n    const heightHalf = height / 2;\n\n    /* eslint-disable no-magic-numbers */\n    const positions = new THREE.BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    const normals = new THREE.BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    const indices = new THREE.Uint16BufferAttribute(utils.allocateTyped(Uint16Array, facesCount * PTS_PER_TRIANGLE), 1);\n    /* eslint-enable no-magic-numbers */\n\n    const uvs = new THREE.BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 2), 2);\n    console.assert(vertexCount < MAX_POINTS_COUNT_16BIT, 'DEBUG: Cylinder Geometry has too many vertices (65536 max).');\n\n    let currVtxIdx = 0;\n    let currFaceIdx = 0;\n    const tanTheta = -(radiusBottom - radiusTop) / height;\n\n    // setup cylinder data\n    for (let y = 0; y <= heightSegments; y++) {\n      // faces\n      if (y !== heightSegments) {\n        for (let i = 0; i < radialSegments; i++) {\n          const v1 = currVtxIdx + i;\n          const v2 = currVtxIdx + radialSegments + i;\n          const v3 = currVtxIdx + radialSegments + ((i + 1) % radialSegments);\n          const v4 = currVtxIdx + ((i + 1) % radialSegments);\n\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v1, v4, v2);\n          currFaceIdx++;\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v2, v4, v3);\n          currFaceIdx++;\n        }\n      }\n\n      // vertices\n      const v = y / heightSegments;\n      const radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n      for (let x = 0; x < radialSegments; x++) {\n        const u = x / radialSegments;\n\n        const vx = radius * Math.sin(u * thetaLength + thetaStart);\n        const vy = v * height - heightHalf;\n        const vz = radius * Math.cos(u * thetaLength + thetaStart);\n\n        const normal = new THREE.Vector3(\n          vx,\n          Math.sqrt(vx * vx + vz * vz) * tanTheta,\n          vz,\n        ).normalize();\n\n        positions.setXYZ(currVtxIdx, vx, vy, vz);\n        normals.setXYZ(currVtxIdx, normal.x, normal.y, normal.z);\n        uvs.setXY(currVtxIdx, u, v);\n        ++currVtxIdx;\n      }\n    }\n\n    // top cap\n    if (hasTop) {\n      const startTIdx = currVtxIdx;\n      const lastIdx = currVtxIdx + radialSegments;\n      for (let fTIdx = 0; fTIdx < radialSegments; ++fTIdx) {\n        const currSrcIdx = currVtxIdx - radialSegments;\n        positions.setXYZ(\n          currVtxIdx,\n          positions.getX(currSrcIdx),\n          positions.getY(currSrcIdx),\n          positions.getZ(currSrcIdx),\n        );\n        normals.setXYZ(currVtxIdx, 0, 1, 0);\n        uvs.setXY(currVtxIdx, 1, 1);\n\n        const nextTVtx = startTIdx + ((fTIdx + 1) % radialSegments);\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, currVtxIdx, nextTVtx, lastIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n\n      positions.setXYZ(currVtxIdx, 0, heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, 1, 0);\n      uvs.setXY(currVtxIdx, 1, 1);\n      ++currVtxIdx;\n    }\n\n    // bottom cap\n    if (hasBottom) {\n      const startBIdx = currVtxIdx;\n      const lastBIdx = currVtxIdx + radialSegments;\n      for (let fBIdx = 0; fBIdx < radialSegments; ++fBIdx) {\n        const currSrcBIdx = fBIdx;\n        positions.setXYZ(\n          currVtxIdx,\n          positions.getX(currSrcBIdx), positions.getY(currSrcBIdx), positions.getZ(currSrcBIdx),\n        );\n        normals.setXYZ(currVtxIdx, 0, -1, 0);\n        uvs.setXY(currVtxIdx, 0, 0);\n\n        const nextBVtx = startBIdx + ((fBIdx + 1) % radialSegments);\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, nextBVtx, currVtxIdx, lastBIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n\n      positions.setXYZ(currVtxIdx, 0, -heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, -1, 0);\n      uvs.setXY(currVtxIdx, 0, 0);\n    }\n\n    this.setIndex(indices);\n    this.setAttribute('position', positions);\n    this.setAttribute('normal', normals);\n    this.setAttribute('uv', uvs);\n  }\n\n  clone() {\n    const { parameters } = this;\n\n    return new CylinderBufferGeometry(\n      parameters.radiusTop,\n      parameters.radiusBottom,\n      parameters.height,\n      parameters.radialSegments,\n      parameters.heightSegments,\n      parameters.openEnded,\n    );\n  }\n}\n\nexport default CylinderBufferGeometry;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry';\nimport CylinderBufferGeometry from './CylinderBufferGeometry';\n\nconst tmpColor = new THREE.Color();\nconst invMatrix = new THREE.Matrix4();\n\nconst OFFSET_SIZE = 4;\nconst COLOR_SIZE = 3;\nconst { copySubArrays } = utils;\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\n\nfunction sortNumber(a, b) {\n  return a - b;\n}\n\nfunction _prepareCylinderInfo(chunkIndices) {\n  chunkIndices.sort(sortNumber);\n  const chunksIdx = [];\n  const cylinderInfo = [];\n  for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n    const val = chunkIndices[i];\n    const even = (val | 0) % 2 === 0;\n    const newPar = {\n      first: false,\n      second: false,\n    };\n    if (even) {\n      newPar.first = true;\n      newPar.second = i + 1 < n && chunkIndices[i + 1] === chunkIndices[i] + 1;\n      if (newPar.second) {\n        ++i;\n      }\n    } else {\n      newPar.second = true;\n    }\n    chunksIdx.push(Math.floor(val / 2));\n    cylinderInfo.push(newPar);\n  }\n  return { indices: chunksIdx, cylinderInfo };\n}\n\nfunction _assignOpacity(cylinderInfo, color1, color2) {\n  for (let i = 0, n = cylinderInfo.length; i < n; ++i) {\n    const info = cylinderInfo[i];\n    if (!info.first) {\n      color1[COLOR_SIZE * i] = -0.5;\n    }\n    if (!info.second) {\n      color2[COLOR_SIZE * i] = -0.5;\n    }\n  }\n}\nclass Instanced2CCylindersGeometry extends THREE.InstancedBufferGeometry {\n  constructor(instanceCount, polyComplexity, useZSprites, openEnded) {\n    super();\n    this._useZSprites = useZSprites;\n    this._cylGeometry = useZSprites ? new THREE.PlaneBufferGeometry(2, 2, 1, 1)\n      : new CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, openEnded);\n    this._init(instanceCount, this._cylGeometry, this._useZSprites);\n\n    this._collisionGeo = new Simple2CCylindersGeometry(instanceCount, 3);\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const matrix = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n    let me = matrix.elements;\n    const mtxOffset = itemIdx * OFFSET_SIZE;\n\n    this._collisionGeo.setItem(itemIdx, botPos, topPos, itemRad);\n    setArrayXYZW(this._matVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n    setArrayXYZW(this._matVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n    setArrayXYZW(this._matVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n\n    if (this._useZSprites) {\n      invMatrix.copy(matrix).invert();\n      me = invMatrix.elements;\n      setArrayXYZW(this._invmatVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n      setArrayXYZW(this._invmatVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n      setArrayXYZW(this._invmatVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n    }\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const colorIdx = itemIdx * COLOR_SIZE;\n    tmpColor.set(colorVal1);\n    setArrayXYZ(this._color1, colorIdx, tmpColor.r, tmpColor.g, tmpColor.b);\n    tmpColor.set(colorVal2);\n    setArrayXYZ(this._color2, colorIdx, tmpColor.r, tmpColor.g, tmpColor.b);\n  }\n\n  computeBoundingSphere() {\n    this._collisionGeo.computeBoundingSphere();\n    this.boundingSphere = this._collisionGeo.boundingSphere;\n  }\n\n  computeBoundingBox() {\n    this._collisionGeo.computeBoundingBox();\n    this.boundingBox = this._collisionGeo.boundingBox;\n  }\n\n  raycast(raycaster, intersects) {\n    this._collisionGeo.raycast(raycaster, intersects);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('matVector1').needsUpdate = true;\n    this.getAttribute('matVector2').needsUpdate = true;\n    this.getAttribute('matVector3').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n    this.getAttribute('color2').needsUpdate = true;\n    this.getAttribute('alphaColor').needsUpdate = true;\n    if (this._useZSprites) {\n      this.getAttribute('invmatVector1').needsUpdate = true;\n      this.getAttribute('invmatVector2').needsUpdate = true;\n      this.getAttribute('invmatVector3').needsUpdate = true;\n    }\n\n    this._collisionGeo.finishUpdate();\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const alphaArr = this._alpha;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      alphaArr[Math.floor(chunkIndices[i] / 2)] = value;\n    }\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  getSubset(chunkIndices) {\n    const info = _prepareCylinderInfo(chunkIndices);\n    const cylinderIndices = info.indices;\n    const instanceCount = cylinderIndices.length;\n    const geom = new THREE.InstancedBufferGeometry();\n    this._init.call(geom, instanceCount, this._cylGeometry, this._useZSprites);\n\n    copySubArrays(this._matVector1, geom._matVector1, cylinderIndices, OFFSET_SIZE);\n    copySubArrays(this._matVector2, geom._matVector2, cylinderIndices, OFFSET_SIZE);\n    copySubArrays(this._matVector3, geom._matVector3, cylinderIndices, OFFSET_SIZE);\n\n    if (this._useZSprites) {\n      copySubArrays(this._invmatVector1, geom._invmatVector1, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._invmatVector2, geom._invmatVector2, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._invmatVector3, geom._invmatVector3, cylinderIndices, OFFSET_SIZE);\n    }\n\n    copySubArrays(this._color1, geom._color1, cylinderIndices, COLOR_SIZE);\n    copySubArrays(this._color2, geom._color2, cylinderIndices, COLOR_SIZE);\n    _assignOpacity(info.cylinderInfo, geom._color1, geom._color2);\n    geom.boundingSphere = this.boundingSphere;\n    geom.boundingBox = this.boundingBox;\n    return [geom];\n  }\n\n  getGeoParams() {\n    return this._cylGeometry.parameters;\n  }\n\n  _init(instanceCount, cylinderGeo, useZSprites) {\n    this.copy(cylinderGeo);\n    this._matVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n    this._matVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n    this._matVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n    this._color1 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE);\n    this._color2 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, instanceCount);\n    _.fill(alpha, 1.0);\n\n    this.setAttribute('matVector1', new THREE.InstancedBufferAttribute(this._matVector1, OFFSET_SIZE, false, 1));\n    this.setAttribute('matVector2', new THREE.InstancedBufferAttribute(this._matVector2, OFFSET_SIZE, false, 1));\n    this.setAttribute('matVector3', new THREE.InstancedBufferAttribute(this._matVector3, OFFSET_SIZE, false, 1));\n    this.setAttribute('color', new THREE.InstancedBufferAttribute(this._color1, COLOR_SIZE, false, 1));\n    this.setAttribute('color2', new THREE.InstancedBufferAttribute(this._color2, COLOR_SIZE, false, 1));\n\n    this.setAttribute('alphaColor', new THREE.InstancedBufferAttribute(this._alpha, 1, false, 1));\n\n    if (useZSprites) {\n      this._invmatVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._invmatVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._invmatVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n\n      this.setAttribute(\n        'invmatVector1',\n        new THREE.InstancedBufferAttribute(this._invmatVector1, OFFSET_SIZE, false, 1),\n      );\n      this.setAttribute(\n        'invmatVector2',\n        new THREE.InstancedBufferAttribute(this._invmatVector2, OFFSET_SIZE, false, 1),\n      );\n      this.setAttribute(\n        'invmatVector3',\n        new THREE.InstancedBufferAttribute(this._invmatVector3, OFFSET_SIZE, false, 1),\n      );\n    }\n  }\n}\n\nexport default Instanced2CCylindersGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\n\nconst VEC_SIZE = 3;\nconst TRI_SIZE = 3;\nconst tmpPrev = new THREE.Vector3();\nconst tmpNext = new THREE.Vector3();\nconst tmpRes = new THREE.Vector3();\nconst simpleNormal = new THREE.Vector3(1.0, 0.0, 0.0);\nconst normalOnCut = new THREE.Vector3();\nconst nearRingPt = new THREE.Vector3();\n\nfunction _createExtrudedChunkGeometry(shape, ringsCount) {\n  const geo = new THREE.BufferGeometry();\n  const ptsCount = shape.length;\n  const totalPts = ptsCount * ringsCount;\n  const type = totalPts <= 65536 ? Uint16Array : Uint32Array;\n  const facesPerChunk = (ringsCount - 1) * ptsCount * 2;\n  const indices = new THREE.BufferAttribute(utils.allocateTyped(type, facesPerChunk * TRI_SIZE), 1);\n\n  let currVtxIdx = 0;\n  let currFaceIdx = 0;\n  for (let y = 0; y < ringsCount; y++) {\n    // faces\n    if (y !== ringsCount - 1) {\n      for (let i = 0; i < ptsCount; i++) {\n        const v1 = currVtxIdx + i;\n        const v2 = currVtxIdx + ptsCount + i;\n        const v3 = currVtxIdx + ptsCount + ((i + 1) % ptsCount);\n        const v4 = currVtxIdx + ((i + 1) % ptsCount);\n\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v1, v4, v2);\n        currFaceIdx++;\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v2, v4, v3);\n        currFaceIdx++;\n      }\n    }\n\n    currVtxIdx += ptsCount;\n  }\n\n  geo.setIndex(indices);\n  const pos = utils.allocateTyped(Float32Array, totalPts * VEC_SIZE);\n  geo.setAttribute('position', new THREE.BufferAttribute(pos, VEC_SIZE));\n\n  geo._positions = shape;\n\n  return geo;\n}\n\nclass ExtrudedObjectsGeometry extends ChunkedObjectsGeometry {\n  constructor(shape, ringsCount, chunksCount) {\n    const chunkGeo = _createExtrudedChunkGeometry(shape, ringsCount);\n    super(chunkGeo, chunksCount);\n    this._ringsCount = ringsCount;\n\n    const tmpShape = this._tmpShape = [];\n    for (let i = 0; i < shape.length; ++i) {\n      tmpShape[i] = new THREE.Vector3();\n    }\n  }\n\n  setItem(itemIdx, matrices, hasSlope = false, hasCut = false) {\n    const ptsCount = this._chunkGeo._positions.length;\n    const ringsCount = this._ringsCount;\n    const chunkStartIdx = ptsCount * this._ringsCount * itemIdx * VEC_SIZE;\n\n    this._setPoints(matrices, ptsCount, ringsCount, chunkStartIdx);\n\n    if (hasSlope) {\n      this._setSlopeNormals(ptsCount, ringsCount, chunkStartIdx);\n    } else {\n      this._setBaseNormals(ptsCount, ringsCount, chunkStartIdx);\n    }\n\n    if (hasCut) {\n      this._addCut(ptsCount, ringsCount, chunkStartIdx);\n    }\n  }\n\n  _setPoints(matrices, ptsCount, ringsCount, chunkStartIdx) {\n    const tmpShape = this._tmpShape;\n    const positions = this._positions;\n    const shape = this._chunkGeo._positions;\n\n    for (let i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i) {\n      const mtx = matrices[i];\n\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpShape[j].copy(shape[j]).applyMatrix4(mtx).toArray(positions, vtxIdx);\n      }\n    }\n  }\n\n  _setBaseNormals(ptsCount, ringsCount, chunkStartIdx) {\n    const nPtsInRing = ptsCount * VEC_SIZE;\n\n    for (let i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n      this._countNormalsInRing(ptsCount, vtxIdx, false);\n    }\n  }\n\n  _setSlopeNormals(ptsCount, ringsCount, chunkStartIdx) {\n    const normals = this._normals;\n    const nPtsInRing = ptsCount * VEC_SIZE;\n\n    let vtxIdx = chunkStartIdx;\n    // First ring\n    // In all cases, besides cut, second ring is coincident to first. So values of first ring's normals doesn't\n    // matter (In the cut case special handler will be applied later and will set them to correct values)\n    for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n      simpleNormal.toArray(normals, vtxIdx);\n    }\n    // second ring\n    // If it isn't first Item we take normals' values from the last ring of the previous item (these rings are coincident)\n    // else we count normals' values based on next ring information\n    if (vtxIdx - 2 * nPtsInRing > 0) {\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpRes.fromArray(normals, vtxIdx - 2 * nPtsInRing).toArray(normals, vtxIdx);\n      }\n    } else {\n      this._countNormalsInRing(ptsCount, vtxIdx, true, +nPtsInRing);\n      vtxIdx += nPtsInRing;\n    }\n    // other rings\n    // we count normals' values based on previous ring information\n    for (let i = 2; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n      this._countNormalsInRing(ptsCount, vtxIdx, true, -nPtsInRing);\n    }\n  }\n\n  // Counting normals:\n  // - Slope\n  //   Radius changes throught part => normals aren't parallel with the plane contains section points\n  //   normal = vTangentInSectionPlane x vToSuchPointInPrevSection (all vectors are scaled for being 1 in length)\n  // - No slope\n  //   Radius doesn't change throught part => normals are parallel with the plane contains section points\n  //   normal = vToPrevPointInSection + vToNextPointInSection (all vectors are scaled for being 1 in length)\n  _countNormalsInRing(ptsCount, vtxIdx, isSlope, shiftToExtraPt) {\n    const tmpShape = this._tmpShape;\n    const normals = this._normals;\n\n    tmpShape[0].fromArray(this._positions, vtxIdx);\n    tmpShape[ptsCount - 1].fromArray(this._positions, vtxIdx + (ptsCount - 1) * VEC_SIZE);\n\n    for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n      if (j < ptsCount - 1) {\n        tmpShape[j + 1].fromArray(this._positions, vtxIdx + VEC_SIZE);\n      }\n\n      if (isSlope) {\n        nearRingPt.fromArray(this._positions, vtxIdx + shiftToExtraPt);\n\n        tmpPrev.subVectors(tmpShape[(j + ptsCount - 1) % ptsCount], tmpShape[(j + 1) % ptsCount]).normalize();\n        tmpNext.subVectors(tmpShape[j], nearRingPt).normalize();\n        tmpRes.crossVectors(tmpNext, tmpPrev).normalize().toArray(normals, vtxIdx);\n      } else {\n        tmpPrev.subVectors(tmpShape[j], tmpShape[(j + ptsCount - 1) % ptsCount]).normalize();\n        tmpNext.subVectors(tmpShape[j], tmpShape[(j + 1) % ptsCount]).normalize();\n        tmpRes.addVectors(tmpPrev, tmpNext).normalize().toArray(normals, vtxIdx);\n      }\n    }\n  }\n\n  _addCut(ptsCount, ringsCount, chunkStartIdx) {\n    // Nothing to do if item is flat or only line\n    if (ptsCount < 3 || ringsCount < 2) {\n      return;\n    }\n    const positions = this._positions;\n    const normals = this._normals;\n    const tmpShape = this._tmpShape;\n    const nPtsInRing = ptsCount * VEC_SIZE;\n\n    // Normal to the cut plane is equal to cross product of two vectors which are lying in it\n    tmpShape[0].fromArray(positions, chunkStartIdx);\n    tmpShape[1].fromArray(positions, chunkStartIdx + VEC_SIZE);\n    tmpShape[2].fromArray(positions, chunkStartIdx + 2 * VEC_SIZE);\n\n    tmpPrev.subVectors(tmpShape[1], tmpShape[0]).normalize();\n    tmpNext.subVectors(tmpShape[1], tmpShape[2]).normalize();\n    normalOnCut.crossVectors(tmpPrev, tmpNext).normalize();\n\n    let vtxIdx = chunkStartIdx;\n    // First and second rings normals' values are equal to value of normal to the cutting plane\n    for (let j = 0; j < ptsCount * 2; ++j, vtxIdx += VEC_SIZE) {\n      normalOnCut.toArray(normals, vtxIdx);\n    }\n    if (ringsCount > 2) {\n      // Third ring points are coincident to first ring points, but have different normals. It makes sharp angle near cut\n      for (let j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE) {\n        tmpRes.fromArray(positions, vtxIdx - nPtsInRing).toArray(positions, vtxIdx);\n      }\n    }\n  }\n}\n\nexport default ExtrudedObjectsGeometry;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from '../../utils';\n\nconst MAX_IDC_16BIT = 65535;\nconst VERTEX_PER_SEGMENT = 4;\nconst POS_SIZE = 4;\nconst DIR_SIZE = 3;\nconst COL_SIZE = 3;\nconst tmpColor = new THREE.Color();\nconst direction = new THREE.Vector3();\n\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\n\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\n\nfunction getSubset(arr, startSegmentIdx, segmentsCount, elemSize) {\n  const start = startSegmentIdx * VERTEX_PER_SEGMENT;\n  const end = start + segmentsCount * VERTEX_PER_SEGMENT;\n  return arr.subarray(start * elemSize, end * elemSize);\n}\n\n/**\n * This class represents lines geometry which consists of screen-aligned narrow quad of variable width.\n *\n * @constructor\n *\n * @param {number}  segmentsCount   Number of segments per chunk.\n * collision geometry.\n */\n\nclass ThickLinesGeometry extends THREE.BufferGeometry {\n  constructor(segmentsCount) {\n    super();\n    this._initVertices(segmentsCount);\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.getAttribute('position').needsUpdate = true;\n    this.getAttribute('color').needsUpdate = true;\n    this.getAttribute('alphaColor').needsUpdate = true;\n    this.getAttribute('direction').needsUpdate = true;\n  }\n\n  setColor(segmentIdx, colorVal) {\n    tmpColor.set(colorVal);\n    let idx = segmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n    idx += COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n    idx += COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n    idx += COL_SIZE;\n    setArrayXYZ(this._colors, idx, tmpColor.r, tmpColor.g, tmpColor.b);\n  }\n\n  setSegment(segmentIdx, pos1, pos2) {\n    direction.subVectors(pos1, pos2);\n    direction.normalize();\n    const positions = this._positions;\n    const directions = this._directions;\n    let idx = segmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n    let dirIdx = segmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n    setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, 0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    idx += POS_SIZE;\n    dirIdx += DIR_SIZE;\n    setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, -0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    idx += POS_SIZE;\n    dirIdx += DIR_SIZE;\n    setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, 0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    idx += POS_SIZE;\n    dirIdx += DIR_SIZE;\n    setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, -0.5);\n    setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n  }\n\n  setOpacity(startSegIdx, endSegIdx, value) {\n    const start = startSegIdx * VERTEX_PER_SEGMENT;\n    const end = endSegIdx * VERTEX_PER_SEGMENT;\n    _.fill(this.alpha, value, end, start);\n    this.getAttribute('alphaColor').needsUpdate = true;\n  }\n\n  getSubsetSegments(startSegmentIdx, segmentsCount) {\n    return [\n      getSubset(this._positions, startSegmentIdx, segmentsCount, POS_SIZE),\n      getSubset(this._directions, startSegmentIdx, segmentsCount, DIR_SIZE),\n    ];\n  }\n\n  getSubsetColors(startSegmentIdx, segmentsCount) {\n    return getSubset(this._colors, startSegmentIdx, segmentsCount, COL_SIZE);\n  }\n\n  getSubsetOpacities(startSegmentIdx, segmentsCount) {\n    return getSubset(this._alpha, startSegmentIdx, segmentsCount, 1);\n  }\n\n  getNumVertexPerSegment() {\n    return VERTEX_PER_SEGMENT;\n  }\n\n  getPositionSize() {\n    return POS_SIZE;\n  }\n\n  setSegments(startSegmentIdx, positions) {\n    const startPos = startSegmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n    if (positions instanceof Array && positions.length === 2) {\n      this._positions.set(positions[0], startPos);\n      const startDir = startSegmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n      this._directions.set(positions[1], startDir); // dirs are geo part of vertex\n    } else {\n      this._positions.set(positions, startPos);\n    }\n  }\n\n  setColors(startSegmentIdx, colors) {\n    const start = startSegmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n    this._colors.set(colors, start);\n  }\n\n  _initVertices(segmentsCount) {\n    this._buffersSize = segmentsCount * VERTEX_PER_SEGMENT;\n    const pointsCount = this._buffersSize;\n    const use32bitIndex = pointsCount > MAX_IDC_16BIT;\n    this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, segmentsCount * 6);\n    this._positions = utils.allocateTyped(Float32Array, pointsCount * POS_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, pointsCount * COL_SIZE);\n    this._directions = utils.allocateTyped(Float32Array, pointsCount * DIR_SIZE);\n    const alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n    _.fill(alpha, 1.0);\n\n    const index = this._index;\n    let indexOffset = 0;\n    let pointOffset = 0;\n    for (let j = 0; j < segmentsCount; j++, indexOffset += 6, pointOffset += VERTEX_PER_SEGMENT) {\n      index[indexOffset] = pointOffset;\n      index[indexOffset + 1] = pointOffset + 1;\n      index[indexOffset + 2] = pointOffset + 3;\n      index[indexOffset + 3] = pointOffset;\n      index[indexOffset + 4] = pointOffset + 2;\n      index[indexOffset + 5] = pointOffset + 3;\n    }\n    this.setIndex(new THREE.BufferAttribute(this._index, 1));\n\n    this.setAttribute('position', new THREE.BufferAttribute(this._positions, POS_SIZE));\n    this.setAttribute('color', new THREE.BufferAttribute(this._colors, COL_SIZE));\n    this.setAttribute('alphaColor', new THREE.BufferAttribute(alpha, 1));\n    this.setAttribute('direction', new THREE.BufferAttribute(this._directions, DIR_SIZE));\n  }\n}\n\nexport default ThickLinesGeometry;\n","import * as THREE from 'three';\nimport BaseLinesGeometry from './ThickLinesGeometry';\n\n/**\n * This class represents geometry which consists lines. This can build bounding volumes\n * @constructor\n *\n * @param {number}  segmentsCount   Number of segments per chunk.\n */\nclass LinesGeometry extends BaseLinesGeometry {\n  startUpdate() {\n    return true;\n  }\n\n  computeBoundingSphere() {\n    const { boundingBox } = this;\n    // Build bounding sphere\n    let radiusSquared = 0.0;\n    const center = new THREE.Vector3();\n    if (boundingBox) {\n      boundingBox.getCenter(center);\n    }\n    const positions = this._positions;\n    const sphere = this.boundingSphere || new THREE.Sphere();\n    const size = this._positions.length;\n    const pos = new THREE.Vector3();\n    const posSize = this.getPositionSize();\n    for (let i = 0; i < size; i += posSize) {\n      pos.set(positions[i], positions[i + 1], positions[i + 2]);\n      const lengthSquared = center.distanceToSquared(pos);\n      if (radiusSquared < lengthSquared) {\n        radiusSquared = lengthSquared;\n      }\n    }\n    sphere.set(center, Math.sqrt(radiusSquared));\n    this.boundingSphere = sphere;\n  }\n\n  computeBoundingBox() {\n    const positions = this._positions;\n    const box = new THREE.Box3();\n    const size = this._positions.length;\n    const tmpVec = new THREE.Vector3();\n    const posSize = this.getPositionSize();\n    for (let i = 0; i < size; i += posSize) {\n      tmpVec.set(positions[i], positions[i + 1], positions[i + 2]);\n      box.expandByPoint(tmpVec);\n    }\n    this.boundingBox = box;\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n}\n\nexport default LinesGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport ChunkedObjectsGeometry from './ChunkedObjectsGeometry';\n\nconst VEC_SIZE = 3;\nconst tmpVector = new THREE.Vector3();\nconst normMtx = new THREE.Matrix3();\n\nclass CylinderCollisionGeo extends ChunkedObjectsGeometry {\n  constructor(instanceCount, polyComplexity) {\n    const cylGeometry = new THREE.CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    super(cylGeometry, instanceCount);\n\n    const chunkSize = this._chunkSize;\n    this._chunkPos = this._chunkGeo.attributes.position.array;\n    this._chunkNorms = this._chunkGeo.attributes.normal.array;\n    this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n  }\n\n  setItem(itemIdx, botPos, topPos, itemRad) {\n    const chunkSize = this._chunkSize;\n    const itemOffset = chunkSize * itemIdx * VEC_SIZE;\n\n    const tmpArray = this._tmpVector;\n    const geoPos = this._chunkPos;\n    const geoNorm = this._chunkNorms;\n\n    const mtx1 = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n    normMtx.getNormalMatrix(mtx1);\n    let idx;\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoPos, idx);\n      tmpVector.applyMatrix4(mtx1);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._positions.set(tmpArray, itemOffset);\n\n    for (let i = 0; i < chunkSize; ++i) {\n      idx = i * VEC_SIZE;\n      tmpVector.fromArray(geoNorm, idx);\n      tmpVector.applyMatrix3(normMtx);\n      tmpVector.toArray(tmpArray, idx);\n    }\n    this._normals.set(tmpArray, itemOffset);\n  }\n}\nexport default CylinderCollisionGeo;\n","import LinesGeometry from './LinesGeometry';\nimport CylinderCollisionGeo from './CylinderCollisionGeo';\n\nconst COLLISION_RAD = 0.1;\n\n/**\n * This class represents geometry which consists of separate chunks.\n * Each chunk has same index and similar geometry with equal points and faces count.\n * Each chunk has by default only one color.\n * @constructor\n *\n * @param {number}  chunksCount     Total chunks count.\n * @param {number}  segmentsCount   Number of segments per chunk.\n * @param {boolean} enableCollision Enable or disable collision where each segment is\n *                                  a collidable cylinder.\n * collision geometry.\n */\nclass ChunkedLinesGeometry extends LinesGeometry {\n  constructor(chunksCount, segmentsCount, enableCollision) {\n    super(chunksCount * segmentsCount);\n    this._init(segmentsCount);\n    this._collisionGeo = enableCollision ? new CylinderCollisionGeo(chunksCount * segmentsCount, 3) : null;\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  computeBoundingSphere() {\n    const collisionGeo = this._collisionGeo;\n    if (collisionGeo) {\n      collisionGeo.computeBoundingSphere();\n      this.boundingSphere = collisionGeo.boundingSphere;\n      return;\n    }\n    super.computeBoundingSphere();\n  }\n\n  computeBoundingBox() {\n    const collisionGeo = this._collisionGeo;\n    if (collisionGeo) {\n      collisionGeo.computeBoundingBox();\n      this.boundingBox = collisionGeo.boundingBox;\n      return;\n    }\n    super.computeBoundingBox();\n  }\n\n  raycast(raycaster, intersects) {\n    const collisionGeo = this._collisionGeo;\n    if (!collisionGeo) {\n      return;\n    }\n    const segCount = this._chunkSize;\n    this._collisionGeo.raycast(raycaster, intersects);\n    for (let i = 0, n = intersects.length; i < n; ++i) {\n      let { chunkIdx } = intersects[i];\n      if (chunkIdx === undefined) {\n        continue;\n      }\n      chunkIdx = (chunkIdx / segCount) | 0;\n      intersects[i].chunkIdx = chunkIdx;\n    }\n  }\n\n  setColor(chunkIdx, colorVal) {\n    const chunkSize = this._chunkSize;\n    for (let i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n      super.setColor(i, colorVal);\n    }\n  }\n\n  setSegment(chunkIdx, segIdx, pos1, pos2) {\n    const chunkSize = this._chunkSize;\n    const idx = chunkIdx * chunkSize + segIdx;\n    super.setSegment(idx, pos1, pos2);\n    if (this._collisionGeo) {\n      this._collisionGeo.setItem(chunkIdx * chunkSize + segIdx, pos1, pos2, COLLISION_RAD);\n    }\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  setOpacity(chunkIndices, value) {\n    const chunkSize = this._chunkSize;\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const left = chunkIndices[i] * chunkSize;\n      super.setOpacity(left, left + chunkSize - 1, value);\n    }\n  }\n\n  getSubset(chunkIndices) {\n    const instanceCount = chunkIndices.length;\n    const chunkSize = this._chunkSize;\n    const subset = new ChunkedLinesGeometry(instanceCount, chunkSize, false);\n    for (let i = 0, n = chunkIndices.length; i < n; ++i) {\n      const dstPtOffset = i * chunkSize;\n      const startSegIdx = chunkIndices[i] * chunkSize;\n      subset.setSegments(dstPtOffset, this.getSubsetSegments(startSegIdx, chunkSize));\n      subset.setColors(dstPtOffset, this.getSubsetColors(startSegIdx, chunkSize));\n    }\n\n    subset.boundingSphere = this.boundingSphere;\n    subset.boundingBox = this.boundingBox;\n    return [subset];\n  }\n\n  _init(chunkSize) {\n    this._chunkSize = chunkSize;\n  }\n}\n\nexport default ChunkedLinesGeometry;\n","import * as THREE from 'three';\nimport LinesGeometry from './LinesGeometry';\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry';\n\nconst COLLISION_RAD = 0.3;\nconst tmpVector = new THREE.Vector3();\n\nclass TwoColorLinesGeometry extends LinesGeometry {\n  constructor(segmentsCount) {\n    super(segmentsCount * 2);\n    this._init(segmentsCount);\n    this._collisionGeo = new Simple2CCylindersGeometry(segmentsCount, 3);\n  }\n\n  setItem(itemIdx, botPos, topPos) {\n    this._collisionGeo.setItem(itemIdx, botPos, topPos, COLLISION_RAD);\n    const offset = 2 * itemIdx;// there are two points per segment\n    tmpVector.lerpVectors(botPos, topPos, 0.5);\n    super.setSegment(offset, botPos, tmpVector);\n    super.setSegment(offset + 1, tmpVector, topPos);\n  }\n\n  setColor(itemIdx, colorVal1, colorVal2) {\n    const offset = 2 * itemIdx;// there are two points per segment\n    super.setColor(offset, colorVal1);\n    super.setColor(offset + 1, colorVal2);\n  }\n\n  raycast(raycaster, intersects) {\n    if (this._collisionGeo) {\n      this._collisionGeo.raycast(raycaster, intersects);\n    }\n  }\n\n  getSubset(segmentIndices) {\n    const instanceCount = segmentIndices.length;\n    const subset = new TwoColorLinesGeometry(instanceCount, false);\n    for (let i = 0, n = instanceCount; i < n; ++i) {\n      const startSegIdx = segmentIndices[i];\n      subset.setSegments(i, this.getSubsetSegments(startSegIdx, 1));\n      subset.setColors(i, this.getSubsetColors(startSegIdx, 1));\n    }\n\n    subset.boundingSphere = this.boundingSphere;\n    subset.boundingBox = this.boundingBox;\n    return [subset];\n  }\n\n  _init(segmentsCount) {\n    this._segCounts = segmentsCount * 2;\n  }\n}\n// (???)parent = LinesGeometry.prototype;\n\nexport default TwoColorLinesGeometry;\n","import * as THREE from 'three';\nimport ChunkedLinesGeometry from './ChunkedLinesGeometry';\nimport SphereCollisionGeo from './SphereCollisionGeo';\n\nconst vectors = [\n  new THREE.Vector3(1, 0, 0),\n  new THREE.Vector3(-1, 0, 0),\n  new THREE.Vector3(0, 1, 0),\n  new THREE.Vector3(0, -1, 0),\n  new THREE.Vector3(0, 0, 1),\n  new THREE.Vector3(0, 0, -1),\n];\nconst vecCount = vectors.length;\nconst tempPos1 = new THREE.Vector3();\nconst tempPos2 = new THREE.Vector3();\n\nclass CrossGeometry extends SphereCollisionGeo(ChunkedLinesGeometry) {\n  constructor(chunksCount) {\n    super(chunksCount, chunksCount, (vecCount / 2) | 0, false);\n  }\n\n  setItem(itemIdx, itemPos, itemRad) {\n    this.setSphere(itemIdx, itemPos, itemRad);\n\n    for (let i = 0; i < vecCount / 2; ++i) {\n      const first = i * 2;\n      tempPos1.x = itemPos.x + vectors[first].x * itemRad;\n      tempPos1.y = itemPos.y + vectors[first].y * itemRad;\n      tempPos1.z = itemPos.z + vectors[first].z * itemRad;\n      const second = first + 1;\n      tempPos2.x = itemPos.x + vectors[second].x * itemRad;\n      tempPos2.y = itemPos.y + vectors[second].y * itemRad;\n      tempPos2.z = itemPos.z + vectors[second].z * itemRad;\n      this.setSegment(itemIdx, i, tempPos1, tempPos2);\n    }\n  }\n}\nexport default CrossGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\nimport RaycastableBufferGeometry from './RaycastableBufferGeometry';\n\nconst POS_RAD_SIZE = 4;\nconst COLOR_SIZE = 3;\nconst tmpColor = new THREE.Color();\n\n/**\n * This is a base class for isosurface algorithms.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\nclass IsoSurfaceGeometry extends RaycastableBufferGeometry {\n  constructor(spheresCount, opts) {\n    super();\n\n    this._opts = opts;\n    this.zClip = this._opts.zClip;\n    this._posRad = utils.allocateTyped(Float32Array, spheresCount * POS_RAD_SIZE);\n    this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE);\n  }\n\n  setItem(chunkIdx, pos, radius) {\n    const posRad = this._posRad;\n    let idx = POS_RAD_SIZE * chunkIdx;\n    posRad[idx++] = pos.x;\n    posRad[idx++] = pos.y;\n    posRad[idx++] = pos.z;\n    posRad[idx] = radius;\n  }\n\n  setColor(chunkIdx, colorVal) {\n    tmpColor.set(colorVal);\n    const colors = this._colors;\n    let idx = COLOR_SIZE * chunkIdx;\n    colors[idx++] = tmpColor.r;\n    colors[idx++] = tmpColor.g;\n    colors[idx] = tmpColor.b;\n  }\n\n  finalize() {\n    this.finishUpdate();\n    this.computeBoundingSphere();\n  }\n\n  finishUpdate() {\n    this._build();\n  }\n\n  setOpacity() {\n    // not implemented\n  }\n\n  raycast() {\n  }\n\n  getSubset() {\n    return [];\n  }\n}\nexport default IsoSurfaceGeometry;\n","import utils from '../../utils';\n\n/**\n * Class for marching cube\n * Stores 8 points and 8 float values are stored together in linear array\n * Int values for has intersection or not - in integer32 linear array\n * Int values for bits flags - in integer32 linear array\n *\n */\nclass IsoSurfaceMarchCube {\n  constructor() {\n    this.pointsValuesLinear = null;\n    this.hasIntersection = null;\n    this.bitsInside = null;\n  }\n\n  create(numCellsPerSide) {\n    const vx7000000 = 0x7000000;\n    const n3 = numCellsPerSide * numCellsPerSide * numCellsPerSide;\n    if (n3 > vx7000000) {\n      throw new Error('Too large cube dimension: lead to memory huge uasge');\n    }\n    this.pointsValuesLinear = utils.allocateTyped(Float32Array, (2 << (2 + 2)) * n3);\n    this.hasIntersection = utils.allocateTyped(Int32Array, n3);\n    this.bitsInside = utils.allocateTyped(Int32Array, n3);\n    return 0;\n  }\n\n  destroy() {\n    this.bitsInside = null;\n    this.hasIntersection = null;\n    this.pointsValuesLinear = null;\n  }\n}\n\n/* eslint-disable no-magic-numbers */\nIsoSurfaceMarchCube.prototype.striIndicesMarchCube = [\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1,\n  3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1,\n  3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1,\n  3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1,\n  9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1,\n  9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1,\n  2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1,\n  8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1,\n  9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1,\n  4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1,\n  3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1,\n  1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1,\n  4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1,\n  4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1,\n  5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1,\n  2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1,\n  9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1,\n  0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1,\n  2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1,\n  10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1,\n  5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1,\n  5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1,\n  9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1,\n  0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1,\n  1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1,\n  10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1,\n  8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1,\n  2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1,\n  7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1,\n  2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1,\n  11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1,\n  5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1,\n  11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1,\n  11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1,\n  1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1,\n  9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1,\n  5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1,\n  2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1,\n  5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1,\n  6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1,\n  3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1,\n  6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1,\n  5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1,\n  1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1,\n  10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1,\n  6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1,\n  8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1,\n  7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1,\n  3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1,\n  5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1,\n  0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1,\n  9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1,\n  8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1,\n  5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1,\n  0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1,\n  6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1,\n  10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1,\n  10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n  8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1,\n  1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1,\n  0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1,\n  10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1,\n  3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1,\n  6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1,\n  9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1,\n  8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1,\n  3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1,\n  6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1,\n  0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1,\n  10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1,\n  10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1,\n  2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1,\n  7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1,\n  7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1,\n  2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1,\n  1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1,\n  11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1,\n  8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1,\n  0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1,\n  7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1,\n  10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n  2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1,\n  6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1,\n  7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1,\n  2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1,\n  1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1,\n  10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1,\n  10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1,\n  0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1,\n  7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1,\n  6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1,\n  8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1,\n  9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1,\n  6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1,\n  4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1,\n  10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1,\n  8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1,\n  0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1,\n  1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1,\n  8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1,\n  10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1,\n  4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1,\n  10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1,\n  5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1,\n  11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1,\n  9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1,\n  6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1,\n  7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1,\n  3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1,\n  7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1,\n  9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1,\n  3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1,\n  6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1,\n  9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1,\n  1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1,\n  4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1,\n  7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1,\n  6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1,\n  3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1,\n  0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1,\n  6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1,\n  0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1,\n  11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1,\n  6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1,\n  5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1,\n  9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1,\n  1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1,\n  1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1,\n  10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1,\n  0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1,\n  5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1,\n  10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1,\n  11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1,\n  9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1,\n  7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1,\n  2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1,\n  8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1,\n  9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1,\n  9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1,\n  1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1,\n  9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1,\n  9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n  5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1,\n  0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1,\n  10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1,\n  2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1,\n  0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1,\n  0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1,\n  9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1,\n  5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1,\n  3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1,\n  5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1,\n  8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1,\n  0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1,\n  9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1,\n  0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1,\n  1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1,\n  3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1,\n  4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1,\n  9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1,\n  11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1,\n  11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1,\n  2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1,\n  9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1,\n  3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1,\n  1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1,\n  4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1,\n  4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1,\n  0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1,\n  3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1,\n  3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1,\n  0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1,\n  9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1,\n  1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n];\n/* eslint-enable no-magic-numbers */\n\nexport default IsoSurfaceMarchCube;\n","import * as THREE from 'three';\nimport IsoSurfaceMarchCube from './IsoSurfaceMarchCube';\nimport utils from '../../utils';\n\nconst edgeTable = [\n  0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c,\n  0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00,\n  0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c,\n  0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90,\n  0x230, 0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c,\n  0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30,\n  0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5, 0x4ac,\n  0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0,\n  0x460, 0x569, 0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c,\n  0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60,\n  0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc,\n  0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0,\n  0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55, 0x15c,\n  0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950,\n  0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc,\n  0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0,\n  0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc,\n  0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0,\n  0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c,\n  0x15c, 0x55, 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650,\n  0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc,\n  0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0,\n  0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c,\n  0x36c, 0x265, 0x16f, 0x66, 0x76a, 0x663, 0x569, 0x460,\n  0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac,\n  0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0,\n  0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c,\n  0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33, 0x339, 0x230,\n  0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c,\n  0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190,\n  0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c,\n  0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x0];\n\nfunction _voxelGradientFast(v, point, grad) {\n  const g = v.getValue(point.x, point.y, point.z);\n  grad.set(g[0], g[1], g[2]);\n}\n\n// Helper class GridCell\nclass GridCell {\n  constructor() {\n    this._arrSize = 8;\n    this.p = new Array(this._arrSize);\n    this.g = new Array(this._arrSize);\n    this.val = new Array(this._arrSize);\n    for (let i = 0; i < this._arrSize; ++i) {\n      this.p[i] = new THREE.Vector3();\n      this.g[i] = new THREE.Vector3();\n    }\n    this.cubeIndex = 0;\n  }\n}\n\n// Helper class Triangle\nclass Triangle {\n  constructor() {\n    this.a = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3(),\n    };\n\n    this.b = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3(),\n    };\n\n    this.c = {\n      p: new THREE.Vector3(),\n      n: new THREE.Vector3(),\n    };\n  }\n}\n\nfunction createArray(arrSize) {\n  const arr = new Array(arrSize);\n  for (let i = 0; i < arrSize; ++i) {\n    arr[i] = new THREE.Vector3();\n  }\n\n  return arr;\n}\n\nclass IsoSurface {\n  constructor() {\n    this._numTriangles = 0;\n    this._numVertices = 0;\n    this._position = [];\n    this._normals = [];\n    this._colors = null;\n    this._indices = [];\n    this._volumetricData = null;\n    this._xAxis = new THREE.Vector3();\n    this._yAxis = new THREE.Vector3();\n    this._zAxis = new THREE.Vector3();\n    this._xDir = new THREE.Vector3();\n    this._yDir = new THREE.Vector3();\n    this._zDir = new THREE.Vector3();\n  }\n\n  _prepareAxesAndDirs() {\n    const volData = this._volumetricData;\n\n    const cellSize = volData.getCellSize();\n\n    // calculate cell axes\n    const xAxis = this._xAxis;\n    const yAxis = this._yAxis;\n    const zAxis = this._zAxis;\n    const xDir = this._xDir;\n    const yDir = this._yDir;\n    const zDir = this._zDir;\n\n    xAxis.set(cellSize.x, 0, 0);\n    yAxis.set(0, cellSize.y, 0);\n    zAxis.set(0, 0, cellSize.z);\n\n    xDir.set(1, 0, 0);\n    yDir.set(0, 1, 0);\n    zDir.set(0, 0, 1);\n\n    // flip normals if coordinate system is in the wrong handedness\n    const tmp = new THREE.Vector3();\n    tmp.crossVectors(xDir, yDir);\n    if (tmp.dot(zDir) < 0) {\n      xDir.negate();\n      yDir.negate();\n      zDir.negate();\n    }\n\n    // check that the grid is in the all-positive octant of the coordinate system\n    if (xDir.x < 0 || xDir.y < 0 || xDir.z < 0\n      || yDir.x < 0 || yDir.y < 0 || yDir.z < 0\n      || zDir.x < 0 || zDir.y < 0 || zDir.z < 0) {\n      return false;\n    }\n\n    // check that the grid is axis-aligned\n    const notZero = (axe) => Math.abs(axe) > Number.EPSILON;\n    return !(notZero(xAxis.y) || notZero(xAxis.z)\n          || notZero(yAxis.x) || notZero(yAxis.z)\n          || notZero(zAxis.x) || notZero(zAxis.y));\n  }\n\n  _vertexInterp(isoLevel, grid, ind1, ind2, vertex, normal) {\n    const p1 = grid.p[ind1];\n    const p2 = grid.p[ind2];\n    const n1 = grid.g[ind1];\n    const n2 = grid.g[ind2];\n    const valP1 = grid.val[ind1];\n    const valP2 = grid.val[ind2];\n    const isoDiffP1 = isoLevel - valP1;\n    const diffValP2P1 = valP2 - valP1;\n\n    let mu = 0.0;\n\n    if (Math.abs(diffValP2P1) > 0.0) {\n      mu = isoDiffP1 / diffValP2P1;\n    }\n    mu = mu > 1.0 ? 1.0 : mu;\n    vertex.lerpVectors(p1, p2, mu);\n    normal.lerpVectors(n1, n2, mu);\n  }\n\n  static _triTable = IsoSurfaceMarchCube.prototype.striIndicesMarchCube;\n\n  static _arrSize = 12;\n\n  static _firstIndices = [0, 1, 2, 3, 4, 5, 6, 7, 0, 1, 2, 3];\n\n  static _secondIndices = [1, 2, 3, 0, 5, 6, 7, 4, 4, 5, 6, 7];\n\n  static _vertexList = createArray(IsoSurface._arrSize);\n\n  static _normalList = createArray(IsoSurface._arrSize);\n\n  _polygonize(grid, isoLevel, triangles) {\n    const { cubeIndex } = grid;\n    let i = 0;\n    const arrSize = IsoSurface._arrSize;\n    const firstIndices = IsoSurface._firstIndices;\n    const secondIndices = IsoSurface._secondIndices;\n    const vertexList = IsoSurface._vertexList;\n    const normalList = IsoSurface._normalList;\n\n    for (; i < arrSize; ++i) {\n      if (edgeTable[cubeIndex] & (1 << i)) {\n        this._vertexInterp(\n          isoLevel, grid,\n          firstIndices[i],\n          secondIndices[i],\n          vertexList[i],\n          normalList[i],\n        );\n      }\n    }\n\n    let triCount = 0;\n    const triTblIdx = cubeIndex * 16;\n    const triTable = IsoSurface._triTable;\n\n    for (i = 0; triTable[triTblIdx + i] !== -1; i += 3) {\n      triangles[triCount].a.p.copy(vertexList[triTable[triTblIdx + i]]);\n      triangles[triCount].a.n.copy(normalList[triTable[triTblIdx + i]]);\n\n      triangles[triCount].b.p.copy(vertexList[triTable[triTblIdx + i + 1]]);\n      triangles[triCount].b.n.copy(normalList[triTable[triTblIdx + i + 1]]);\n\n      triangles[triCount].c.p.copy(vertexList[triTable[triTblIdx + i + 2]]);\n      triangles[triCount].c.n.copy(normalList[triTable[triTblIdx + i + 2]]);\n      ++triCount;\n    }\n\n    return triCount;\n  }\n\n  _doGridPosNorms(isoValue, step, appendSimple) {\n    const vol = this._volumetricData;\n    const volData = this._volumetricData.getData();\n    const dim = vol.getDimensions();\n    const xSize = dim[0];\n    const ySize = dim[1];\n    const zSize = dim[2];\n    const stepX = step * vol.getStrideX();\n    const stepY = step * vol.getStrideY();\n    const stepZ = step * vol.getStrideZ();\n\n    const gc = new GridCell();\n    const gcVal = gc.val;\n    const gcValSize = gc.val.length;\n    const additions = [\n      new THREE.Vector3(0, 0, 0), // 0\n      new THREE.Vector3(step, 0, 0), // 1\n      new THREE.Vector3(step, step, 0), // 2\n      new THREE.Vector3(0, step, 0), // 3\n      new THREE.Vector3(0, 0, step), // 4\n      new THREE.Vector3(step, 0, step), // 5\n      new THREE.Vector3(step, step, step), // 6\n      new THREE.Vector3(0, step, step), // 7\n    ];\n\n    const tmpTriCount = 5;\n    const triangles = new Array(tmpTriCount);\n    for (let j = 0; j < tmpTriCount; ++j) {\n      triangles[j] = new Triangle();\n    }\n\n    let appendVertex;\n    const self = this;\n    const positions = this._position;\n    const normals = this._normals;\n    if (appendSimple) {\n      // Special case for axis-aligned grid with positive unit vector normals\n      appendVertex = (function () {\n        const axis = new THREE.Vector3(self._xAxis.x, self._yAxis.y, self._zAxis.z);\n        return function (triVertex) {\n          const vertex = triVertex.p.clone();\n          vertex.multiply(axis);\n          positions.push(vertex.add(self._origin));\n          normals.push(triVertex.n.clone());\n        };\n      }());\n    } else {\n      appendVertex = (function () {\n        const posMtx = new THREE.Matrix3();\n        posMtx.set(\n          self._xAxis.x, self._yAxis.x, self._zAxis.x,\n          self._xAxis.y, self._yAxis.y, self._zAxis.y,\n          self._xAxis.z, self._yAxis.z, self._zAxis.z,\n        );\n        const normMtx = new THREE.Matrix3();\n        normMtx.set(\n          self._xDir.x, self._yDir.x, self._zDir.x,\n          self._xDir.y, self._yDir.y, self._zDir.y,\n          self._xDir.z, self._yDir.z, self._zDir.z,\n        );\n\n        return function (triVertex) {\n          positions.push(triVertex.p.clone().applyMatrix3(posMtx).add(self._origin));\n          normals.push(triVertex.n.clone().applyMatrix3(normMtx));\n        };\n      }());\n    }\n    const indices = this._indices;\n\n    let globTriCount = 0;\n\n    for (let z = 0; z < (zSize - step); z += step) {\n      for (let y = 0; y < (ySize - step); y += step) {\n        let idx = vol.getDirectIdx(0, y, z);\n        for (let x = 0; x < (xSize - step); x += step, idx += stepX) {\n          /* eslint-disable no-multi-spaces */\n          /* eslint-disable computed-property-spacing */\n          gcVal[0] = volData[idx];\n          gcVal[1] = volData[idx + stepX];\n          gcVal[3] = volData[idx + stepY];\n          gcVal[2] = volData[idx + stepX + stepY];\n          gcVal[4] = volData[idx + stepZ];\n          gcVal[5] = volData[idx + stepX + stepZ];\n          gcVal[7] = volData[idx + stepY + stepZ];\n          gcVal[6] = volData[idx + stepX + stepY + stepZ];\n          /* eslint-enable no-multi-spaces */\n          /* eslint-enable computed-property-spacing */\n\n          // Determine the index into the edge table which\n          // tells us which vertices are inside of the surface\n          let cubeIndex = 0;\n          let i = 0;\n          for (; i < gcValSize; ++i) {\n            if (gcVal[i] < isoValue) {\n              cubeIndex |= (1 << i);\n            }\n          }\n\n          if (edgeTable[cubeIndex] === 0) {\n            continue;\n          }\n\n          gc.cubeIndex = cubeIndex;\n          for (i = 0; i < gcValSize; ++i) {\n            gc.p[i].set(x + additions[i].x, y + additions[i].y, z + additions[i].z);\n            _voxelGradientFast(this._gradient, gc.p[i], gc.g[i]);\n          }\n\n          // calculate vertices and facets for this cube,\n          // calculate normals by interpolating between the negated\n          // normalized volume gradients for the 8 reference voxels\n          const triCount = this._polygonize(gc, isoValue, triangles);\n          globTriCount += triCount;\n\n          // append triangles using different techniques\n          for (i = 0; i < triCount; ++i) {\n            indices.push(this._numTriangles * 3);\n            indices.push(this._numTriangles * 3 + 1);\n            indices.push(this._numTriangles * 3 + 2);\n            ++this._numTriangles;\n\n            appendVertex(triangles[i].a);\n            appendVertex(triangles[i].b);\n            appendVertex(triangles[i].c);\n          }\n        }\n      }\n    }\n\n    return globTriCount;\n  }\n\n  compute(volData, origin, isoValue, step) {\n    this._volumetricData = volData;\n    this._origin = origin;\n\n    this._gradient = volData.computeGradient();\n\n    this._doGridPosNorms(isoValue, step, this._prepareAxesAndDirs());\n  }\n\n  _remapIndices(vertexMap, idcCount) {\n    const indices = this._indices;\n    const newIndices = utils.allocateTyped(Uint32Array, idcCount);\n    for (let i = 0; i < idcCount; ++i) {\n      indices[i] = vertexMap[indices[i]];\n      newIndices[i] = indices[i];\n    }\n    this._indices = newIndices;\n  }\n\n  _remapVertices(vertices, normals, count) {\n    const newPositions = utils.allocateTyped(Float32Array, count * 3);\n    const newNormals = utils.allocateTyped(Float32Array, count * 3);\n    for (let i = 0; i < count; ++i) {\n      const pos = vertices[i];\n      newPositions[i * 3] = pos.x;\n      newPositions[i * 3 + 1] = pos.y;\n      newPositions[i * 3 + 2] = pos.z;\n      const norm = normals[i].normalize();\n      newNormals[i * 3] = norm.x;\n      newNormals[i * 3 + 1] = norm.y;\n      newNormals[i * 3 + 2] = norm.z;\n    }\n    this._position = newPositions;\n    this._normals = newNormals;\n  }\n\n  vertexFusion(offset, len) {\n    const faceVer = this._indices.length;\n    const vertices = this._position;\n    const normals = this._normals;\n    const oldVerCount = vertices.length | 0;\n    if (faceVer === 0 || oldVerCount === 0) {\n      return;\n    }\n    const vMap = utils.allocateTyped(Uint32Array, oldVerCount);\n    vMap[0] = 0;\n    let newVer = 1;\n\n    let i = 1;\n    for (; i < oldVerCount; ++i) {\n      const start = newVer - offset < 0 ? 0 : newVer - offset;\n      const end = start + len > newVer ? newVer : start + len;\n      let matchedIndex = -1;\n\n      for (let j = start; j < end; ++j) {\n        if (Math.abs(vertices[i] - vertices[j]) < Number.EPSILON) {\n          matchedIndex = j;\n          break;\n        }\n      }\n\n      if (matchedIndex !== -1) {\n        vMap[i] = matchedIndex;\n      } else {\n        vertices[newVer].copy(vertices[i]);\n        normals[newVer].copy(normals[i]);\n        vMap[i] = newVer;\n        ++newVer;\n      }\n    }\n\n    this._remapIndices(vMap, faceVer);\n    this._remapVertices(vertices, normals, newVer);\n  }\n\n  // Assign per-vertex colors from a volumetric texture map (same dimensions as the original volumetric data).\n  // Along with color dominating atom is determined for each vertex\n  // and vertices with atom out of \"visible\" subset get filtered out.\n  // XXX only handles orthogonal volumes currently\n  setColorVolTex(colorMap, atomMap, atomWeightMap, visibilitySelector) {\n    let i;\n    let idx;\n    const numVerts = this._position.length / 3;\n    const vertices = this._position;\n    const origin = this._origin;\n    const dim = this._volumetricData.getDimensions();\n    const xs = dim[0] - 1;\n    const ys = dim[1] - 1;\n    const zs = dim[2] - 1;\n\n    const colorData = colorMap.getData();\n    const strideX = colorMap.getStrideX();\n    const strideY = colorMap.getStrideY();\n    const strideZ = colorMap.getStrideZ();\n\n    let atomWeightData;\n    let atomStrideX;\n    let atomStrideY;\n    let atomStrideZ;\n\n    if (visibilitySelector !== null) {\n      atomWeightData = atomWeightMap.getData();\n      atomStrideX = atomWeightMap.getStrideX();\n      atomStrideY = atomWeightMap.getStrideY();\n      atomStrideZ = atomWeightMap.getStrideZ();\n    }\n\n    const xInv = 1.0 / this._xAxis.x;\n    const yInv = 1.0 / this._yAxis.y;\n    const zInv = 1.0 / this._zAxis.z;\n\n    let atomLookup = [];\n    let atomWeights = [];\n    const colors = utils.allocateTyped(Float32Array, numVerts * 3);\n\n    function interp(mu, idx1, idx2, c) {\n      c[0] = (1 - mu) * colorData[idx1] + mu * colorData[idx2];\n      c[1] = (1 - mu) * colorData[idx1 + 1] + mu * colorData[idx2 + 1];\n      c[2] = (1 - mu) * colorData[idx1 + 2] + mu * colorData[idx2 + 2];\n    }\n\n    function collectWeight(ai, coefX, coefY, coefZ) {\n      const a = atomMap[ai]; // atomWeightMap is a scalar field, so index into atom map should be the same\n      if (a != null) {\n        atomLookup[a.index] = a;\n        const w = coefX * coefY * coefZ * atomWeightData[ai];\n        if (typeof atomWeights[a.index] === 'undefined') {\n          atomWeights[a.index] = w;\n        } else {\n          atomWeights[a.index] += w;\n        }\n      }\n    }\n\n    const vMap = utils.allocateTyped(Int32Array, numVerts);\n    let newVerCount = 0;\n\n    for (i = 0; i < numVerts; i++) {\n      const ind = i * 3;\n      const vx = (vertices[ind] - origin.x) * xInv;\n      const vy = (vertices[ind + 1] - origin.y) * yInv;\n      const vz = (vertices[ind + 2] - origin.z) * zInv;\n      const x = Math.min(Math.max(vx, 0), xs) | 0;\n      const y = Math.min(Math.max(vy, 0), ys) | 0;\n      const z = Math.min(Math.max(vz, 0), zs) | 0;\n\n      const mux = (vx - x);\n      const muy = (vy - y);\n      const muz = (vz - z);\n\n      if (visibilitySelector != null) {\n        // collect atom weights\n        atomLookup = [];\n        atomWeights = [];\n        idx = atomWeightMap.getDirectIdx(x, y, z);\n        collectWeight(idx, 1 - mux, 1 - muy, 1 - muz);\n        collectWeight(idx + atomStrideX, mux, 1 - muy, 1 - muz);\n        collectWeight(idx + atomStrideY, 1 - mux, muy, 1 - muz);\n        collectWeight(idx + atomStrideX + atomStrideY, mux, muy, 1 - muz);\n        collectWeight(idx + atomStrideZ, 1 - mux, 1 - muy, muz);\n        collectWeight(idx + atomStrideX + atomStrideZ, mux, 1 - muy, muz);\n        collectWeight(idx + atomStrideY + atomStrideZ, 1 - mux, muy, muz);\n        collectWeight(idx + atomStrideX + atomStrideY + atomStrideZ, mux, muy, muz);\n\n        // find dominant atom\n        let maxWeight = 0.0;\n        let dominantIdx = -1;\n        for (const atomIdx in atomWeights) {\n          if (atomWeights[atomIdx] > maxWeight) {\n            dominantIdx = atomIdx;\n            maxWeight = atomWeights[atomIdx];\n          }\n        }\n\n        if (dominantIdx < 0 || !visibilitySelector.includesAtom(atomLookup[dominantIdx])) {\n          // this vertex doesn't belong to visible subset and will be skipped\n          vMap[i] = -1;\n          continue;\n        }\n      }\n\n      vMap[i] = newVerCount++;\n\n      // color tri-linear interpolation\n      const dx = (x < xs) ? strideX : 0;\n      const dy = (y < ys) ? strideY : 0;\n      const dz = (z < zs) ? strideZ : 0;\n\n      const c0 = [0, 0, 0];\n      const c1 = [0, 0, 0];\n      const c2 = [0, 0, 0];\n      const c3 = [0, 0, 0];\n\n      idx = colorMap.getDirectIdx(x, y, z);\n      interp(mux, idx, idx + dx, c0);\n      interp(mux, idx + dy, idx + dx + dy, c1);\n      interp(mux, idx + dz, idx + dx + dz, c2);\n      interp(mux, idx + dy + dz, idx + dx + dy + dz, c3);\n\n      const cz0 = [0, 0, 0];\n      cz0[0] = (1 - muy) * c0[0] + muy * c1[0];\n      cz0[1] = (1 - muy) * c0[1] + muy * c1[1];\n      cz0[2] = (1 - muy) * c0[2] + muy * c1[2];\n\n      const cz1 = [0, 0, 0];\n      cz1[0] = (1 - muy) * c2[0] + muy * c3[0];\n      cz1[1] = (1 - muy) * c2[1] + muy * c3[1];\n      cz1[2] = (1 - muy) * c2[2] + muy * c3[2];\n\n      colors[ind] = (1 - muz) * cz0[0] + muz * cz1[0];\n      colors[ind + 1] = (1 - muz) * cz0[1] + muz * cz1[1];\n      colors[ind + 2] = (1 - muz) * cz0[2] + muz * cz1[2];\n    }\n    this._colors = colors;\n\n    if (visibilitySelector != null) {\n      // shift visible vertices towards beginning of array\n      for (i = 0; i < numVerts; ++i) {\n        const j = vMap[i];\n        if (j < 0) {\n          continue;\n        }\n\n        // assert: j <= i\n        this._position[j * 3] = this._position[i * 3];\n        this._position[j * 3 + 1] = this._position[i * 3 + 1];\n        this._position[j * 3 + 2] = this._position[i * 3 + 2];\n        this._normals[j * 3] = this._normals[i * 3];\n        this._normals[j * 3 + 1] = this._normals[i * 3 + 1];\n        this._normals[j * 3 + 2] = this._normals[i * 3 + 2];\n        this._colors[j * 3] = this._colors[i * 3];\n        this._colors[j * 3 + 1] = this._colors[i * 3 + 1];\n        this._colors[j * 3 + 2] = this._colors[i * 3 + 2];\n      }\n\n      // rebuild index list\n      const numTriangles = this._indices.length / 3;\n      let newTriCount = 0;\n      for (i = 0; i < numTriangles; ++i) {\n        const i0 = vMap[this._indices[3 * i]];\n        const i1 = vMap[this._indices[3 * i + 1]];\n        const i2 = vMap[this._indices[3 * i + 2]];\n        if (i0 >= 0 && i1 >= 0 && i2 >= 0) {\n          this._indices[3 * newTriCount] = i0;\n          this._indices[3 * newTriCount + 1] = i1;\n          this._indices[3 * newTriCount + 2] = i2;\n          ++newTriCount;\n        }\n      }\n\n      // shrink arrays to data size\n      this._position = new Float32Array(this._position.buffer.slice(0, newVerCount * 3 * 4));\n      this._normals = new Float32Array(this._normals.buffer.slice(0, newVerCount * 3 * 4));\n      this._colors = new Float32Array(this._colors.buffer.slice(0, newVerCount * 3 * 4));\n      this._indices = new Uint32Array(this._indices.buffer.slice(0, newTriCount * 3 * 4));\n    }\n  }\n\n  toMesh() {\n    const geo = new THREE.BufferGeometry();\n    geo.setIndex(new THREE.BufferAttribute(this._indices, 1));\n    geo.setAttribute('position', new THREE.BufferAttribute(this._position, 3));\n    geo.setAttribute('normal', new THREE.BufferAttribute(this._normals, 3));\n    geo.setAttribute('color', new THREE.BufferAttribute(this._colors, 3));\n    geo.computeBoundingSphere();\n    return geo;\n  }\n}\nexport default IsoSurface;\n","import * as THREE from 'three';\nimport IsoSurfaceGeometry from './IsoSurfaceGeometry';\nimport IsoSurface from './IsoSurface';\nimport utils from '../../utils';\n\n/**\n * This is a base class for volumetric maps based isosurface algorithms.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass VolumeSurfaceGeometry extends IsoSurfaceGeometry {\n  _build() {\n    const params = this._opts;\n    this.numVoxels = [128, 128, 128];\n    this.xAxis = new THREE.Vector3(1.0, 0.0, 0.0);\n    this.yAxis = new THREE.Vector3(0.0, 1.0, 0.0);\n    this.zAxis = new THREE.Vector3(0.0, 0.0, 1.0);\n\n    this.origin = new THREE.Vector3(0.0, 0.0, 0.0);\n    this._visibilitySelector = params.visibilitySelector;\n\n    this._calcSurface(params);\n  }\n\n  _findMinMax(posRadArray) {\n    const itemSize = 4;\n    const itemsCount = posRadArray.length / itemSize;\n    const maxPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n    const minPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n    for (let i = 1; i < itemsCount; ++i) {\n      const ind = i * itemSize;\n\n      for (let itemIdx = 0; itemIdx < itemSize; ++itemIdx) {\n        const tmpVal = posRadArray[ind + itemIdx];\n        maxPosRad[itemIdx] = Math.max(tmpVal, maxPosRad[itemIdx]);\n        minPosRad[itemIdx] = Math.min(tmpVal, minPosRad[itemIdx]);\n      }\n    }\n    return { maxPosRad, minPosRad };\n  }\n\n  _findNumVoxels(posRadArray, params) {\n    const { numVoxels } = this;\n    const minMaxValues = this._findMinMax(posRadArray);\n    const minCoordRad = minMaxValues.minPosRad;\n    const maxCoordRad = minMaxValues.maxPosRad;\n\n    // minrad\n    if (minCoordRad[3] > 4.0) {\n      params.gridSpacing *= minCoordRad[3];\n    }\n\n    let gridPadding = params.radScale * maxCoordRad[3] * 1.7;\n    let padRad = gridPadding;\n    padRad = 0.65 * Math.sqrt(4.0 / 3.0 * Math.PI * padRad * padRad * padRad);\n    gridPadding = Math.max(gridPadding, padRad);\n\n    let i = 0;\n    for (; i < 3; ++i) {\n      minCoordRad[i] -= gridPadding;\n      maxCoordRad[i] += gridPadding;\n    }\n\n    for (i = 0; i < 3; ++i) {\n      numVoxels[i] = Math.ceil((maxCoordRad[i] - minCoordRad[i]) / params.gridSpacing);\n    }\n    this.xAxis.x = (numVoxels[0] - 1) * params.gridSpacing;\n    this.yAxis.y = (numVoxels[1] - 1) * params.gridSpacing;\n    this.zAxis.z = (numVoxels[2] - 1) * params.gridSpacing;\n\n    [this.origin.x, this.origin.y, this.origin.z] = minCoordRad;\n\n    return { bbox: minMaxValues, dim: numVoxels };\n  }\n\n  _makeSurface(surface, params) {\n    const isoSurf = new IsoSurface();\n    isoSurf.compute(surface.volMap, this.origin, params.isoValue, 1);\n    isoSurf.vertexFusion(9, 9);// normalization is included\n\n    if (isoSurf._numTriangles > 0) {\n      isoSurf.setColorVolTex(surface.volTexMap, surface.atomMap, surface.atomWeightMap, this._visibilitySelector);\n      this.setIndex(new THREE.BufferAttribute(isoSurf._indices, 1));\n      this.setAttribute('position', new THREE.BufferAttribute(isoSurf._position, 3));\n      this.setAttribute('normal', new THREE.BufferAttribute(isoSurf._normals, 3));\n      this.setAttribute('color', new THREE.BufferAttribute(isoSurf._colors, 3));\n    } else { // geometry should have at least empty position attributes to be processed in wireframe mode by three.js\n      this.setAttribute('position', new THREE.BufferAttribute(utils.allocateTyped(Float32Array, 0), 3));\n    }\n  }\n\n  _calcSurface(params) {\n    const packedArrays = {\n      posRad: this._posRad,\n      colors: this._colors,\n      atoms: this._opts.atoms,\n    };\n\n    if (packedArrays.posRad.length === 0) {\n      return;\n    }\n    const boundaries = this._findNumVoxels(packedArrays.posRad, params);\n\n    const box = new THREE.Box3(\n      this.origin,\n      new THREE.Vector3(this.xAxis.x, this.yAxis.y, this.zAxis.z).add(this.origin),\n    );\n    const surface = this._computeSurface(packedArrays, box, boundaries, params);\n\n    this._makeSurface(surface, params);\n  }\n}\n\nexport default VolumeSurfaceGeometry;\n","import VolumeSurfaceGeometry from './VolumeSurfaceGeometry';\nimport chem from '../../chem';\n\nconst { Volume } = chem;\n\n/**\n * This class implements 'quick' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass QuickSurfGeometry extends VolumeSurfaceGeometry {\n  _computeSurface(packedArrays, box, boundaries, params) {\n    // beware of shifting this multiple times!\n    this._shiftByOrigin(packedArrays.posRad);\n\n    const surface = {\n      volMap: new Volume(Float32Array, this.numVoxels, box),\n      volTexMap: new Volume(Float32Array, this.numVoxels, box, 3),\n    };\n\n    if (this._visibilitySelector != null) {\n      surface.atomMap = [];\n      surface.atomWeightMap = new Volume(Float32Array, this.numVoxels, box);\n    }\n\n    this.gaussdensity(surface, packedArrays, null, params);\n    return surface;\n  }\n\n  gaussdensity(surface, packedArrays, atomicNum, params) {\n    const numAtoms = packedArrays.posRad.length / 4;\n    const { posRad, colors } = packedArrays;\n    const { numVoxels } = this;\n    const { radScale, gaussLim, gridSpacing } = params;\n    const invIsoValue = 1.0 / params.isoValue;\n    const invGridSpacing = 1.0 / gridSpacing;\n    const maxVoxelX = numVoxels[0] - 1;\n    const maxVoxelY = numVoxels[1] - 1;\n    const maxVoxelZ = numVoxels[2] - 1;\n    // TODO is densityMap and volTexMap initialized?\n\n    const { volMap, volTexMap } = surface;\n    const volData = volMap.getData();\n    const strideX = volMap.getStrideX();\n\n    const volTexData = volTexMap.getData();\n    const texStrideX = volTexMap.getStrideX();\n\n    let atomWeightData;\n    if (this._visibilitySelector != null) {\n      atomWeightData = surface.atomWeightMap.getData();\n    }\n\n    const { atomMap } = surface;\n\n    for (let i = 0; i < numAtoms; ++i) {\n      const ind = i * 4;\n      const scaledRad = posRad[ind + 3] * radScale;\n      const atomicNumFactor = atomicNum === null ? 1.0 : atomicNum[i];\n      const radInv = 1 / (2 * scaledRad * scaledRad);\n      let radLim = gaussLim * scaledRad;\n      const radLim2 = radLim * radLim;\n      radLim *= invGridSpacing;\n\n      let tmp = posRad[ind] * invGridSpacing;\n      const xMin = Math.max((tmp - radLim) | 0, 0);\n      const xMax = Math.min((tmp + radLim) | 0, maxVoxelX);\n      tmp = posRad[ind + 1] * invGridSpacing;\n      const yMin = Math.max((tmp - radLim) | 0, 0);\n      const yMax = Math.min((tmp + radLim) | 0, maxVoxelY);\n      tmp = posRad[ind + 2] * invGridSpacing;\n      const zMin = Math.max((tmp - radLim) | 0, 0);\n      const zMax = Math.min((tmp + radLim) | 0, maxVoxelZ);\n\n      let dz = zMin * gridSpacing - posRad[ind + 2];\n      for (let z = zMin; z <= zMax; ++z, dz += gridSpacing) {\n        let dy = yMin * gridSpacing - posRad[ind + 1];\n        for (let y = yMin; y <= yMax; ++y, dy += gridSpacing) {\n          const dy2dz2 = dy * dy + dz * dz;\n\n          if (dy2dz2 >= radLim2) {\n            continue;\n          }\n\n          let addr = volMap.getDirectIdx(xMin, y, z);\n          let texAddr = volTexMap.getDirectIdx(xMin, y, z);\n          let dx = xMin * gridSpacing - posRad[ind];\n          for (let x = xMin; x <= xMax; ++x, dx += gridSpacing, addr += strideX, texAddr += texStrideX) {\n            const r2 = dx * dx + dy2dz2;\n            const expVal = -r2 * radInv;\n\n            let density = Math.exp(expVal) * atomicNumFactor;\n\n            // store most relevant atom (with highest density)\n            if (this._visibilitySelector != null\n              && density > atomWeightData[addr]) { // NOSONAR\n              atomWeightData[addr] = density;\n              // we use same index into atom map and atomWeightMap\n              atomMap[addr] = packedArrays.atoms[i];\n            }\n\n            volData[addr] += density;\n\n            // TODO check for volTexMap routine?\n            density *= invIsoValue;\n            const colInd = i * 3;\n            volTexData[texAddr] += density * colors[colInd];\n            volTexData[texAddr + 1] += density * colors[colInd + 1];\n            volTexData[texAddr + 2] += density * colors[colInd + 2];\n          }\n        }\n      }\n    }\n  }\n\n  _shiftByOrigin(posRadArray) {\n    const originX = this.origin.x;\n    const originY = this.origin.y;\n    const originZ = this.origin.z;\n\n    const itemSize = 4;\n    const itemsCount = posRadArray.length / itemSize;\n    for (let i = 0; i < itemsCount; ++i) {\n      const ind = i * itemSize;\n\n      posRadArray[ind] -= originX;\n      posRadArray[ind + 1] -= originY;\n      posRadArray[ind + 2] -= originZ;\n    }\n  }\n}\n\nexport default QuickSurfGeometry;\n","import * as THREE from 'three';\nimport utils from '../../utils';\n\n/**\n * Modifed from SpatialHash\n *\n * Main differences are:\n * - Optimized grid size to ensure we only ever need to look +/-1 cell\n * - Aware of atomic radii and will only output atoms within rAtom + rExtra\n *   (see withinRadii method)\n *\n * (Uses rounding rather than bitshifting as consequence of arbitrary grid size)\n * @class\n * @param {Float32Array} posRad - x, y, z coordinates and radiuses\n * @param {Float32Array} min - xyz min coordinates\n * @param {Float32Array} max - xyz max coordinates\n * @param {number} maxDistance - max distance\n */\nfunction AVHash(posRad, min, max, maxDistance) {\n  const itemSize = 4;\n  const nAtoms = posRad.length / itemSize;\n\n  const minX = min[0];\n  const minY = min[1];\n  const minZ = min[2];\n\n  const maxX = max[0];\n  const maxY = max[1];\n  const maxZ = max[2];\n\n  function hashFunc(w, minW) {\n    return Math.floor((w - minW) / maxDistance);\n  }\n\n  const iDim = hashFunc(maxX, minX) + 1;\n  const jDim = hashFunc(maxY, minY) + 1;\n  const kDim = hashFunc(maxZ, minZ) + 1;\n\n  const nCells = iDim * jDim * kDim;\n\n  const jkDim = jDim * kDim;\n\n  /* Get cellID for cartesian x,y,z */\n  const cellID = function (x, y, z) {\n    return (((hashFunc(x, minX) * jDim) + hashFunc(y, minY)) * kDim) + hashFunc(z, minZ);\n  };\n\n  /* Initial building, could probably be optimized further */\n  const preHash = [];\n  let i;\n  let cid;\n  for (i = 0; i < nAtoms; i++) {\n    const iIdx = itemSize * i;\n    cid = cellID(posRad[iIdx], posRad[iIdx + 1], posRad[iIdx + 2]);\n\n    if (preHash[cid] === undefined) {\n      preHash[cid] = [i];\n    } else {\n      preHash[cid].push(i);\n    }\n  }\n\n  const cellOffsets = utils.allocateTyped(Uint32Array, nCells);\n  const cellLengths = utils.allocateTyped(Uint16Array, nCells);\n  const data = utils.allocateTyped(Uint32Array, nAtoms);\n\n  let offset = 0;\n  let maxCellLength = 0;\n  let j;\n  for (i = 0; i < nCells; i++) {\n    const start = cellOffsets[i] = offset;\n\n    const subArray = preHash[i];\n\n    if (subArray !== undefined) {\n      for (j = 0; j < subArray.length; j++) {\n        data[offset] = subArray[j];\n        offset++;\n      }\n    }\n\n    const cellLength = offset - start;\n    cellLengths[i] = cellLength;\n\n    if (cellLength > maxCellLength) {\n      maxCellLength = cellLength;\n    }\n  }\n\n  // Maximum number of neighbours we could ever produce (27 adjacent cells of equal population)\n  this.neighbourListLength = (27 * maxCellLength) + 1;\n\n  /**\n   * Populate the supplied out array with atom indices that are within rAtom + rExtra\n   * of x,y,z\n   *\n   * -1 in out array indicates the end of the list\n   *\n   * @param  {number} x - x coordinate\n   * @param  {number} y - y coordinate\n   * @param  {number} z - z coordinate\n   * @param  {number} rExtra - additional radius\n   * @param  {Float32Array} out - pre-allocated output array\n   * @return {undefined}\n   */\n  this.withinRadii = function (x, y, z, rExtra, out) {\n    let outIdx = 0;\n\n    const nearI = hashFunc(x, minX);\n    const nearJ = hashFunc(y, minY);\n    const nearK = hashFunc(z, minZ);\n\n    const loI = Math.max(0, nearI - 1);\n    const loJ = Math.max(0, nearJ - 1);\n    const loK = Math.max(0, nearK - 1);\n\n    const hiI = Math.min(iDim - 1, nearI + 1);\n    const hiJ = Math.min(jDim - 1, nearJ + 1);\n    const hiK = Math.min(kDim - 1, nearK + 1);\n\n    for (i = loI; i <= hiI; ++i) {\n      const iOffset = i * jkDim;\n\n      for (j = loJ; j <= hiJ; ++j) {\n        const jOffset = j * kDim;\n\n        for (let k = loK; k <= hiK; ++k) {\n          cid = iOffset + jOffset + k;\n\n          const cellStart = cellOffsets[cid];\n          const cellEnd = cellStart + cellLengths[cid];\n\n          for (let dataIndex = cellStart; dataIndex < cellEnd; dataIndex++) {\n            const atomIndex = data[dataIndex];\n            const baseIndex = itemSize * atomIndex;\n            const dx = posRad[baseIndex] - x;\n            const dy = posRad[baseIndex + 1] - y;\n            const dz = posRad[baseIndex + 2] - z;\n            const rSum = posRad[baseIndex + 3] + rExtra;\n\n            if ((dx * dx + dy * dy + dz * dz) <= (rSum * rSum)) {\n              out[outIdx++] = data[dataIndex];\n            }\n          }\n        }\n      }\n    }\n    // Add terminator\n    out[outIdx] = -1;\n  };\n}\nfunction ContactSurface(packedArrays, boundaries, params, _indexList) {\n  // Field generation method adapted from AstexViewer (Mike Hartshorn)\n  // by Fred Ludlow.\n  // Other parts based heavily on NGL (Alexander Rose) EDT Surface class\n  //\n  // Should work as a drop-in alternative to EDTSurface (though some of\n  // the EDT paramters are not relevant in this method).\n\n  const itemSize = 4;\n  const { posRad, colors, atoms } = packedArrays;\n  const nAtoms = posRad.length / itemSize;\n\n  const { bbox } = boundaries;\n\n  const min = bbox.minPosRad;\n  const max = bbox.maxPosRad;\n\n  let r2; // Atom positions, expanded radii (squared)\n  let maxRadius;\n\n  // Parameters\n  let probeRadius;\n  let scaleFactor;\n  let probePositions;\n\n  // Cache last value for obscured test\n  let lastClip = -1;\n\n  // Grid params\n  let dim;\n  let grid;\n  let volTex;\n  let weights;\n  let weightsMap = null;\n  let atomMap = null;\n  let visibilitySelector = null;\n\n  // grid indices -> xyz coords\n  let gridx;\n  let gridy;\n  let gridz;\n\n  // Lookup tables:\n  let sinTable;\n  let cosTable;\n\n  // Spatial Hash\n  let hash;\n\n  // Neighbour array to be filled by hash\n  let neighbours;\n\n  // Vectors for Torus Projection\n  const mid = new THREE.Vector3(0.0, 0.0, 0.0);\n  const n1 = new THREE.Vector3(0.0, 0.0, 0.0);\n  const n2 = new THREE.Vector3(0.0, 0.0, 0.0);\n\n  let ngTorus;\n\n  function uniformArray(TypeName, n, a) {\n    const array = utils.allocateTyped(TypeName, n);\n    for (let innI = 0; innI < n; ++innI) {\n      array[innI] = a;\n    }\n\n    return array;\n  }\n\n  function fillGridDim(a, start, step) {\n    for (let innI = 0; innI < a.length; innI++) {\n      a[innI] = start + (step * innI);\n    }\n  }\n\n  function initializeGrid() {\n    ({ scaleFactor } = params);\n    ({ dim } = boundaries);\n\n    ngTorus = Math.min(5, 2 + Math.floor(probeRadius * scaleFactor));\n\n    const gridSize = dim[0] * dim[1] * dim[2];\n    grid = uniformArray(Float32Array, gridSize, -1001.0);\n    volTex = utils.allocateTyped(Float32Array, gridSize * 3);\n    weights = utils.allocateTyped(Float32Array, gridSize);\n    if (visibilitySelector) {\n      weightsMap = utils.allocateTyped(Float32Array, gridSize);\n      atomMap = [];\n    }\n\n    gridx = utils.allocateTyped(Float32Array, dim[0]);\n    gridy = utils.allocateTyped(Float32Array, dim[1]);\n    gridz = utils.allocateTyped(Float32Array, dim[2]);\n\n    fillGridDim(gridx, min[0], 1 / scaleFactor);\n    fillGridDim(gridy, min[1], 1 / scaleFactor);\n    fillGridDim(gridz, min[2], 1 / scaleFactor);\n  }\n\n  function initializeAngleTables() {\n    let theta = 0.0;\n    const step = 2 * Math.PI / probePositions;\n\n    cosTable = utils.allocateTyped(Float32Array, probePositions);\n    sinTable = utils.allocateTyped(Float32Array, probePositions);\n    for (let innI = 0; innI < probePositions; innI++) {\n      cosTable[innI] = Math.cos(theta);\n      sinTable[innI] = Math.sin(theta);\n      theta += step;\n    }\n  }\n\n  function initializeHash() {\n    hash = new AVHash(posRad, min, max, 2.01 * maxRadius);\n    neighbours = new Int32Array(hash.neighbourListLength);\n  }\n\n  function init() {\n    ({\n      probeRadius,\n      scaleFactor,\n      probePositions,\n      visibilitySelector,\n    } = params);\n    r2 = utils.allocateTyped(Float32Array, nAtoms);\n    maxRadius = 0;\n    for (let innI = 0; innI < nAtoms; ++innI) {\n      const rExt = posRad[innI * itemSize + 3] += probeRadius;\n      if (rExt > maxRadius) {\n        maxRadius = rExt;\n      }\n      r2[innI] = rExt * rExt;\n    }\n\n    initializeGrid();\n    initializeAngleTables();\n    initializeHash();\n\n    lastClip = -1;\n  }\n\n  function singleAtomObscures(ai, innX, innY, innZ) {\n    const innCI = itemSize * ai;\n    const ra2 = r2[ai];\n    const dx = posRad[innCI] - innX;\n    const dy = posRad[innCI + 1] - innY;\n    const dz = posRad[innCI + 2] - innZ;\n    const d2 = dx * dx + dy * dy + dz * dz;\n\n    return d2 < ra2;\n  }\n\n  function obscured(innX, innY, innZ, a, b) {\n    // Is the point at x,y,z obscured by any of the atoms\n    // specifeid by indices in neighbours. Ignore indices\n    // a and b (these are the relevant atoms in projectPoints/Torii)\n\n    // Cache the last clipped atom (as very often the same one in\n    // subsequent calls)\n    let ai;\n\n    if (lastClip !== -1) {\n      ai = lastClip;\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        return ai;\n      }\n      lastClip = -1;\n    }\n\n    let ni = 0;\n    ai = neighbours[ni];\n    while (ai >= 0) {\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        lastClip = ai;\n        return ai;\n      }\n      ai = neighbours[++ni];\n    }\n\n    lastClip = -1;\n\n    return -1;\n  }\n\n  function projectPoints() {\n    // For each atom:\n    //     Iterate over a subsection of the grid, for each point:\n    //         If current value < 0.0, unvisited, set positive\n    //\n    //         In any case: Project this point onto surface of the atomic sphere\n    //         If this projected point is not obscured by any other atom\n    //             Calcualte delta distance and set grid value to minimum of\n    //             itself and delta\n\n    // Should we alias frequently accessed closure constiables??\n    // Assume JS engine capable of optimizing this\n    // anyway...\n    const maxRad = 4.0;\n    const sigma = (maxRad) / 3;\n    const sigma2Inv = 1 / (2 * sigma * sigma);\n\n    for (let innI = 0; innI < nAtoms; innI++) {\n      const innCI = itemSize * innI;\n      const ax = posRad[innCI];\n      const ay = posRad[innCI + 1];\n      const az = posRad[innCI + 2];\n      const ar = posRad[innCI + 3];\n      const ar2 = r2[innI];\n\n      hash.withinRadii(ax, ay, az, ar, neighbours);\n\n      // Number of grid points, round this up...\n      const ng = Math.ceil(ar * scaleFactor);\n\n      // Center of the atom, mapped to grid points (take floor)\n      const iax = Math.floor(scaleFactor * (ax - min[0]));\n      const iay = Math.floor(scaleFactor * (ay - min[1]));\n      const iaz = Math.floor(scaleFactor * (az - min[2]));\n\n      // Extents of grid to consider for this atom\n      const minx = Math.max(0, iax - ng);\n      const miny = Math.max(0, iay - ng);\n      const minz = Math.max(0, iaz - ng);\n\n      // Add two to these points:\n      // - iax are floor'd values so this ensures coverage\n      // - these are loop limits (exclusive)\n      const maxx = Math.min(dim[0], iax + ng + 2);\n      const maxy = Math.min(dim[1], iay + ng + 2);\n      const maxz = Math.min(dim[2], iaz + ng + 2);\n\n      const colIdx = innI * 3;\n      const cr = colors[colIdx];\n      const cg = colors[colIdx + 1];\n      const cb = colors[colIdx + 2];\n\n      for (let iz = minz; iz < maxz; iz++) {\n        const dz = gridz[iz] - az;\n        const zOffset = dim[1] * dim[0] * iz;\n\n        for (let iy = miny; iy < maxy; iy++) {\n          const dy = gridy[iy] - ay;\n          const dzy2 = dz * dz + dy * dy;\n          const zyOffset = zOffset + dim[0] * iy;\n\n          for (let ix = minx; ix < maxx; ix++) {\n            const idx = ix + zyOffset;\n            const dx = gridx[ix] - ax;\n            const d2 = dzy2 + dx * dx;\n\n            if (d2 < ar2) {\n              const w = Math.exp(-d2 * sigma2Inv);\n              const cIdx = idx * 3;\n              volTex[cIdx] += cr * w;\n              volTex[cIdx + 1] += cg * w;\n              volTex[cIdx + 2] += cb * w;\n              weights[idx] += w;\n              if (visibilitySelector !== null && w > weightsMap[idx]) {\n                weightsMap[idx] = w;\n                atomMap[idx] = atoms[innI];\n              }\n\n              if (grid[idx] < 0.0) {\n                // Unvisited, make positive\n                grid[idx] = -grid[idx];\n              }\n              // Project on to the surface of the sphere\n              // sp is the projected point ( dx, dy, dz ) * ( ra / d )\n              const d = Math.sqrt(d2);\n              const ap = ar / d;\n              let spx = dx * ap;\n              let spy = dy * ap;\n              let spz = dz * ap;\n\n              spx += ax;\n              spy += ay;\n              spz += az;\n\n              if (obscured(spx, spy, spz, innI, -1) === -1) {\n                const dd = ar - d;\n                if (dd < grid[idx]) {\n                  grid[idx] = dd;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function normalToLine(out, p) {\n    out.x = out.y = out.z = 1.0;\n    if (p.x !== 0) {\n      out.x = (p.y + p.z) / -p.x;\n    } else if (p.y !== 0) {\n      out.y = (p.x + p.z) / -p.y;\n    } else if (p.z !== 0) {\n      out.z = (p.x + p.y) / -p.z;\n    }\n    return out;\n  }\n\n  function projectTorus(a, b) {\n    const aIdx = itemSize * a;\n    const bIdx = itemSize * b;\n    const xa = posRad[aIdx];\n    const ya = posRad[aIdx + 1];\n    const za = posRad[aIdx + 2];\n    const r1 = posRad[aIdx + 3];\n    let dx = mid.x = posRad[bIdx] - xa;\n    let dy = mid.y = posRad[bIdx + 1] - ya;\n    let dz = mid.z = posRad[bIdx + 2] - za;\n    const innR2 = posRad[bIdx + 3];\n    let d2 = dx * dx + dy * dy + dz * dz;\n\n    // This check now redundant as already done in AVHash.withinRadii\n    // if( d2 > (( r1 + r2 ) * ( r1 + r2 )) ){ return; }\n\n    const d = Math.sqrt(d2);\n\n    // Find angle between a->b vector and the circle\n    // of their intersection by cosine rule\n    const cosA = (r1 * r1 + d * d - innR2 * innR2) / (2.0 * r1 * d);\n\n    // distance along a->b at intersection\n    const dmp = r1 * cosA;\n\n    mid.normalize();\n\n    // Create normal to line\n    normalToLine(n1, mid);\n    n1.normalize();\n\n    // Cross together for second normal vector\n    n2.crossVectors(mid, n1);\n    n2.normalize();\n\n    // r is radius of circle of intersection\n    const rInt = Math.sqrt(r1 * r1 - dmp * dmp);\n\n    n1.multiplyScalar(rInt);\n    n2.multiplyScalar(rInt);\n    mid.multiplyScalar(dmp);\n\n    mid.x += xa;\n    mid.y += ya;\n    mid.z += za;\n\n    lastClip = -1;\n\n    const ng = ngTorus;\n\n    for (let innI = 0; innI < probePositions; innI++) {\n      const cost = cosTable[innI];\n      const sint = sinTable[innI];\n\n      const px = mid.x + cost * n1.x + sint * n2.x;\n      const py = mid.y + cost * n1.y + sint * n2.y;\n      const pz = mid.z + cost * n1.z + sint * n2.z;\n\n      if (obscured(px, py, pz, a, b) === -1) {\n        // As above, iterate over our grid...\n        // px, py, pz in grid coords\n        const iax = Math.floor(scaleFactor * (px - min[0]));\n        const iay = Math.floor(scaleFactor * (py - min[1]));\n        const iaz = Math.floor(scaleFactor * (pz - min[2]));\n\n        const minx = Math.max(0, iax - ng);\n        const miny = Math.max(0, iay - ng);\n        const minz = Math.max(0, iaz - ng);\n\n        const maxx = Math.min(dim[0], iax + ng + 2);\n        const maxy = Math.min(dim[1], iay + ng + 2);\n        const maxz = Math.min(dim[2], iaz + ng + 2);\n\n        for (let iz = minz; iz < maxz; iz++) {\n          dz = pz - gridz[iz];\n          const zOffset = dim[1] * dim[0] * iz;\n          for (let iy = miny; iy < maxy; iy++) {\n            dy = py - gridy[iy];\n            const dzy2 = dz * dz + dy * dy;\n            const zyOffset = zOffset + dim[0] * iy;\n            for (let ix = minx; ix < maxx; ix++) {\n              dx = px - gridx[ix];\n              d2 = dzy2 + dx * dx;\n              const idx = ix + zyOffset;\n              const current = grid[idx];\n\n              if (current > 0.0 && d2 < (current * current)) {\n                grid[idx] = Math.sqrt(d2);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function projectTorii() {\n    for (let innI = 0; innI < nAtoms; innI++) {\n      const innIdx = itemSize * innI;\n      hash.withinRadii(\n        posRad[innIdx], posRad[innIdx + 1], posRad[innIdx + 2],\n        posRad[innIdx + 3], neighbours,\n      );\n      let ia = 0;\n      let ni = neighbours[ia];\n      while (ni >= 0) {\n        if (innI < ni) {\n          projectTorus(innI, ni);\n        }\n        ni = neighbours[++ia];\n      }\n    }\n  }\n\n  function fixNegatives() {\n    for (let innI = 0, n = grid.length; innI < n; innI++) {\n      if (grid[innI] < 0) grid[innI] = 0;\n      let w = weights[innI];\n      if (w > 0) {\n        w = 1 / w;\n        const innInnI = innI * 3;\n        volTex[innInnI] *= w;\n        volTex[innInnI + 1] *= w;\n        volTex[innInnI + 2] *= w;\n      }\n    }\n  }\n\n  function getVolume() {\n    // Basic steps are:\n    // 1) Initialize\n    // 2) Project points\n    // 3) Project torii\n    console.time('ContactSurface.getVolume');\n\n    console.time('ContactSurface.init');\n    init();\n    console.timeEnd('ContactSurface.init');\n\n    console.time('ContactSurface.projectPoints');\n    projectPoints();\n    console.timeEnd('ContactSurface.projectPoints');\n\n    console.time('ContactSurface.projectTorii');\n    projectTorii();\n    console.timeEnd('ContactSurface.projectTorii');\n    fixNegatives();\n    console.timeEnd('ContactSurface.getVolume');\n  }\n\n  this.build = function () {\n    // type and cutoff left in for compatibility with EDTSurface.getSurface\n    // function signature\n    getVolume();\n    this.volTexMap = volTex;\n    this.weightsMap = weightsMap;\n    this.atomMap = atomMap;\n    this.volMap = grid;\n  };\n}\nexport default ContactSurface;\n","import VolumeSurfaceGeometry from './VolumeSurfaceGeometry';\nimport ContactSurface from './ContactSurface';\nimport chem from '../../chem';\n\nconst { Volume } = chem;\n\n/**\n * This class implements 'contact' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass ContactSurfaceGeometry extends VolumeSurfaceGeometry {\n  _computeSurface(packedArrays, box, boundaries, params) {\n    const contactSurface = new ContactSurface(packedArrays, boundaries, params);\n    contactSurface.build();\n\n    const surface = {\n      volMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.volMap),\n      volTexMap: new Volume(Float32Array, this.numVoxels, box, 3, contactSurface.volTexMap),\n      atomMap: contactSurface.atomMap,\n      atomWeightMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.weightsMap),\n    };\n    return surface;\n  }\n}\n\nexport default ContactSurfaceGeometry;\n","import * as THREE from 'three';\n\n/**\n * Class for colored atom. Need for atom structure clusterization\n *\n * @param {Vector3} vCenter   Center of atom\n * @param {number}  radiusAt  Radius of atom\n */\nclass IsoSurfaceAtomColored {\n  constructor(vCenter, radiusAt) {\n    this.coord = new THREE.Vector3();\n    this.coord.copy(vCenter);\n    this.radius = radiusAt;\n    this.colorX = 0.99999;\n    this.colorY = 0.0;\n    this.colorZ = 0.0;\n    this.atomType = 0;\n    this.srcAtom = null;\n  }\n}\nexport default IsoSurfaceAtomColored;\n","import * as THREE from 'three';\nimport utils from '../../utils';\n\n// suppress some JSHint warnings\n/* jshint bitwise: false */\n\n/**\n * Build normals for isosurface, using atoms information\n *\n * @param {number} numAtoms     - Number of atoms in molecule\n * @param {Element} atoms      - Array of atoms\n * @param {Vector3} vBoxMin     - Bounding box min\n * @param {Vector3} vBoxMax     - Bounding box max\n * @param {number} probeRadius     - Normals for output\n *\n */\nclass IsosurfaceBuildNormals {\n  constructor(numAtoms, atoms, vBoxMin, vBoxMax, probeRadius) {\n    this._numAtoms = numAtoms;\n    this._atoms = atoms;\n    this._vBoxMin = new THREE.Vector3();\n    this._vBoxMax = new THREE.Vector3();\n    this._vBoxMin.copy(vBoxMin);\n    this._vBoxMax.copy(vBoxMax);\n    this._probeRadius = probeRadius;\n\n    this._atomsList = null;\n    this._voxelList = null;\n  }\n\n  createVoxels() {\n    let numAtomsRefs;\n    let rad;\n    const ATOM_VOXEL_REF_SCALE = 4.5;\n\n    const numAtoms = this._numAtoms | 0;\n    const atoms = this._atoms;\n    const dx = this._vBoxMax.x - this._vBoxMin.x;\n    const dy = this._vBoxMax.y - this._vBoxMin.y;\n    const dz = this._vBoxMax.z - this._vBoxMin.z;\n    let w = (dx < dy) ? dx : dy;\n    w = (dz < w) ? dz : w;\n    let maxRad = 0.0;\n    let aveRad = 0.0;\n\n    let i;\n    for (i = 0; i < numAtoms; i++) {\n      rad = (atoms[i].radius + this._probeRadius) * 2.0;\n      maxRad = (rad > maxRad) ? rad : maxRad;\n      aveRad += rad;\n    }\n    let numCells = Math.floor(w / maxRad);\n    if (numCells < 2) {\n      numCells = 2;\n    }\n    aveRad /= numAtoms;\n\n    this._numCells = numCells;\n    this._aveRad = aveRad;\n    this._maxRad = maxRad;\n\n    const side = numCells;\n    const side2 = numCells * numCells;\n    const side3 = numCells * numCells * numCells;\n\n    const xScale = this._xScale = 1.0 / (this._vBoxMax.x - this._vBoxMin.x);\n    const yScale = this._yScale = 1.0 / (this._vBoxMax.y - this._vBoxMin.y);\n    const zScale = this._zScale = 1.0 / (this._vBoxMax.z - this._vBoxMin.z);\n\n    // estimate number of individual atom refs in each voxel list\n    let maxAtomsRefs = 0;\n\n    const xNumVoxMult = xScale * numCells;\n    const yNumVoxMult = yScale * numCells;\n    const zNumVoxMult = zScale * numCells;\n\n    for (i = 0; i < numAtoms; i++) {\n      const radAffect = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n      const diaAffect = radAffect * 2.0;\n      let numVoxX = Math.floor(xNumVoxMult * diaAffect + 0.8);\n      let numVoxY = Math.floor(yNumVoxMult * diaAffect + 0.8);\n      let numVoxZ = Math.floor(zNumVoxMult * diaAffect + 0.8);\n      // avoid case numVox? == 0\n      // also use loop i <=\n      numVoxX++;\n      numVoxY++;\n      numVoxZ++;\n      maxAtomsRefs += numVoxX * numVoxY * numVoxZ;\n    } // for (i)\n    // maxAtomsRefs = numAtoms * MAX_ATOMS_IN_SINGLE_VOXEL;\n\n    this._voxelList = utils.allocateTyped(Int32Array, side3);\n    const atomsList = [];\n    atomsList.length = maxAtomsRefs;\n    if ((this._voxelList === null) || (atomsList === null)) {\n      return 0 - 1;\n    }\n    // init voxel list\n    for (i = 0; i < side3; i++) {\n      this._voxelList[i] = -1;\n    }\n    numAtomsRefs = 0;\n\n    // create voxel lists\n    for (i = 0; i < numAtoms; i++) {\n      // use multiplier 4 to locate this atom in different voxels\n      rad = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n      let xIndMin = Math.floor((atoms[i].coord.x - this._vBoxMin.x - rad) * numCells * xScale);\n      let yIndMin = Math.floor((atoms[i].coord.y - this._vBoxMin.y - rad) * numCells * yScale);\n      let zIndMin = Math.floor((atoms[i].coord.z - this._vBoxMin.z - rad) * numCells * zScale);\n      let xIndMax = Math.floor((atoms[i].coord.x - this._vBoxMin.x + rad) * numCells * xScale);\n      let yIndMax = Math.floor((atoms[i].coord.y - this._vBoxMin.y + rad) * numCells * yScale);\n      let zIndMax = Math.floor((atoms[i].coord.z - this._vBoxMin.z + rad) * numCells * zScale);\n\n      xIndMin = (xIndMin >= 0) ? xIndMin : 0;\n      yIndMin = (yIndMin >= 0) ? yIndMin : 0;\n      zIndMin = (zIndMin >= 0) ? zIndMin : 0;\n\n      xIndMax = (xIndMax < numCells) ? xIndMax : (numCells - 1);\n      yIndMax = (yIndMax < numCells) ? yIndMax : (numCells - 1);\n      zIndMax = (zIndMax < numCells) ? zIndMax : (numCells - 1);\n\n      for (let z = zIndMin; z <= zIndMax; z++) {\n        for (let y = yIndMin; y <= yIndMax; y++) {\n          for (let x = xIndMin; x <= xIndMax; x++) {\n            // add atom with index \"i\" to this voxel list\n            const indVoxel = x + y * side + z * side2;\n            // assert indVoxel >= 0\n            // assert indVoxel < side3\n\n            // add first\n            if (this._voxelList[indVoxel] < 0) {\n              atomsList[numAtomsRefs * 2 + 0] = i;\n              atomsList[numAtomsRefs * 2 + 1] = 0 - 1;\n              this._voxelList[indVoxel] = numAtomsRefs;\n              numAtomsRefs++;\n              // assert numAtomsRefs < maxAtomsRefs - 1\n              continue;\n            }\n            // insert into head of list\n            const indexNext = this._voxelList[indVoxel];\n            this._voxelList[indVoxel] = numAtomsRefs;\n            atomsList[numAtomsRefs * 2 + 0] = i;\n            atomsList[numAtomsRefs * 2 + 1] = indexNext;\n            numAtomsRefs++;\n          } // for (x)\n        } // for (y)\n      } // for (z)\n    } // for (i)\n\n    // convert Array to Int32Array\n    this._atomsList = Int32Array.from(atomsList);\n\n    return 0;\n  }\n\n  destroyVoxels() {\n    this._atomsList = null;\n    this._voxelList = null;\n\n    this._atoms = null;\n    this._vertices = null;\n    this._vBoxMin = null;\n    this._vBoxMax = null;\n  }\n\n  /**\n   * Enumerate all atoms affecting specified point\n   *\n   * @param {Vector3}    point    - point in 3D\n   * @param {func(atom)} process  - function to call for each atom\n   */\n  forEachRelatedAtom(point, process) {\n    // find corresponding voxel\n    const xInd = Math.floor((point.x - this._vBoxMin.x) * this._numCells * this._xScale);\n    const yInd = Math.floor((point.y - this._vBoxMin.y) * this._numCells * this._yScale);\n    const zInd = Math.floor((point.z - this._vBoxMin.z) * this._numCells * this._zScale);\n    const indVoxel = xInd + yInd * this._numCells + zInd * this._numCells * this._numCells;\n\n    // run through atoms affecting this voxel\n    const atoms = this._atoms;\n    for (let ref = this._voxelList[indVoxel]; ref >= 0; ref = this._atomsList[ref * 2 + 1]) {\n      const indexAtom = this._atomsList[ref * 2];\n      process(atoms[indexAtom]);\n    }\n  }\n\n  /**\n   * Get atom closest to specified point\n   *\n   * @param {Vector3} point  - point in 3D\n   *\n   * @returns {IsoSurfaceAtomColored} atom, or null if not found\n   */\n  getClosestAtom(point) {\n    let closest = null;\n    let minDist2 = Number.MAX_VALUE;\n\n    this.forEachRelatedAtom(point, (atom) => {\n      const dist2 = point.distanceToSquared(atom.coord);\n      if (dist2 < minDist2) {\n        minDist2 = dist2;\n        closest = atom;\n      }\n    });\n\n    return closest;\n  }\n\n  /**\n   * Build normals for isosurface, using atoms information\n   *\n   * @param {number} numVertices  - Number of vertices in final geometry (to render)\n   * @param {Vector3} vertices    - Geometry vertices (3d coordinates array)\n   * @param {Vector3} normals     - Normals for output\n   *\n   * @returns {number} 0, if success\n   */\n  buildNormals(numVertices, vertices, normals) {\n    const self = this;\n    let numCloseAtoms = 0;\n    let vx = 0;\n    let vy = 0;\n    let vz = 0;\n    let dist2;\n    let vNormalX = 0;\n    let vNormalY = 0;\n    let vNormalZ = 0;\n    let koef = 0;\n    let w = 0;\n    const r25 = 2.5;\n    const r01 = 0.1;\n\n    const maxRadAffect = this._aveRad * r25;\n    const maxRadAffect2 = maxRadAffect * maxRadAffect;\n    const expScale = -this._aveRad * r01;\n\n    // some stats\n    // numSlowAtoms = 0;\n\n    const gatherNormals = function (atom) {\n      const dx = vx - atom.coord.x;\n      const dy = vy - atom.coord.y;\n      const dz = vz - atom.coord.z;\n      dist2 = dx * dx + dy * dy + dz * dz;\n      if (dist2 > maxRadAffect2) {\n        return;\n      }\n\n      // get weight for gaussian smoothing\n      const rad = atom.radius + self._probeRadius;\n      koef = dist2 - (rad * rad);\n      if (koef < 0.0) {\n        koef = -koef;\n      }\n      w = Math.exp(expScale * koef);\n\n      vNormalX += dx * w;\n      vNormalY += dy * w;\n      vNormalZ += dz * w;\n      numCloseAtoms++;\n    };\n\n    let maxClosedAtoms = 0;\n    // process all vertices, one by one\n    for (let i = 0; i < numVertices; i++) {\n      vx = vertices[i].x;\n      vy = vertices[i].y;\n      vz = vertices[i].z;\n\n      numCloseAtoms = 0;\n      vNormalX = vNormalY = vNormalZ = 0.0;\n\n      this.forEachRelatedAtom(vertices[i], gatherNormals);\n\n      maxClosedAtoms = (numCloseAtoms > maxClosedAtoms) ? numCloseAtoms : maxClosedAtoms;\n\n      // normalize vNormal\n      dist2 = vNormalX * vNormalX + vNormalY * vNormalY + vNormalZ * vNormalZ;\n      if (numCloseAtoms > 0) {\n        koef = 1.0 / Math.sqrt(dist2);\n        vNormalX *= koef;\n        vNormalY *= koef;\n        vNormalZ *= koef;\n      }\n      normals[i].x = vNormalX;\n      normals[i].y = vNormalY;\n      normals[i].z = vNormalZ;\n    } // for (i) all vertices\n\n    return 0;\n  }\n\n  /**\n   * Build vertex colors for isosurface, using atoms information\n   *\n   * @param {number} numVertices  - Number of vertices in final geometry (to render)\n   * @param {Vector3} vertices    - Geometry vertices (3d coordinates array)\n   * @param {Vector3} colors                - Colors for output\n   * @param {number} radiusColorSmoothness  - Radius of smoothness sphere\n   *\n   * @returns {number} 0, if success\n   */\n  buildColors(numVertices, vertices, colors, radiusColorSmoothness) {\n    const self = this;\n    let vx = 0.0;\n    let vy = 0.0;\n    let vz = 0.0;\n    let koef = 0.0;\n    let w = 0.0;\n    const KOEF_ADD = 0.8;\n\n    const maxRadAffect = radiusColorSmoothness;\n    const maxRadAffect2 = maxRadAffect * maxRadAffect;\n\n    let colorsClose = [];\n    let weights = [];\n    let weightsSum = 0;\n\n    const gatherColors = function (atom) {\n      const dx = vx - atom.coord.x;\n      const dy = vy - atom.coord.y;\n      const dz = vz - atom.coord.z;\n      const dist2 = dx * dx + dy * dy + dz * dz;\n      if (dist2 > maxRadAffect2) {\n        return;\n      }\n\n      // get weight for gaussian smoothing\n      const rad = atom.radius + self._probeRadius;\n      koef = dist2 - (rad * rad);\n      if (koef < 0.0) {\n        koef = -koef;\n      }\n      w = 1.0 / (KOEF_ADD + koef);\n\n      colorsClose.push([atom.colorX, atom.colorY, atom.colorZ]);\n      weights.push(w); // save weights for use\n      weightsSum += w; // calc sum of weights fo further normalization\n    };\n\n    // process all vertices, one by one\n    for (let i = 0; i < numVertices; i++) {\n      vx = vertices[i].x;\n      vy = vertices[i].y;\n      vz = vertices[i].z;\n\n      colorsClose = [];\n      weights = [];\n      weightsSum = 0;\n\n      this.forEachRelatedAtom(vertices[i], gatherColors);\n\n      // normalized weighted sum of colors\n      for (let j = 0; j < colorsClose.length; ++j) {\n        const weightNormalized = weights[j] / weightsSum;\n        colors[i].x += colorsClose[j][0] * weightNormalized;\n        colors[i].y += colorsClose[j][1] * weightNormalized;\n        colors[i].z += colorsClose[j][2] * weightNormalized;\n      }\n    } // for (i) all vertices\n    return 0;\n  }\n}\nexport default IsosurfaceBuildNormals;\n","import * as THREE from 'three';\n\n/**\n * Class for geometry (triangle mesh) representation\n *\n *\n * @param {number} maxNumVertices Maximum possible number of vertices in mesh\n * @param {number} maxNumTriangles Maximum possible number of triangles in mesh\n * @param {boolean} needVertexColors Obvious\n */\nclass IsoSurfaceGeo {\n  constructor(maxNumVertices, maxNumTriangles, needVertexColors) {\n    this._maxNumVertices = maxNumVertices;\n    this._maxNumTriangles = maxNumTriangles;\n    this._vertices = new Array(maxNumVertices);\n    this._normals = new Array(maxNumVertices);\n    this._colors = null;\n    if (needVertexColors) {\n      this._colors = new Array(maxNumVertices);\n    }\n    this._indices = new Array(maxNumTriangles * (1 + 2));\n    this._numVertices = 0;\n    this._numTriangles = 0;\n\n    let i;\n    for (i = 0; i < maxNumVertices; i++) {\n      this._vertices[i] = new THREE.Vector3();\n      this._normals[i] = new THREE.Vector3();\n    }\n    for (i = 0; i < maxNumTriangles * (1 + 2); i++) {\n      this._indices[i] = -1;\n    }\n    if (needVertexColors) {\n      for (i = 0; i < maxNumVertices; i++) {\n        this._colors[i] = new THREE.Vector3();\n      }\n    }\n  }\n\n  destroy() {\n    this._vertices = null;\n    this._normals = null;\n    this._indices = null;\n  }\n}\nexport default IsoSurfaceGeo;\n","import * as THREE from 'three';\nimport IsoSurfaceGeometry from './IsoSurfaceGeometry';\nimport IsoSurfaceAtomColored from './IsoSurfaceAtomColored';\nimport IsosurfaceBuildNormals from './IsosurfaceBuildNormals';\nimport IsoSurfaceMarchCube from './IsoSurfaceMarchCube';\nimport IsoSurfaceGeo from './IsoSurfaceGeo';\nimport chem from '../../chem';\nimport utils from '../../utils';\n\nconst COLOR_SIZE = 3;\nconst HASH_SIZE = 32768;\nconst { Element } = chem;\n\n/**\n * This class implements 'quick' isosurface geometry generation algorithm.\n * @param spheresCount - number of atoms/spheres\n * @param opts - geometry specific options\n * @constructor\n */\n\nclass SSIsosurfaceGeometry extends IsoSurfaceGeometry {\n  _build() {\n    // convert geoOut into arrays of positions, indices, normals\n    this._innerBuild();\n    const geoOut = this.getGeo();\n    this.destroy();\n    this._fromGeo(geoOut);\n  }\n\n  _fromGeo(geoOut) {\n    let colors = null;\n    const positions = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n    const normals = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n    if (geoOut._colors !== null) {\n      colors = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n    }\n    const indices = utils.allocateTyped(Uint32Array, (1 + 2) * geoOut._numTriangles);\n\n    for (let i = 0, j = 0; i < geoOut._numVertices; i++) {\n      positions[j + 0] = (geoOut._vertices[i].x);\n      positions[j + 1] = (geoOut._vertices[i].y);\n      positions[j + 2] = (geoOut._vertices[i].z);\n      normals[j + 0] = geoOut._normals[i].x;\n      normals[j + 1] = geoOut._normals[i].y;\n      normals[j + 2] = geoOut._normals[i].z;\n      j += 3;\n    }\n    if (colors !== null) {\n      for (let i = 0, j = 0; i < geoOut._numVertices; i++, j += 3) {\n        colors[j + 0] = geoOut._colors[i].x;\n        colors[j + 1] = geoOut._colors[i].y;\n        colors[j + 2] = geoOut._colors[i].z;\n      }\n    }\n\n    const numTri3 = geoOut._numTriangles * (1 + 2);\n    for (let i = 0; i < numTri3; i++) {\n      indices[i] = geoOut._indices[i];\n    }\n\n    this.setIndex(new THREE.BufferAttribute(indices, 1));\n    this.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    this.setAttribute('normal', new THREE.BufferAttribute(normals, 3));\n    this.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n    this.computeBoundingBox();\n    this.computeBoundingSphere();\n\n    geoOut.destroy();\n  }\n\n  convertToAtomsColored(packedArrays, atomsColored) {\n    const { atoms, colors } = packedArrays;\n    for (let i = 0, numAtoms = atoms.length; i < numAtoms; i++) {\n      const vCenter = atoms[i].position;\n      const { radius } = atoms[i].element;\n      atomsColored[i] = new IsoSurfaceAtomColored(vCenter, radius);\n      const nm = atoms[i].element.number;\n      atomsColored[i].atomType = this.getType(nm);\n      let cIdx = COLOR_SIZE * i;\n      atomsColored[i].colorX = colors[cIdx++];\n      atomsColored[i].colorY = colors[cIdx++];\n      atomsColored[i].colorZ = colors[cIdx];\n      atomsColored[i].srcAtom = atoms[i];\n    }\n  }\n\n  getGeo() {\n    return this.geoOut;\n  }\n\n  destroy() {\n    this.atoms = null;\n\n    this.hashLines = null;\n    this.hashEntries = null;\n  }\n\n  /**\n   * Calculates bounding box for array with spheres (atoms)\n   *\n   * @param {Object}  atoms      Atoms array\n   * @param {Vector3} vBoxMin    Bounding box min point\n   * @param {Vector3} vBoxMax    Bounding box max point\n   */\n  getBoundingBox(atoms, vBoxMin, vBoxMax) {\n    const bigNum = 10000000.0;\n\n    vBoxMin.x = vBoxMin.y = vBoxMin.z = bigNum;\n    vBoxMax.x = vBoxMax.y = vBoxMax.z = 0 - bigNum;\n\n    const probeRadius2 = this.probeRadius * this.atomRadiusScale;\n    let radMax = 0.0;\n    for (let i = 0, num = atoms.length; i < num; i++) {\n      const vCenter = atoms[i].coord;\n      const rad = atoms[i].radius + probeRadius2;\n      radMax = (rad > radMax) ? rad : radMax;\n      if (vCenter.x - rad < vBoxMin.x) {\n        vBoxMin.x = vCenter.x - rad;\n      }\n      if (vCenter.y - rad < vBoxMin.y) {\n        vBoxMin.y = vCenter.y - rad;\n      }\n      if (vCenter.z - rad < vBoxMin.z) {\n        vBoxMin.z = vCenter.z - rad;\n      }\n      if (vCenter.x + rad > vBoxMax.x) {\n        vBoxMax.x = vCenter.x + rad;\n      }\n      if (vCenter.y + rad > vBoxMax.y) {\n        vBoxMax.y = vCenter.y + rad;\n      }\n      if (vCenter.z + rad > vBoxMax.z) {\n        vBoxMax.z = vCenter.z + rad;\n      }\n    }\n    vBoxMin.x -= radMax;\n    vBoxMin.y -= radMax;\n    vBoxMin.z -= radMax;\n    vBoxMax.x += radMax;\n    vBoxMax.y += radMax;\n    vBoxMax.z += radMax;\n  }\n\n  /**\n   * Calculate (x,y,z) cordinate of the cell corner point\n   *\n   * @param {Vector3} vBoxMin Bounding box min point\n   * @param {Vector3} vBoxMax Bounding box max point\n   * @param {number} x Cell integer x coordinate\n   * @param {number} y Cell integer y coordinate\n   * @param {number} z Cell integer z coordinate\n   * @param {number} numPoints NUm points in cell on side\n   * @param {Vector3} vOut Output vector\n   */\n  getCornerCoord(vBoxMin, vBoxMax, x, y, z, numPoints, vOut) {\n    const invNP = 1.0 / (numPoints - 1.0);\n    const tx = x * invNP;\n    const ty = y * invNP;\n    const tz = z * invNP;\n\n    vOut.x = vBoxMin.x * (1.0 - tx) + vBoxMax.x * tx;\n    vOut.y = vBoxMin.y * (1.0 - ty) + vBoxMax.y * ty;\n    vOut.z = vBoxMin.z * (1.0 - tz) + vBoxMax.z * tz;\n  }\n\n  /**\n   * Calculate point of intersection of sphere surface\n   * and cell edge, given by [indexA, indexB] line\n   *\n   * @param {number} indexA Cell vertex index in [0..11]\n   * @param {number} indexB Cell vertex index in [0..11]\n   * @param {array}  sign   Sign array for all 8 vertices\n   * @param {object} cube   Cube\n   * @param {number} indexPointValue for value placement\n   * @param {Vector3} vOut  Point of intersection\n   */\n  buildEdgePoint(indexA, indexB, sign, cube, indexPointValue, vOut) {\n    if (sign[indexA] ^ sign[indexB]) {\n      const cTwentyFour = 24;\n      const t = (0 - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA])\n        / (cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexB]\n          - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA]);\n      const xa = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 0];\n      const ya = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 1];\n      const za = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 2];\n      const xb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 0];\n      const yb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 1];\n      const zb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 2];\n\n      vOut.x = xa * (1.0 - t) + xb * t;\n      vOut.y = ya * (1.0 - t) + yb * t;\n      vOut.z = za * (1.0 - t) + zb * t;\n    }\n  }\n\n  /**\n   * Check if triangle is visible (vertices are close to atoms included in visibility set)\n   *\n   * @param {Vector3} v0 Vertex #0\n   * @param {Vector3} v1 Vertex #1\n   * @param {Vector3} v2 Vertex #2\n   * @returns {boolean} true if triangle is visible\n   */\n  isTriangleVisible(v0, v1, v2) {\n    const a0 = this.voxelWorld.getClosestAtom(v0);\n    const a1 = this.voxelWorld.getClosestAtom(v1);\n    const a2 = this.voxelWorld.getClosestAtom(v2);\n    if (a0 === null || a1 === null || a2 === null\n      || a0.srcAtom === null || a1.srcAtom === null || a2.srcAtom === null) {\n      return false;\n    }\n\n    return this.visibilitySelector.includesAtom(a0.srcAtom)\n      && this.visibilitySelector.includesAtom(a1.srcAtom)\n      && this.visibilitySelector.includesAtom(a2.srcAtom);\n  }\n\n  /**\n   * Add triangle to result geometry\n   *\n   * @param {Vector3} v0 Vertex #0\n   * @param {Vector3} v1 Vertex #1\n   * @param {Vector3} v2 Vertex #2\n   * @returns {boolean} false if no more triangles can be added\n   */\n  addTriangle(v0, v1, v2) {\n    if (this.visibilitySelector && !this.isTriangleVisible(v0, v1, v2)) {\n      return true;\n    }\n\n    const geo = this.geoOut;\n\n    if (geo._numTriangles >= this.maxNumTriangles) {\n      return false;\n    }\n\n    // Add vertex with optimize\n    const indInGeo0 = this.addVertexToGeo(geo, v0);\n    const indInGeo1 = this.addVertexToGeo(geo, v1);\n    const indInGeo2 = this.addVertexToGeo(geo, v2);\n    if ((indInGeo0 | indInGeo1 | indInGeo2) < 0) {\n      return false;\n    }\n\n    const itr = 3 * geo._numTriangles;\n    geo._indices[itr + 0] = indInGeo0;\n    geo._indices[itr + 1] = indInGeo1;\n    geo._indices[itr + 2] = indInGeo2;\n    geo._numTriangles++;\n    return true;\n  }\n\n  /**\n   * Build result geometry (triangle mesh) from marching cube cells\n   *\n   * @param {number} meshRes Marchnig cube vertex count on each side\n   * @param {Vector3} vBoxMin Bounding box point min\n   * @param {Vector3} vBoxMax Bounding box point max\n   * @param {number} corners float values array for each cube point\n   * @param {Vector3} vCellStep vector to next cube cell diagonal point\n   * @param {object} cube IsoSurfaceMarchCube object\n   * @returns {number} 0, if success (<0) is error\n   */\n  buildGeoFromCorners(meshRes, vBoxMin, vBoxMax, corners, vCellStep, cube) {\n    const arrSize = 12;\n    const cNumVerts = 8;\n    const numCells = meshRes - 1;\n    const side = meshRes;\n    const side2 = meshRes * meshRes;\n\n    const vaEdges = new Array(arrSize);\n    for (let i = 0; i < arrSize; i++) {\n      vaEdges[i] = new THREE.Vector3();\n    }\n    const sign = [];\n    for (let i = 0; i < cNumVerts; i++) {\n      sign[i] = 1.0;\n    }\n    const vCorner = new THREE.Vector3();\n    let indCell = 0;\n    let indY = 0;\n    for (let y = 0; y < numCells; y++, indY += side2) {\n      let indZ = 0;\n      for (let z = 0; z < numCells; z++, indZ += side) {\n        for (let x = 0; x < numCells; x++) {\n          if (!cube.hasIntersection[indCell]) {\n            // next cell\n            indCell++;\n            continue;\n          }\n          const bitsInside = cube.bitsInside[indCell];\n\n          this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, meshRes, vCorner);\n\n          const indPointValues = indCell * (2 << (2 + 2));\n          for (let i = 0, j = 0; i < cNumVerts; i++) {\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.x;\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.y;\n            cube.pointsValuesLinear[indPointValues + j++] = vCorner.z;\n          }\n\n          cube.pointsValuesLinear[indPointValues + 3] += vCellStep.x;\n          cube.pointsValuesLinear[indPointValues + 2 * 3] += vCellStep.x;\n          cube.pointsValuesLinear[indPointValues + 5 * 3] += vCellStep.x;\n          cube.pointsValuesLinear[indPointValues + 6 * 3] += vCellStep.x;\n\n          cube.pointsValuesLinear[indPointValues + 2 * 3 + 2] += vCellStep.z;\n          cube.pointsValuesLinear[indPointValues + 3 * 3 + 2] += vCellStep.z;\n          cube.pointsValuesLinear[indPointValues + 6 * 3 + 2] += vCellStep.z;\n          cube.pointsValuesLinear[indPointValues + 7 * 3 + 2] += vCellStep.z;\n\n          cube.pointsValuesLinear[indPointValues + 4 * 3 + 1] += vCellStep.y;\n          cube.pointsValuesLinear[indPointValues + 5 * 3 + 1] += vCellStep.y;\n          cube.pointsValuesLinear[indPointValues + 6 * 3 + 1] += vCellStep.y;\n          cube.pointsValuesLinear[indPointValues + 7 * 3 + 1] += vCellStep.y;\n\n          // now current cell has intersections (from -x to +x) on some cube edges\n          const indValues = indPointValues + 24;\n          for (let i = 0; i < cNumVerts; ++i) {\n            sign[i] = (cube.pointsValuesLinear[indValues + i] < 0.0) ? 1 : 0;\n          }\n\n          this.buildEdgePoint(0, 1, sign, cube, indPointValues, vaEdges[0]);\n          this.buildEdgePoint(1, 2, sign, cube, indPointValues, vaEdges[1]);\n          this.buildEdgePoint(2, 3, sign, cube, indPointValues, vaEdges[2]);\n          this.buildEdgePoint(3, 0, sign, cube, indPointValues, vaEdges[3]);\n\n          this.buildEdgePoint(4, 5, sign, cube, indPointValues, vaEdges[4]);\n          this.buildEdgePoint(5, 6, sign, cube, indPointValues, vaEdges[5]);\n          this.buildEdgePoint(6, 7, sign, cube, indPointValues, vaEdges[6]);\n          this.buildEdgePoint(7, 4, sign, cube, indPointValues, vaEdges[7]);\n\n          this.buildEdgePoint(0, 4, sign, cube, indPointValues, vaEdges[8]);\n          this.buildEdgePoint(1, 5, sign, cube, indPointValues, vaEdges[9]);\n          this.buildEdgePoint(2, 6, sign, cube, indPointValues, vaEdges[10]);\n          this.buildEdgePoint(3, 7, sign, cube, indPointValues, vaEdges[11]);\n\n          const offs = bitsInside * (2 << (1 + 2));\n          for (let numTri = 0, indTri = 0; numTri < (2 + 2 + 2); numTri++, indTri += 3) {\n            // s_triIndicesMarchCube is external array, defined in mold_ind.js\n            const i0 = cube.striIndicesMarchCube[offs + indTri];\n            if (i0 < 0) {\n              break;\n            }\n            const i1 = cube.striIndicesMarchCube[offs + indTri + 1];\n            const i2 = cube.striIndicesMarchCube[offs + indTri + 2];\n\n            if (!this.addTriangle(vaEdges[i0], vaEdges[i1], vaEdges[i2])) {\n              return 0 - 2;\n            }\n          } // for numTri\n\n          // next cell (cube)\n          indCell++;\n        } // for (x)\n      } // for (z)\n    } // for (y)\n    return 0;\n  }\n\n  /**\n   * Returns number of cell with intersection with at least one sphere.\n   * Using this number, we can estimate required number of vertices\n   * and triangles to build result mesh.\n   *\n   * @param {number} side Number of points in cube voxels\n   * @param {number} numCells Number of cells in cube voxels (per direction)\n   * @param {array} corners Array of float values for cube corner points\n   * @param {object} cube IsoSurfaceMarchCube object\n   * @returns {number} numIntersectedCells\n   */\n  getNumIntersectedCells(side, numCells, corners, cube) {\n    const side2 = side * side;\n    const cNumVerts = 8;\n    let numIntersectedCells = 0;\n\n    let indCell = 0;\n    let indY = 0;\n    for (let y = 0; y < numCells; y++, indY += side2) {\n      let indZ = 0;\n      for (let z = 0; z < numCells; z++, indZ += side) {\n        for (let x = 0; x < numCells; x++) {\n          const cubeValuesIndex = indCell * (2 << (2 + 2)) + 24;\n          const indCorner = x + indZ + indY;\n\n          cube.pointsValuesLinear[cubeValuesIndex] = corners[indCorner];\n          cube.pointsValuesLinear[cubeValuesIndex + 1] = corners[indCorner + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 2] = corners[indCorner + side + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 3] = corners[indCorner + side];\n          cube.pointsValuesLinear[cubeValuesIndex + 4] = corners[side2 + indCorner];\n          cube.pointsValuesLinear[cubeValuesIndex + 5] = corners[side2 + indCorner + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 6] = corners[side2 + indCorner + side + 1];\n          cube.pointsValuesLinear[cubeValuesIndex + 7] = corners[side2 + indCorner + side];\n\n          // check read exception\n          // assert(side2 + indCorner + side + 1 < side3);\n\n          // get bit flags inside\n          let bitsInside = 0;\n          for (let i = 0; i < cNumVerts; ++i) {\n            if (cube.pointsValuesLinear[cubeValuesIndex + i] < 0.0) {\n              bitsInside |= (1 << i);\n            }\n          }\n\n          if ((bitsInside === 0) || (bitsInside === ((1 << cNumVerts) - 1))) {\n            cube.hasIntersection[indCell] = false;\n          } else {\n            cube.hasIntersection[indCell] = true;\n            numIntersectedCells++;\n          }\n          cube.bitsInside[indCell] = bitsInside;\n          // next cell\n          indCell++;\n        } // for (x)\n      } // for (z)\n    } // for (y)\n    return numIntersectedCells;\n  }\n\n  getType(letter) {\n    /* eslint-disable no-magic-numbers */\n    const atomT = [0, 0, 1, 1, 2, 6, 3, 6, 4, 6, 5, 6, 6, 0, 7, 3, 8, 2, 9, 6, 10, 6, 11, 6, 12, 6, 13, 6, 14, 6, 15, 4,\n      16, 5, 17, 6, 18, 6, 19, 6, 20, 6, 21, 6, 22, 6, 23, 6, 24, 6, 25, 6, 26, 6, 27, 6, 28, 6, 29, 6, 30, 6, 31, 6,\n      32, 6, 33, 6, 34, 6, 35, 6, 36, 6, 37, 6, 38, 6, 39, 6, 40, 6, 41, 6, 42, 6, 43, 6, 44, 6, 45, 6, 46, 6, 47, 6,\n      48, 6, 49, 6, 50, 6, 51, 6, 52, 6, 53, 6, 54, 6, 55, 6, 56, 6, 57, 6, 58, 6, 59, 6, 60, 6, 61, 6, 62, 6, 63, 6,\n      64, 6, 65, 6, 66, 6, 67, 6, 68, 6, 69, 6, 70, 6, 71, 6, 72, 6, 73, 6, 74, 6, 75, 6, 76, 6, 77, 6, 78, 6, 79, 6,\n      80, 6, 81, 6, 82, 6, 83, 6, 84, 6, 85, 6, 86, 6, 87, 6, 88, 6, 89, 6, 90, 6, 91, 6, 92, 6, 93, 6, 94, 6, 95, 6,\n      96, 6, 97, 6, 98, 6, 99, 6, 100, 6, 101, 6, 102, 6, 103, 6, 104, 6, 105, 6, 106, 6, 107, 6, 108, 6, 109, 6];\n    /* eslint-enable no-magic-numbers */\n\n    if (letter < 1 || letter > atomT.length / 2\n      || (Object.keys(Element.ByAtomicNumber).length * 2) !== atomT.length) {\n      throw new Error('atomT.length  should be equal Element.ByAtomicNumber.length * 2');\n    }\n    return atomT[letter * 2];\n  }\n\n  /**\n   * Calculate values for marching cube grid points\n   * positive values are outside sphere, negative - is inside\n   *\n   * @param {array} corners array of float values\n   * @param {number} side Number of point in cube in 1 dimennsion\n   * @param {Vector3} vBoxMin Bounding box min point\n   * @param {Vector3} vBoxMax Bounding box max point\n   * @param {array} atoms Array of input atoms\n   * @param {number} probeRad radius for atom probing\n   */\n  calculateGridCorners(corners, side, vBoxMin, vBoxMax, atoms, probeRad) {\n    const side2 = side * side;\n    const side3 = side2 * side;\n    const vCorner = new THREE.Vector3();\n    const vDif = new THREE.Vector3();\n    /* eslint-disable no-magic-numbers */\n    const aLot = +1.0e12;\n    /* eslint-enable no-magic-numbers */\n\n    for (let i = 0; i < side3; i++) {\n      corners[i] = aLot; // to large value\n    }\n\n    const xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n    const yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n    const zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n\n    for (let s = 0, numAtoms = atoms.length; s < numAtoms; s++) {\n      const atom = atoms[s];\n      const radius = atom.radius + probeRad;\n\n      const fx = ((atom.coord.x - radius) - vBoxMin.x) * xScale;\n      const fy = ((atom.coord.y - radius) - vBoxMin.y) * yScale;\n      const fz = ((atom.coord.z - radius) - vBoxMin.z) * zScale;\n\n      const indXMin = Math.floor(fx);\n      const indYMin = Math.floor(fy);\n      const indZMin = Math.floor(fz);\n\n      let indXMax = Math.floor(((atom.coord.x + radius) - vBoxMin.x) * xScale);\n      let indYMax = Math.floor(((atom.coord.y + radius) - vBoxMin.y) * yScale);\n      let indZMax = Math.floor(((atom.coord.z + radius) - vBoxMin.z) * zScale);\n\n      indXMax++;\n      indYMax++;\n      indZMax++;\n      indXMax = (indXMax <= (side - 1)) ? indXMax : (side - 1);\n      indYMax = (indYMax <= (side - 1)) ? indYMax : (side - 1);\n      indZMax = (indZMax <= (side - 1)) ? indZMax : (side - 1);\n\n      for (let y = indYMin; y <= indYMax; y++) {\n        const indY = y * side2;\n        for (let z = indZMin; z <= indZMax; z++) {\n          const indZ = z * side;\n          for (let x = indXMin; x <= indXMax; x++) {\n            const ind = indY + indZ + x;\n            this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, side, vCorner);\n            vDif.x = vCorner.x - atom.coord.x;\n            vDif.y = vCorner.y - atom.coord.y;\n            vDif.z = vCorner.z - atom.coord.z;\n            const distToSphere = Math.sqrt(vDif.x * vDif.x + vDif.y * vDif.y + vDif.z * vDif.z);\n            // val: < 0, if inside sphere\n            // val: > 0, if outside sphere\n            const val = distToSphere - radius;\n            if (val < corners[ind]) {\n              corners[ind] = val;\n            }\n          } // for (x)\n        } // for (z)\n      } // for (y)\n    } // for (s)\n  }\n\n  /**\n   * Create memory pool for vertex hash management\n   *\n   * @param {number} maxNumVertices Maximum possible number of vertices (that will be build)\n   * @param {number} maxNumTriangles Maximum possible number of triangles (that will be build)\n   * @returns {number} 0, if success. (<0) is non memory\n   */\n  createVertexHash(maxNumVertices, maxNumTriangles) {\n    this.hashLines = utils.allocateTyped(Int32Array, HASH_SIZE * 2);\n    if (this.hashLines === null) {\n      return 0 - 1;\n    }\n    for (let i = 0, j = 0; i < HASH_SIZE; i++) {\n      this.hashLines[j++] = 0; // num vertices in this hash line\n      this.hashLines[j++] = 0 - 1; // index of the first entry\n    }\n\n    this.maxNumVertices = maxNumVertices;\n    this.maxNumTriangles = maxNumTriangles;\n\n    this.numHashEtriesAllocated = maxNumVertices;\n    this.hashEntries = utils.allocateTyped(Int32Array, 2 * this.numHashEtriesAllocated);\n    if (this.hashEntries === null) {\n      return 0 - 1;\n    }\n    for (let i = 0, j = 0; i < this.numHashEtriesAllocated; i++) {\n      this.hashEntries[j++] = 0 - 1; // index of vertex\n      this.hashEntries[j++] = 0 - 1; // next hash entry index\n    }\n    this.numHashEntryIndex = 0;\n    return 0;\n  }\n\n  /**\n   * Allocate and return new hash entry. Just check possible amount.\n   *\n   * @returns {number} index of hash entry, that can be used for geometry add vertex functionality\n   */\n  getNewHashEntry() {\n    if (this.numHashEntryIndex < this.numHashEtriesAllocated) {\n      const i = this.numHashEntryIndex;\n      this.numHashEntryIndex++;\n      return i;\n    }\n    return 0 - 1;\n  }\n\n  /**\n   * Add vertex to geometry structure\n   * using vertex hash table to quickly check, is this vertex already exist in geometry\n   *\n   * @param {object} geoOut Geometry to build\n   * @param {Vector3} vAdd Vertex to add\n   * @returns {number} index of added (or existing) vertex in geometry.\n   */\n  addVertexToGeo(geoOut, vAdd) {\n    let entry;\n    const oneHynberes = 0.01;\n    const n815851 = 815851;\n    const n37633 = 37633;\n    const n2453543 = 2453543;\n    const r106 = 1.0e-6;\n\n    const hashResolution = this.marCubeResoultion << 2;\n    const v = new THREE.Vector3();\n    const ix = Math.floor(hashResolution * (vAdd.x - this.vBoxMin.x) / (this.vBoxMax.x + oneHynberes - this.vBoxMin.x));\n    const iy = Math.floor(hashResolution * (vAdd.y - this.vBoxMin.y) / (this.vBoxMax.y + oneHynberes - this.vBoxMin.y));\n    const iz = Math.floor(hashResolution * (vAdd.z - this.vBoxMin.z) / (this.vBoxMax.z + oneHynberes - this.vBoxMin.z));\n    let iHash = ix * n815851 + iz * n37633 + iy * n2453543;\n    iHash &= (HASH_SIZE - 1);\n    const hLineIndex = iHash + iHash;\n\n    // search vertex via hash\n    // search in hash list\n    if (this.vBoxMin !== null && this.vBoxMax !== null) {\n      for (entry = this.hashLines[hLineIndex + 1]; entry >= 0; entry = this.hashEntries[entry * 2 + 1]) {\n        const ind = this.hashEntries[entry * 2 + 0]; // vertex index\n        v.copy(geoOut._vertices[ind]);\n        v.x -= vAdd.x;\n        v.y -= vAdd.y;\n        v.z -= vAdd.z;\n        const dot2 = v.x * v.x + v.y * v.y + v.z * v.z;\n        if (dot2 < r106) {\n          return ind;\n        } // if (found)\n      } // for (entry)\n    } // search\n\n    // add new vertex to geometry\n    if (geoOut._numVertices >= this.maxNumVertices) {\n      return 0 - 1;\n    }\n\n    const iVertAdd = geoOut._numVertices;\n    geoOut._vertices[iVertAdd].copy(vAdd);\n\n    // add to hash\n    if (this.vBoxMin !== null && this.vBoxMax !== null) {\n      entry = this.getNewHashEntry();\n      if (entry < 0) {\n        return 0 - 1;\n      }\n      const entryFirst = this.hashLines[hLineIndex + 1];\n      this.hashLines[hLineIndex + 1] = entry;\n      this.hashEntries[entry * 2 + 0] = iVertAdd;\n      this.hashEntries[entry * 2 + 1] = entryFirst;\n\n      this.hashLines[hLineIndex + 0]++; // num vertices in line ++\n    }\n    geoOut._numVertices++;\n    return iVertAdd;\n  }\n\n  /**\n   *\n   * @param {number} side some placeholder description\n   * @param {number} probeSphereRadius some placeholder description\n   * @param {object} vBoxMin some placeholder description\n   * @param {object} vBoxMax some placeholder description\n   * @param {object} geoOut some placeholder description\n   * @param {object} corners some placeholder description\n   * @returns {number} always 0\n   */\n  modifyExcludedFromGeo(\n    side, probeSphereRadius,\n    vBoxMin, vBoxMax,\n    geoOut, corners,\n  ) {\n    let ind;\n    let distToSphere;\n    let distToBorder;\n    const r11 = 1.1;\n\n    function innerBlockWorkAround() {\n      if (distToBorder > 0.0) {\n        // point is inside probe sphere\n        if (corners[ind] < 0.0) {\n          corners[ind] = distToBorder; // was inside surface, now is oustide ( > 0)\n        }\n        if (distToBorder > corners[ind]) {\n          corners[ind] = distToBorder; // find positive maximum\n        }\n      } else if (distToBorder > corners[ind]) { // point is outside sphere\n        corners[ind] = distToBorder; // find negative maximum\n      }\n    }\n\n    const side2 = side * side;\n    const xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n    const yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n    const zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n\n    const probeSpRad2 = (probeSphereRadius * 2) * (probeSphereRadius * 2);\n    const sideInv = 1.0 / (side - 1);\n\n    for (let i = 0; i < geoOut._numVertices; i++) {\n      const vCenter = geoOut._vertices[i];\n\n      const radEst = probeSphereRadius * r11;\n\n      let indXMin = Math.floor(((vCenter.x - radEst) - vBoxMin.x) * xScale);\n      let indYMin = Math.floor(((vCenter.y - radEst) - vBoxMin.y) * yScale);\n      let indZMin = Math.floor(((vCenter.z - radEst) - vBoxMin.z) * zScale);\n\n      let indXMax = Math.floor(((vCenter.x + radEst) - vBoxMin.x) * xScale);\n      let indYMax = Math.floor(((vCenter.y + radEst) - vBoxMin.y) * yScale);\n      let indZMax = Math.floor(((vCenter.z + radEst) - vBoxMin.z) * zScale);\n\n      indXMin = (indXMin >= 0) ? indXMin : 0;\n      indYMin = (indYMin >= 0) ? indYMin : 0;\n      indZMin = (indZMin >= 0) ? indZMin : 0;\n      indXMax = (indXMax <= (side - 1)) ? indXMax : (side - 1);\n      indYMax = (indYMax <= (side - 1)) ? indYMax : (side - 1);\n      indZMax = (indZMax <= (side - 1)) ? indZMax : (side - 1);\n\n      for (let iy = indYMin; iy <= indYMax; iy++) {\n        const indY = iy * side2;\n        for (let iz = indZMin; iz <= indZMax; iz++) {\n          const indZ = iz * side;\n          for (let ix = indXMin; ix <= indXMax; ix++) {\n            ind = indY + indZ + ix;\n            // getCornerCoord(vBoxMin, vBoxMax, ix, iy, iz, side, &vCorner);\n            let t = ix * sideInv;\n            const xCorner = vBoxMin.x * (1.0 - t) + vBoxMax.x * t;\n            t = iy * sideInv;\n            const yCorner = vBoxMin.y * (1.0 - t) + vBoxMax.y * t;\n            t = iz * sideInv;\n            const zCorner = vBoxMin.z * (1.0 - t) + vBoxMax.z * t;\n\n            const dx = xCorner - vCenter.x;\n            const dy = yCorner - vCenter.y;\n            const dz = zCorner - vCenter.z;\n            const dist2 = dx * dx + dy * dy + dz * dz;\n            if (dist2 < probeSpRad2) {\n              distToSphere = Math.sqrt(dist2);\n              distToBorder = -(distToSphere - probeSphereRadius);\n              innerBlockWorkAround();\n            } // if (dist from corner point to sphere center more 2 radiuses)\n          } // for (ix)\n        } // for (iz)\n      } // for (iy)\n    } // for (i) all geo vertices\n    return 0;\n  }\n\n  _innerBuild() {\n    let ok;\n    const expandFactor = 1.2;\n\n    // performance test\n    // this.performanceTest();\n\n    // Create temporary atoms (but colored)\n    const packedArrays = {\n      posRad: this._posRad,\n      colors: this._colors,\n      atoms: this._opts.atoms,\n    };\n    this.complex = this._opts.parent;\n    this.atoms = packedArrays.atoms;\n    this.meshResolution = this._opts.gridSpacing;\n    this.atomRadiusScale = this._opts.radScale;\n    this.colorMode = this._opts.colorMode;\n    this.probeRadius = this._opts.probeRadius;\n    this.useVertexColors = true;\n    this.excludeProbe = this._opts.excludeProbe;\n    this.visibilitySelector = this._opts.visibilitySelector;\n\n    this.geoOut = null;\n\n    this.hashLines = null;\n    this.hashEntries = null;\n    this.numHashEtriesAllocated = 0;\n    this.numHashEntryIndex = 0;\n    this.maxNumVertices = 0;\n    this.maxNumTriangles = 0;\n\n    const atomsColored = new Array(this.atoms.length);\n    this.convertToAtomsColored(packedArrays, atomsColored);\n\n    // find bbox for spheres scene\n    const vBoxMin = this.vBoxMin = new THREE.Vector3();\n    const vBoxMax = this.vBoxMax = new THREE.Vector3();\n    this.getBoundingBox(atomsColored, vBoxMin, vBoxMax);\n\n    const marCubeResoultion = this.marCubeResoultion = this.meshResolution * (2 + 2);\n\n    // build grid corners for Marching cube algorithm\n    const side = marCubeResoultion;\n    const side2 = side * side;\n    const side3 = side2 * side;\n    const corners = utils.allocateTyped(Float32Array, side3);\n    const rProbeRadius = this.probeRadius * this.atomRadiusScale;\n\n    this.calculateGridCorners(corners, side, vBoxMin, vBoxMax, atomsColored, rProbeRadius);\n\n    const numCells = marCubeResoultion - 1;\n    const cube = new IsoSurfaceMarchCube();\n    ok = cube.create(numCells);\n    if (ok < 0) {\n      return ok;\n    }\n    // copy corners to cells\n    const vCellStep = new THREE.Vector3();\n    vCellStep.x = (vBoxMax.x - vBoxMin.x) / numCells;\n    vCellStep.y = (vBoxMax.y - vBoxMin.y) / numCells;\n    vCellStep.z = (vBoxMax.z - vBoxMin.z) / numCells;\n\n    let numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n    let maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n    let maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n\n    this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n\n    ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n    if (ok < 0) {\n      return ok;\n    }\n\n    // build voxel world (used to check triangle-to-atom tie and to calculate normals and colors)\n    let probeRadForNormalsColors = rProbeRadius;\n    if (this.excludeProbe) {\n      probeRadForNormalsColors = 0.01;\n    }\n    this.voxelWorld = new IsosurfaceBuildNormals(\n      atomsColored.length, atomsColored,\n      vBoxMin, vBoxMax, probeRadForNormalsColors,\n    );\n    this.voxelWorld.createVoxels();\n\n    ok = this.buildGeoFromCorners(marCubeResoultion, vBoxMin, vBoxMax, corners, vCellStep, cube);\n    if (this.excludeProbe) {\n      // using 3d mesh (geoOut) as a surface points\n      // move probe sphere and try to minimuze corners values\n      this.modifyExcludedFromGeo(side, rProbeRadius, vBoxMin, vBoxMax, this.geoOut, corners);\n\n      // delete old builded geo\n      this.geoOut._vertices = null;\n      this.geoOut._colors = null;\n      this.geoOut._indices = null;\n      this.geoOut._normals = null;\n      this.geoOut._numVertices = 0;\n      this.geoOut._numTriangles = 0;\n      this.geoOut = null;\n\n      // estimage geo vertices budget again\n      numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n      maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n      maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n\n      // creates empty new geometry\n      this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n      ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n      if (ok < 0) {\n        return ok;\n      }\n      // build vertices and triangles from corners values\n      ok = this.buildGeoFromCorners(side, vBoxMin, vBoxMax, corners, vCellStep, cube);\n    }\n\n    // build vertex normals\n    this.voxelWorld.buildNormals(this.geoOut._vertices.length, this.geoOut._vertices, this.geoOut._normals);\n    // More value : more smooth color mixing\n    // value about 0.7: very rough colors borders\n    let radiusColorSmoothness = 6.5;\n    if (this.excludeProbe) {\n      radiusColorSmoothness -= 1.5;\n    }\n    if (this.useVertexColors) {\n      this.voxelWorld.buildColors(\n        this.geoOut._vertices.length, this.geoOut._vertices,\n        this.geoOut._colors, radiusColorSmoothness,\n      );\n    }\n    this.voxelWorld.destroyVoxels();\n    this.voxelWorld = null;\n\n    // remove objects\n    cube.destroy();\n\n    return ok;\n  }\n}\n\n// All code below must be erased from every device and each developer's memory\n\nexport default SSIsosurfaceGeometry;\n","import * as THREE from 'three';\nimport EventDispatcher from '../../utils/EventDispatcher';\n\nfunction createLabel(fieldTxt, className) {\n  const text = document.createElement('div');\n  text.className = className;\n\n  if (typeof fieldTxt === 'string') {\n    const spanText = document.createElement('span');\n    spanText.style.fontSize = '150%';\n    const strings = fieldTxt.split('\\n');\n\n    for (let i = 0, n = strings.length; i < n; ++i) {\n      const spanNodeP = document.createElement('span');\n      const spanNodeText = document.createTextNode(strings[i]);\n      spanNodeP.appendChild(spanNodeText);\n      spanText.appendChild(spanNodeP);\n      if (i < n - 1) {\n        spanText.appendChild(document.createElement('br'));\n      }\n    }\n\n    text.appendChild(spanText);\n  } else {\n    text.appendChild(fieldTxt);\n  }\n  text.worldPos = new THREE.Vector3();\n  return text;\n}\nclass LabelsGeometry extends EventDispatcher {\n  constructor(instanceCount, opts) {\n    super();\n    this._opts = opts;\n    this.items = [];\n    this.needsUpdate = false;\n\n    let xTranslation = -50;\n    let yTranslation = -50;\n    switch (opts.horizontalAlign) {\n      case 'left':\n        xTranslation = 0;\n        break;\n      case 'right':\n        xTranslation = -100;\n        break;\n      default:\n        break;\n    }\n\n    switch (opts.verticalAlign) {\n      case 'top':\n        yTranslation = -100;\n        break;\n      case 'bottom':\n        yTranslation = 0;\n        break;\n      default:\n        break;\n    }\n\n    const deltaPos = new THREE.Vector3(opts.dx || 0, opts.dy || 0, opts.dz || 0);\n    this.userData = {\n      translation: `translate(${xTranslation}%, ${yTranslation}%)`,\n      offset: deltaPos,\n    };\n  }\n\n  setItem(itemIdx, itemPos, fieldTxt) {\n    const opts = this._opts;\n    const text = this.items[itemIdx] || createLabel(fieldTxt, 'label');\n\n    text.worldPos.copy(itemPos);\n    text.style.textAlign = opts.horizontalAlign;\n    text.style.verticalAlign = opts.verticalAlign;\n    this.items[itemIdx] = text;\n  }\n\n  setColor(itemIdx, fColor, bColor) {\n    const text = this.items[itemIdx];\n    text.opts = {\n      color: fColor,\n      background: bColor,\n    };\n  }\n\n  startUpdate() {\n    return true;\n  }\n\n  finishUpdate() {\n    this.needsUpdate = true;\n    this.dispatchEvent({ type: 'update' });\n  }\n\n  finalize() {\n    this.finishUpdate();\n  }\n\n  // unimplemented functions\n  raycast() {\n  }\n\n  setOpacity() {\n\n  }\n\n  getSubset() {\n    return [];\n  }\n}\n\nexport default LabelsGeometry;\n","import InstancedSpheresGeometry from './InstancedSpheresGeometry';\nimport SimpleSpheresGeometry from './SimpleSpheresGeometry';\nimport Simple2CCylindersGeometry from './Simple2CCylindersGeometry';\nimport Instanced2CCylindersGeometry from './Instanced2CCylindersGeometry';\nimport ExtrudedObjectsGeometry from './ExtrudedObjectsGeometry';\nimport ChunkedLinesGeometry from './ChunkedLinesGeometry';\nimport TwoColorLinesGeometry from './TwoColorLinesGeometry';\nimport CrossGeometry from './CrossGeometry';\nimport QuickSurfGeometry from './QuickSurfGeometry';\nimport ContactSurfaceGeometry from './ContactSurfaceGeometry';\nimport SSIsosurfaceGeometry from './SSIsosurfaceGeometry';\nimport LabelsGeometry from './LabelsGeometry';\n\nexport default {\n  InstancedSpheresGeometry,\n  SimpleSpheresGeometry,\n  Simple2CCylindersGeometry,\n  Instanced2CCylindersGeometry,\n  ExtrudedObjectsGeometry,\n  ChunkedLinesGeometry,\n  TwoColorLinesGeometry,\n  CrossGeometry,\n  QuickSurfGeometry,\n  ContactSurfaceGeometry,\n  SSIsosurfaceGeometry,\n  LabelsGeometry,\n};\n","export default {\n\n  precision: 'mediump',\n\n  /**\n   *\n   * @param {THREE.WebGLRenderer} renderer\n   */\n  init(renderer) {\n    this.precision = renderer.capabilities.getMaxPrecision('highp');\n  },\n};\n","import * as THREE from 'three';\n\nconst noiseWidth = 4;\nconst noiseHeight = 4;\nconst _noiseData = new Uint8Array([\n  24, 52, 0, 254, 145, 0, 122, 0, 0, 7, 170, 0,\n  34, 214, 0, 173, 8, 0, 86, 249, 0, 160, 4, 0,\n  226, 46, 0, 224, 211, 0, 3, 157, 0, 174, 247, 0,\n  12, 182, 0, 220, 216, 0, 1, 109, 0, 253, 154, 0,\n]);\nconst _noiseWrapS = THREE.RepeatWrapping;\nconst _noiseWrapT = THREE.RepeatWrapping;\nconst _noiseMinFilter = THREE.NearestFilter;\nconst _noiseMagFilter = THREE.NearestFilter;\nconst _noiseMapping = THREE.UVMapping;\nconst noiseTexture = new THREE.DataTexture(\n  _noiseData, noiseWidth, noiseHeight, THREE.RGBFormat,\n  THREE.UnsignedByteType, _noiseMapping, _noiseWrapS, _noiseWrapT, _noiseMagFilter, _noiseMinFilter, 1,\n);\nnoiseTexture.needsUpdate = true;\n\nexport default {\n  noiseWidth,\n  noiseHeight,\n  noiseTexture,\n};\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './Uber.vert';\nimport fragmentShader from './Uber.frag';\nimport capabilities from '../capabilities';\nimport noise from '../noiseTexture';\n\n// Length of _samplesKernel is used in Uber.frag\n// If you want to change length of _samplesKernel, please, remember change it in Uber.frag too.\n// You can easy find places for replace using word:_samplesKernel\nconst _samplesKernel = [\n  new THREE.Vector2(-0.541978, 0.840393),\n  new THREE.Vector2(0.125533, -0.992089),\n  new THREE.Vector2(0.374329, 0.927296),\n  new THREE.Vector2(-0.105475, 0.994422),\n];\n\nconst defaultUniforms = THREE.UniformsUtils.merge([\n\n  THREE.UniformsLib.fog,\n  THREE.UniformsLib.lights,\n\n  {\n    // are updated automatically by three.js (see THREE.ShaderLib.common)\n    diffuse: { value: new THREE.Color(0xeeeeee) },\n    opacity: { value: 1.0 },\n\n    specular: { type: 'c', value: new THREE.Color(0x111111) },\n    shininess: { type: 'f', value: 30 },\n    fixedColor: { type: 'c', value: new THREE.Color(0xffffff) },\n    zOffset: { type: 'f', value: 0.0 },\n    zClipValue: { type: 'f', value: 0.0 },\n    clipPlaneValue: { type: 'f', value: 0.0 },\n    nearPlaneValue: { type: 'f', value: -0.5 },\n    invModelViewMatrix: { type: '4fv', value: new THREE.Matrix4() },\n    world2colorMatrix: { type: '4fv', value: new THREE.Matrix4() },\n    dashedLineSize: { type: 'f', value: 0.1 },\n    dashedLinePeriod: { type: 'f', value: 0.2 },\n    projMatrixInv: { type: '4fv', value: new THREE.Matrix4() },\n    viewport: { type: 'v2', value: new THREE.Vector2() },\n    lineWidth: { type: 'f', value: 2.0 },\n    // default value must be the same as settings\n    fogAlpha: { type: 'f', value: 1.0 },\n    samplesKernel: { type: 'v2v', value: null },\n    noiseTex: { type: 't', value: null },\n    noiseTexelSize: { type: 'v2', value: null },\n    srcTexelSize: { type: 'v2', value: null },\n  },\n\n]);\n\nconst uberOptionNames = [\n  'shininess',\n  'opacity',\n  'zOffset',\n  'diffuse',\n  'specular',\n  'fixedColor',\n  'zClipCoef',\n  'zClipValue',\n  'clipPlaneValue',\n  'world2colorMatrix',\n  'dashedLineSize',\n  'dashedLinePeriod',\n  'projMatrixInv',\n  'viewport',\n  'lineWidth',\n  'fogAlpha',\n  'samplesKernel',\n  'noiseTex',\n  'noiseTexelSize',\n  'srcTexelSize',\n];\n\nfunction UberMaterial(params) {\n  THREE.RawShaderMaterial.call(this);\n\n  // add fog\n  this.fog = true;\n  // used for instanced geometry\n  this.instancedPos = false;\n  this.instancedMatrix = false;\n  // atoms and links color\n  this.attrColor = false;\n  // second link color for cylinders\n  this.attrColor2 = false;\n  //\n  this.attrAlphaColor = false;\n  // overrides color for all vertices (used in selection)\n  this.overrideColor = false;\n  // zsrpites\n  this.sphereSprite = false;\n  this.cylinderSprite = false;\n  // clip Surfs individually\n  this.zClip = false;\n  // clip scene with global clip plane\n  this.clipPlane = false;\n  // enable fake (chess-like) opacity\n  this.fakeOpacity = false;\n  // render only depth, don't take care about the pixel color (used for transparency depth prepass)\n  this.prepassTransparancy = false;\n  // used to render pixel positions\n  this.colorFromPos = false;\n  // used to render shadowmap\n  this.shadowmap = false;\n  // used to describe shadowmap type\n  this.shadowmapType = 'random';\n  // used to render pixel view deph\n  this.colorFromDepth = false;\n  // mark that rendering is for orthographic camera\n  this.orthoCam = false;\n  // used to render dashed line\n  this.dashedLine = false;\n  // mark as transparent\n  this.transparent = true;\n  // mark as thick lines\n  this.thickLine = false;\n  // makes fog begin transparency (required for transparent background)\n  this.fogTransparent = false;\n  // used to render surface normals to G buffer for ssao effect\n  this.normalsToGBuffer = false;\n  // used for toon material\n  this.toonShading = false;\n\n  // uber options of \"root\" materials are inherited from single uber-options object that resides in prototype\n  this.uberOptions = Object.create(UberMaterial.prototype.uberOptions);\n\n  // set default values\n  THREE.RawShaderMaterial.prototype.setValues.call(this, {\n    uniforms: THREE.UniformsUtils.clone(defaultUniforms),\n    vertexShader: this.precisionString() + vertexShader,\n    fragmentShader: this.precisionString() + fragmentShader,\n    lights: true,\n    fog: true,\n    side: THREE.DoubleSide,\n  });\n\n  this.setValues(params);\n}\n\nUberMaterial.prototype = Object.create(THREE.RawShaderMaterial.prototype);\nUberMaterial.prototype.constructor = UberMaterial;\n\nUberMaterial.prototype.precisionString = function () {\n  const { precision } = capabilities;\n  const str = `precision ${precision} float;\\n`\n    + `precision ${precision} int;\\n\\n`;\n  return str;\n};\n\n// properties that convert to uniforms\nUberMaterial.prototype.uberOptions = {\n  diffuse: new THREE.Color(0xffffff), // used in phong lighting\n  specular: new THREE.Color(0x111111), // used in phong lighting\n  shininess: 30, // used in phong lighting\n  opacity: 1, // set mesh opacity\n  fixedColor: new THREE.Color(0xffffff), // color to override (see OVERRIDE_COLOR)\n  zOffset: 0.0, // used fo zsprites (see SPHERE_SPRITE CYLINDER_SPRITE)\n  zClipCoef: 2.0, // use for Surfs clipping (mesh param, isn't used in shader)  FIXME move to representation param\n  zClipValue: 0.0, //  value to clip Surfs in shader  (see ZCLIP)\n  clipPlaneValue: 0.0, // value to clip scene globally (see CLIPPLANE)\n  world2colorMatrix: new THREE.Matrix4(),\n  dashedLineSize: 0.1,\n  dashedLinePeriod: 0.3,\n  projMatrixInv: new THREE.Matrix4(),\n  viewport: new THREE.Vector2(800, 600),\n  lineWidth: 2.0,\n  fogAlpha: 1.0,\n  samplesKernel: _samplesKernel,\n  noiseTex: noise.noiseTexture,\n  noiseTexelSize: new THREE.Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight),\n  srcTexelSize: new THREE.Vector2(1.0 / 800.0, 1.0 / 600.0),\n\n  copy(source) {\n    this.diffuse.copy(source.diffuse);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n    this.opacity = source.opacity;\n    this.fixedColor.copy(source.fixedColor);\n    this.zOffset = source.zOffset;\n    this.zClipCoef = source.zClipCoef;\n    this.zClipValue = source.zClipValue;\n    this.clipPlaneValue = source.clipPlaneValue;\n    this.world2colorMatrix.copy(source.world2colorMatrix);\n    this.dashedLineSize = source.dashedLineSize;\n    this.dashedLinePeriod = source.dashedLinePeriod;\n    this.projMatrixInv = source.projMatrixInv;\n    this.viewport = source.viewport;\n    this.lineWidth = source.lineWidth; // used for thick lines only\n    this.toonShading = source.toonShading;\n    this.fogAlpha = source.fogAlpha;\n    this.samplesKernel = source.samplesKernel;\n    this.noiseTex = source.noiseTex;\n    this.noiseTexelSize = source.noiseTexelSize;\n    this.srcTexelSize = source.srcTexelSize;\n  },\n};\n\nUberMaterial.prototype.copy = function (source) {\n  THREE.RawShaderMaterial.prototype.copy.call(this, source);\n\n  this.fragmentShader = source.fragmentShader;\n  this.vertexShader = source.vertexShader;\n\n  this.uniforms = THREE.UniformsUtils.clone(source.uniforms);\n  this.defines = { ...source.defines };\n  this.extensions = source.extensions;\n\n  this.fog = source.fog;\n  this.instancedPos = source.instancedPos;\n  this.instancedMatrix = source.instancedMatrix;\n  this.attrColor = source.attrColor;\n  this.attrColor2 = source.attrColor2;\n  this.attrAlphaColor = source.attrAlphaColor;\n  this.overrideColor = source.overrideColor;\n  this.sphereSprite = source.sphereSprite;\n  this.cylinderSprite = source.cylinderSprite;\n  this.zClip = source.zClip;\n  this.clipPlane = source.clipPlane;\n  this.fakeOpacity = source.fakeOpacity;\n  this.colorFromPos = source.colorFromPos;\n  this.shadowmap = source.shadowmap;\n  this.shadowmapType = source.shadowmapType;\n  this.colorFromDepth = source.colorFromDepth;\n  this.orthoCam = source.orthoCam;\n  this.prepassTransparancy = source.prepassTransparancy;\n  this.dashedLine = source.dashedLine;\n  this.thickLine = source.thickLine;\n  this.fogTransparent = source.fogTransparent;\n  this.normalsToGBuffer = source.normalsToGBuffer;\n  this.toonShading = source.toonShading;\n\n  this.uberOptions.copy(source.uberOptions);\n\n  return this;\n};\n\n// create copy of this material\n// its options are prototyped after this material's options\nUberMaterial.prototype.createInstance = function () {\n  const inst = new UberMaterial();\n  inst.copy(this);\n  inst.uberOptions = Object.create(this.uberOptions);\n  return inst;\n};\n\nUberMaterial.prototype.setValues = function (values) {\n  if (typeof values === 'undefined') {\n    return;\n  }\n\n  // set direct values\n  THREE.RawShaderMaterial.prototype.setValues.call(this, values);\n\n  const defines = {};\n  const extensions = {};\n\n  if (this.fog) {\n    defines.USE_FOG = 1;\n  }\n  if (this.instancedPos) {\n    defines.INSTANCED_POS = 1;\n  }\n  if (this.instancedMatrix) {\n    defines.INSTANCED_MATRIX = 1;\n  }\n  if (this.attrColor) {\n    defines.ATTR_COLOR = 1;\n  }\n  if (this.attrColor2) {\n    defines.ATTR_COLOR2 = 1;\n  }\n  if (this.attrAlphaColor) {\n    defines.ATTR_ALPHA_COLOR = 1;\n  }\n  if (this.overrideColor) {\n    defines.OVERRIDE_COLOR = 1;\n  }\n  if (this.sphereSprite) {\n    defines.SPHERE_SPRITE = 1;\n    extensions.fragDepth = 1;\n  }\n  if (this.cylinderSprite) {\n    defines.CYLINDER_SPRITE = 1;\n    extensions.fragDepth = 1;\n  }\n  if (this.zClip) {\n    defines.ZCLIP = 1;\n  }\n  if (this.clipPlane) {\n    defines.CLIP_PLANE = 1;\n  }\n  if (this.fakeOpacity) {\n    defines.FAKE_OPACITY = 1;\n  }\n  if (this.lights) {\n    defines.USE_LIGHTS = 1;\n  }\n  if (this.colorFromPos) {\n    defines.COLOR_FROM_POS = 1;\n  }\n  if (this.shadowmap) {\n    defines.SHADOWMAP = 1;\n    if (this.shadowmapType === 'pcf') {\n      defines.SHADOWMAP_PCF_SHARP = 1;\n    } else if (this.shadowmapType === 'random') {\n      defines.SHADOWMAP_PCF_RAND = 1;\n    } else {\n      defines.SHADOWMAP_BASIC = 1;\n    }\n  }\n  if (this.colorFromDepth) {\n    defines.COLOR_FROM_DEPTH = 1;\n  }\n  if (this.orthoCam) {\n    defines.ORTHOGRAPHIC_CAMERA = 1;\n  }\n  if (this.prepassTransparancy) {\n    defines.PREPASS_TRANSP = 1;\n  }\n  if (this.dashedLine) {\n    defines.DASHED_LINE = 1;\n  }\n  if (this.thickLine) {\n    defines.THICK_LINE = 1;\n  }\n  if (this.fogTransparent) {\n    defines.FOG_TRANSPARENT = 1;\n  }\n  if (this.normalsToGBuffer) {\n    extensions.drawBuffers = 1;\n    defines.NORMALS_TO_G_BUFFER = 1;\n  }\n  if (this.toonShading) {\n    defines.TOON_SHADING = 1;\n  }\n  // set dependent values\n  this.defines = defines;\n  this.extensions = extensions;\n};\n\nUberMaterial.prototype.setUberOptions = function (values) {\n  if (typeof values === 'undefined') {\n    return;\n  }\n\n  for (const key in values) {\n    if (!values.hasOwnProperty(key)) {\n      continue;\n    }\n\n    if (this.uberOptions[key] instanceof THREE.Color) {\n      this.uberOptions[key] = values[key].clone();\n    } else {\n      this.uberOptions[key] = values[key];\n    }\n  }\n};\n\nUberMaterial.prototype.clone = function (shallow) {\n  if (!shallow) {\n    return THREE.Material.prototype.clone.call(this);\n  }\n  return this.createInstance();\n};\n\nUberMaterial.prototype.updateUniforms = function () {\n  const self = this;\n\n  uberOptionNames.forEach((p) => {\n    if (self.uniforms.hasOwnProperty(p)) {\n      if (self.uberOptions[p] instanceof THREE.Color\n            || self.uberOptions[p] instanceof THREE.Matrix4) {\n        self.uniforms[p].value = self.uberOptions[p].clone();\n      } else {\n        self.uniforms[p].value = self.uberOptions[p];\n      }\n    }\n  });\n};\n\nexport default UberMaterial;\n","import UberMaterial from '../shaders/UberMaterial';\n\nexport default function (SuperClass) {\n  class NewObjectType extends SuperClass {\n    constructor(...rest) {\n      super(...rest);\n      this.onBeforeRender = NewObjectType.prototype.onBeforeRender;\n    }\n\n    onBeforeRender(renderer, scene, camera, geometry, material, group) {\n      this._onBeforeRender(renderer, scene, camera, geometry, material, group);\n      this._update();\n    }\n\n    _onBeforeRender() {\n    }\n\n    _update() {\n      const { material } = this;\n      if (!material) {\n        return;\n      }\n\n      if (material instanceof UberMaterial) {\n        material.updateUniforms();\n      }\n    }\n  }\n\n  return NewObjectType;\n}\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass ZSpriteMesh extends Mesh {\n  constructor(...rest) {\n    super(...rest);\n    this.castShadow = true;\n    this.receiveShadow = true;\n  }\n\n  _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n    Mesh.prototype._onBeforeRender.call(this, renderer, scene, camera);\n    const { material } = this;\n    if (!material) {\n      return;\n    }\n\n    if (material.uniforms.invModelViewMatrix) {\n      // NOTE: update of modelViewMatrix inside threejs is done after onBeforeRender call,\n      // so we have to do it manually in that place\n      this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n      // get inverse matrix\n      material.uniforms.invModelViewMatrix.value.copy(this.modelViewMatrix).invert();\n      material.uniforms.nearPlaneValue.value = camera.near;\n      material.uniformsNeedUpdate = true;\n    }\n  }\n}\n\nexport default ZSpriteMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass ZClippedMesh extends Mesh {\n  constructor(geometry, material) {\n    super(geometry, material);\n    this.castShadow = true;\n    this.receiveShadow = true;\n  }\n\n  static _mvLength = new THREE.Vector3();\n\n  static _center = new THREE.Vector3();\n\n  static _modelView = new THREE.Matrix4();\n\n  _onBeforeRender(renderer, scene, camera) {\n    Mesh.prototype._onBeforeRender.call(this, renderer, scene, camera);\n\n    const geo = this.geometry;\n    const { material } = this;\n    if (!geo.zClip || !material.uberOptions) {\n      return;\n    }\n\n    const zClipCoef = 0.5;\n\n    const modelView = ZClippedMesh._modelView;\n    const mvLength = ZClippedMesh._mvLength;\n    const center = ZClippedMesh._center;\n\n    modelView.multiplyMatrices(this.matrixWorld, camera.matrixWorldInverse);\n    const s = mvLength.setFromMatrixColumn(modelView, 0).length();\n    center.copy(geo.boundingSphere.center);\n\n    this.localToWorld(center);\n    material.uberOptions.zClipValue = camera.position.z - center.z\n      - s * (zClipCoef * geo.boundingSphere.radius);\n  }\n}\n\nexport default ZClippedMesh;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport CSS2DObject from '../CSS2DObject';\nimport utils from '../../utils';\n\nclass TextMesh extends THREE.Group {\n  constructor(geometry, _material) {\n    super();\n    this.geometry = geometry;\n\n    const self = this;\n    self.initialized = false;\n    this.geometry.addEventListener('update', () => {\n      self.update();\n    });\n  }\n\n  init() {\n    const { children } = this;\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.remove(children[i]);\n    }\n\n    const { items, userData } = this.geometry;\n    for (let i = 0, n = items.length; i < n; ++i) {\n      const srcItem = items[i];\n      if (!srcItem) {\n        continue;\n      }\n      const item = utils.shallowCloneNode(srcItem);\n      const label = new CSS2DObject(item);\n      label.userData = _.clone(userData);\n      const el = label.getElement();\n      el.style.visibility = 'visible';\n      label.source = srcItem;\n      this.add(label);\n    }\n    this.initialized = true;\n  }\n\n  update() {\n    const geo = this.geometry;\n    if (!geo.needsUpdate) {\n      return;\n    }\n    const { children } = this;\n    if (!this.initialized) {\n      this.init();\n    }\n\n    for (let i = 0, n = children.length; i < n; ++i) {\n      const child = children[i];\n      const item = child.source;\n      child.position.copy(item.worldPos);\n      child.userData.color = item.opts.color;\n      child.userData.background = item.opts.background;\n    }\n  }\n}\n\nexport default TextMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass SimpleMesh extends Mesh {\n  constructor(geometry, material) {\n    super(geometry, material);\n    this.castShadow = true;\n    this.receiveShadow = true;\n  }\n}\n\nexport default SimpleMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\nconst _viewport = new THREE.Vector2();\n\nclass ThickLineMesh extends Mesh {\n  _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n    const { material } = this;\n    if (!material.uberOptions) {\n      return;\n    }\n\n    material.uberOptions.projMatrixInv.copy(camera.projectionMatrix).invert();\n    renderer.getSize(_viewport);\n    material.uberOptions.viewport.set(_viewport.width, _viewport.height);\n  }\n}\n\nexport default ThickLineMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\n\nconst Mesh = UberObject(THREE.Mesh);\n\nclass InstancedMesh extends Mesh {\n  constructor(...rest) {\n    super(...rest);\n    this.castShadow = true;\n    this.receiveShadow = true;\n  }\n}\n\nexport default InstancedMesh;\n","import * as THREE from 'three';\nimport UberObject from './UberObject';\nimport ZSpriteMesh from './ZSpriteMesh';\nimport ZClippedMesh from './ZClippedMesh';\nimport TextMesh from './TextMesh';\nimport SimpleMesh from './SimpleMesh';\nimport ThickLineMesh from './ThickLineMesh';\nimport InstancedMesh from './InstancedMesh';\n\nexport default {\n  ZClipped: ZClippedMesh,\n  ZSprite: ZSpriteMesh,\n  Text: TextMesh,\n  Line: UberObject(THREE.Line),\n  LineSegments: UberObject(THREE.LineSegments),\n  Mesh: SimpleMesh,\n  ThickLineMesh,\n  Instanced: InstancedMesh,\n};\n","import geometries from '../geometries/geometries';\nimport meshes from './meshes';\nimport ThickLinesGeometry from '../geometries/ThickLinesGeometry';\n\nfunction setMatParams(params, uniforms) {\n  return function (material) {\n    material.setValues(params);\n    material.setUberOptions(uniforms);\n  };\n}\n\nfunction _createInstancedCylinders(useZSprites, openEnded) {\n  return {\n    Geometry(a, b) {\n      return new geometries.Instanced2CCylindersGeometry(a, b, useZSprites, openEnded);\n    },\n    Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n    initMaterial: setMatParams({\n      instancedMatrix: true,\n      attrColor: true,\n      attrColor2: true,\n      attrAlphaColor: true,\n      cylinderSprite: useZSprites,\n    }),\n  };\n}\n\nfunction _createLineSegmentsGeoTriplet(geo, renderParams) {\n  const thickLines = geo.prototype instanceof ThickLinesGeometry;\n  const lineWidth = renderParams.lineWidth || 0;\n  return {\n    Geometry: geo,\n    Object: thickLines ? meshes.ThickLineMesh : meshes.LineSegments,\n    initMaterial: setMatParams({\n      lights: false,\n      attrColor: true,\n      attrAlphaColor: true,\n      thickLine: thickLines,\n    }, {\n      lineWidth,\n    }),\n  };\n}\n\nfunction _createSimpleGeoTriplet(geoClass) {\n  return {\n    Geometry: geoClass,\n    Object: meshes.Mesh,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: true,\n    }),\n  };\n}\n\nfunction _createIsoSurfaceGeoTriplet(geoClass, caps, settings, renderParams) {\n  const surfaceOpts = {\n    wireframe: !!renderParams.wireframe,\n    fakeOpacity: settings.now.isoSurfaceFakeOpacity,\n    zClip: renderParams.zClip,\n  };\n  return {\n    Geometry: geoClass,\n    Object: meshes.ZClipped,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: false,\n      wireframe: surfaceOpts.wireframe,\n      fakeOpacity: surfaceOpts.fakeOpacity,\n      zClip: surfaceOpts.zClip,\n    }),\n  };\n}\n\nclass MeshCreator {\n  static createSpheres(caps, settings) {\n    const useZSprites = settings.now.zSprites;\n    return {\n      Geometry(a, b) {\n        return new geometries.InstancedSpheresGeometry(a, b, useZSprites);\n      },\n      Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n      initMaterial: setMatParams({\n        instancedPos: true,\n        attrColor: true,\n        attrAlphaColor: true,\n        sphereSprite: useZSprites,\n      }),\n    };\n  }\n\n  static create2CClosedCylinders(_caps, _settings) {\n    return _createInstancedCylinders(false, false);\n  }\n\n  static create2CCylinders(caps, settings) {\n    return _createInstancedCylinders(settings.now.zSprites, true);\n  }\n\n  static create2CLines(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.TwoColorLinesGeometry, renderParams);\n  }\n\n  static createCrosses(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.CrossGeometry, renderParams);\n  }\n\n  static createExtrudedChains(_caps, _settings) {\n    return _createSimpleGeoTriplet(geometries.ExtrudedObjectsGeometry);\n  }\n\n  static createChunkedLines(_caps, _settings, renderParams) {\n    return _createLineSegmentsGeoTriplet(geometries.ChunkedLinesGeometry, renderParams);\n  }\n\n  static createQuickSurface(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(geometries.QuickSurfGeometry, caps, settings, renderParams);\n  }\n\n  static createContactSurface(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(geometries.ContactSurfaceGeometry, caps, settings, renderParams);\n  }\n\n  static createSASSES(caps, settings, renderParams) {\n    return _createIsoSurfaceGeoTriplet(geometries.SSIsosurfaceGeometry, caps, settings, renderParams);\n  }\n\n  static createLabels(_caps, _settings) {\n    return {\n      Geometry: geometries.LabelsGeometry,\n      Object: meshes.Text,\n      initMaterial() {\n      },\n    };\n  }\n}\n\nexport default MeshCreator;\n","import * as THREE from 'three';\nimport gfxutils from '../gfxutils';\n\nclass TransformGroup extends THREE.Object3D {\n  static _inverseMatrix = new THREE.Matrix4();\n\n  static _ray = new THREE.Ray();\n\n  constructor(geometry, geoParams, material, transforms) {\n    super();\n    this._geometry = geometry;\n    this._geoParams = geoParams;\n    const mat = material.createInstance();\n    geoParams.initMaterial(mat);\n    this._material = mat;\n    this._transforms = transforms.length > 0 ? transforms : [new THREE.Matrix4()];\n    const meshes = this._createMeshes(geometry);\n    for (let i = 0, n = meshes.length; i < n; ++i) {\n      this.add(meshes[i]);\n    }\n  }\n\n  raycast(raycaster, intersects) {\n    const ray = TransformGroup._ray;\n    const inverseMatrix = TransformGroup._inverseMatrix;\n    const { children } = this;\n    ray.copy(raycaster.ray);\n    for (let i = 0, n = children.length; i < n; ++i) {\n      const child = children[i];\n\n      if (!gfxutils.belongToSelectLayers(child)) {\n        continue;\n      }\n\n      child.updateMatrixWorld();\n      const mtx = child.matrixWorld;\n      inverseMatrix.copy(mtx).invert();\n      raycaster.ray.copy(ray).applyMatrix4(inverseMatrix);\n      const childIntersects = [];\n      this._geometry.raycast(raycaster, childIntersects);\n\n      for (let j = 0, ciCount = childIntersects.length; j < ciCount; ++j) {\n        const inters = childIntersects[j];\n        if (inters.point) {\n          inters.point.applyMatrix4(mtx);\n          inters.distance = ray.origin.distanceTo(inters.point);\n        }\n        inters.object = child;\n        intersects[intersects.length] = inters;\n      }\n    }\n    raycaster.ray.copy(ray);\n  }\n\n  getSubset(chunkIndices) {\n    const geos = this._geometry.getSubset(chunkIndices);\n    const subset = [];\n    let subIdx = 0;\n\n    for (let i = 0, n = geos.length; i < n; ++i) {\n      const meshes = this._createMeshes(geos[i]);\n      for (let j = 0, meshCnt = meshes.length; j < meshCnt; ++j) {\n        subset[subIdx++] = meshes[j];\n      }\n    }\n\n    return subset;\n  }\n\n  _createMeshes(geometry) {\n    const transforms = this._transforms;\n    const Mesh = this._geoParams.Object;\n    const material = this._material;\n    const meshes = [];\n    for (let i = 0, n = transforms.length; i < n; ++i) {\n      const mesh = new Mesh(geometry, material);\n      mesh.applyMatrix4(transforms[i]);\n      meshes[i] = mesh;\n    }\n\n    return meshes;\n  }\n}\n\nexport default TransformGroup;\n","import RCGroup from '../../RCGroup';\nimport TransformGroup from '../../meshes/TransformGroup';\n\nfunction wrapper(Name, args) {\n  const params = [Name].concat(args);\n  return Name.bind(...params);\n}\n\nclass ChemGroup extends RCGroup {\n  constructor(geoParams, selection, colorer, mode, transforms, polyComplexity, material) {\n    super();\n    if (this.constructor === ChemGroup) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this._selection = selection;\n    this._mode = mode;\n    this._colorer = colorer;\n    this._chunksIdc = selection.chunks;\n    this._polyComplexity = polyComplexity;\n    this._geo = new (wrapper(geoParams.Geometry, this._makeGeoArgs()))();\n    this._mesh = new TransformGroup(this._geo, geoParams, material, transforms);\n    this.add(this._mesh);\n    this._build();\n  }\n\n  _makeGeoArgs() {\n    throw new Error('ChemGroup subclass must override _makeGeoArgs() method');\n  }\n\n  /**\n   * Builds subset geometry by ATOMS index list\n   *\n   * @param {Number} mask - Representation mask\n   * @param {Boolean} innerOnly - if true returns inner bonds only - without halves\n   * @returns {Array} Subset geometry\n   */\n  getSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : false;\n    const chunksList = this._calcChunksList(mask, innerOnly);\n    if (chunksList.length === 0) {\n      return [];\n    }\n    return this._mesh.getSubset(chunksList);\n  }\n\n  _changeSubsetOpacity(mask, value, innerOnly) {\n    const chunksList = this._calcChunksList(mask, innerOnly);\n    if (chunksList.length === 0) {\n      return;\n    }\n    this._geo.setOpacity(chunksList, value);\n  }\n\n  enableSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : true;\n    this._changeSubsetOpacity(mask, 1.0, innerOnly);\n  }\n\n  disableSubset(mask, innerOnly) {\n    innerOnly = innerOnly !== undefined ? innerOnly : true;\n    this._changeSubsetOpacity(mask, 0.0, innerOnly);\n  }\n}\n\nexport default ChemGroup;\n","import ChemGroup from './ChemGroup';\n\nclass AtomsGroup extends ChemGroup {\n  raycast(raycaster, intersects) {\n    const { atoms } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const atomsIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const atomIdx = atomsIdc[inters[i].chunkIdx];\n      if (atomIdx < atoms.length) {\n        inters[i].atom = atoms[atomIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    const { atoms } = this._selection;\n    const atomsIdc = this._chunksIdc;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      if ((atom.mask & mask) !== 0) {\n        chunksList.push(i);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default AtomsGroup;\n","import AtomsGroup from './AtomsGroup';\n\nclass AtomsSphereGroup extends AtomsGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length, this._polyComplexity];\n  }\n\n  _build() {\n    const atomsIdc = this._selection.chunks;\n    const { atoms, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      geo.setItem(i, atom.position, mode.calcAtomRadius(atom));\n      geo.setColor(i, colorer.getAtomColor(atom, parent));\n    }\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const atomsIdc = this._selection.chunks;\n    const { atoms } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    const geo = this._geo;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), mode.calcAtomRadius(atom));\n      if (updateColor) {\n        geo.setColor(i, frameData.getAtomColor(colorer, atom));\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default AtomsSphereGroup;\n","import AtomsSphereGroup from './AtomsSphereGroup';\n\nclass AtomsSurfaceGroup extends AtomsSphereGroup {\n  _makeGeoArgs() {\n    const selectedAtoms = [];\n    const { atoms, chunks } = this._selection;\n    const n = chunks.length;\n    for (let i = 0; i < n; ++i) {\n      selectedAtoms[i] = atoms[chunks[i]];\n    }\n    const opts = this._mode.getSurfaceOpts();\n    opts.atoms = selectedAtoms;\n    return [n, opts];\n  }\n}\nexport default AtomsSurfaceGroup;\n","/* This is a stub class keep it until SAS/SES is refactored */\n\nimport AtomsSphereGroup from './AtomsSphereGroup';\n\nclass AtomsSASSESGroupStub extends AtomsSphereGroup {\n  _makeGeoArgs() {\n    const selectedAtoms = [];\n    const { atoms, chunks } = this._selection;\n    const n = chunks.length;\n    for (let i = 0; i < n; ++i) {\n      selectedAtoms[i] = atoms[chunks[i]];\n    }\n    const opts = this._mode.getSurfaceOpts();\n    opts.atoms = selectedAtoms;\n    opts.selection = this._selection;\n    opts.colorMode = this._colorer;\n    return [n, opts];\n  }\n}\n\nexport default AtomsSASSESGroupStub;\n","import AtomsGroup from './AtomsGroup';\nimport utils from '../../../utils';\n\nfunction adjustColor(color) {\n  let r = (color >> 16) & 255;\n  let g = (color >> 8) & 255;\n  let b = color & 255;\n\n  if (0.2126 * r + 0.7152 * g + 0.0722 * b > 127) {\n    r = r * 3 / 10;\n    g = g * 3 / 10;\n    b = b * 3 / 10;\n  } else {\n    r = 255 - ((255 - r) * 3 / 10);\n    g = 255 - ((255 - g) * 3 / 10);\n    b = 255 - ((255 - b) * 3 / 10);\n  }\n\n  return (r << 16) | (g << 8) | b;\n}\n\nfunction inverseColor(color) {\n  const r = (color >> 16) & 255;\n  const g = (color >> 8) & 255;\n  const b = color & 255;\n\n  return ((255 - r) << 16) | ((255 - g) << 8) | (255 - b);\n}\n\nfunction getAtomText(atom) {\n  if (atom.name.getNode() !== null) {\n    return atom.name.getNode();\n  }\n\n  return atom.getVisualName();\n}\n\nconst colorMappings = {\n  none(c) {\n    return c;\n  },\n  adjust: adjustColor,\n  inverse: inverseColor,\n};\n\nfunction propagateColor(color, rule) {\n  let result;\n  if (colorMappings.hasOwnProperty(rule)) {\n    result = utils.hexColor(colorMappings[rule](color));\n  } else {\n    const val = parseInt(rule, 16);\n    if (!Number.isNaN(val) && rule.toLowerCase().startsWith('0x')) {\n      result = utils.hexColor(val);\n    } else {\n      result = '#000000';\n    }\n  }\n  return result;\n}\n\nconst templateMappings = {\n  serial(a) {\n    return a.serial;\n  },\n  name(a) {\n    return a.getVisualName();\n  },\n  elem(a) {\n    return a.element.name;\n  },\n  residue(a) {\n    return a.residue.getType().getName();\n  },\n  sequence(a) {\n    return a.residue.getSequence();\n  },\n  chain(a) {\n    return a.residue.getChain().getName();\n  },\n  hetatm(a) {\n    return a.isHet();\n  },\n  water(a) {\n    return a.residue.getType().getName() === 'HOH' || a.residue.getType().getName() === 'WAT';\n  },\n};\n\nconst parseTemplate = function (atom, str) {\n  return str.replace(/\\{\\{(\\s*\\w+\\s*)\\}\\}/g, (m) => {\n    let key = m.replace(/\\s+/g, '');\n    key = key.substring(2, key.length - 2).toLowerCase();\n\n    if (templateMappings.hasOwnProperty(key)) {\n      return templateMappings[key](atom);\n    }\n    return 'null';\n  });\n};\n\nclass AtomsTextGroup extends AtomsGroup {\n  _makeGeoArgs() {\n    const opts = this._mode.getLabelOpts();\n    return [this._selection.chunks.length, opts];\n  }\n\n  _build() {\n    const opts = this._mode.getLabelOpts();\n    const atomsIdc = this._selection.chunks;\n    const { atoms, parent } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      const text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n      if (!text) {\n        continue;\n      }\n      const color = colorer.getAtomColor(atom, parent);\n      const fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n      const bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n      geo.setItem(i, atom.position, text);\n      geo.setColor(i, fgColor, bgColor);\n    }\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const opts = this._mode.getLabelOpts();\n    const atomsIdc = this._selection.chunks;\n    const { atoms } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    for (let i = 0, n = atomsIdc.length; i < n; ++i) {\n      const atom = atoms[atomsIdc[i]];\n      const text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n      if (!text) {\n        continue;\n      }\n      const color = frameData.getAtomColor(colorer, atom);\n      const fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n      const bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n      geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), text);\n      if (updateColor) {\n        geo.setColor(i, fgColor, bgColor);\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default AtomsTextGroup;\n","import * as THREE from 'three';\nimport AtomsGroup from './AtomsGroup';\n\nfunction _slerp(omega, v1, v2, t) {\n  const oSin = Math.sin(omega);\n  return v1.clone().multiplyScalar(Math.sin((1 - t) * omega) / oSin).addScaledVector(v2, Math.sin(t * omega) / oSin);\n}\n\nclass AromaticGroup extends AtomsGroup {\n  _buildInner(radOffset, addChunk) {\n    const chunksToIdx = this._selection.chunks;\n\n    const prevVector = new THREE.Vector3();\n    const currVector = new THREE.Vector3();\n    const segmentsHeight = this._segmentsHeight;\n    const leprStep = 1.0 / segmentsHeight;\n    const colorer = this._colorer;\n\n    const { cycles, parent } = this._selection;\n    let chunkIdx = 0;\n    let currAtomIdx = chunksToIdx[chunkIdx];\n\n    for (let cIdx = 0, cCount = cycles.length; cIdx < cCount; ++cIdx) {\n      const cycle = cycles[cIdx];\n      const cycAtoms = cycle.atoms;\n      const chunkPoints = [];\n      const tmpDir = [];\n      const { center } = cycle;\n      const cycleRad = cycle.radius - radOffset;\n      const n = cycAtoms.length;\n      let i = 0;\n      const prevPos = cycAtoms[n - 1].position;\n      let currPos = cycAtoms[i].position;\n      prevVector.subVectors(prevPos, center);\n      currVector.subVectors(currPos, center);\n      const upDir = currVector.clone().cross(prevVector).normalize();\n\n      for (; i < n; ++i) {\n        const omega = prevVector.angleTo(currVector);\n        tmpDir[i] = _slerp(omega, prevVector, currVector, 0.5).normalize();\n        currPos = cycAtoms[(i + 1) % n].position;\n        prevVector.copy(currVector);\n        currVector.subVectors(currPos, center);\n      }\n\n      for (i = 0; i < n; ++i) {\n        if (cycAtoms[i].index !== currAtomIdx) {\n          continue;\n        }\n        const start = tmpDir[i];\n        const end = tmpDir[(i + 1) % n];\n        const color = colorer.getAtomColor(cycAtoms[i], parent);\n        const currAngle = start.angleTo(end);\n\n        for (let j = 0; j <= segmentsHeight; ++j) {\n          chunkPoints[j] = _slerp(currAngle, start, end, j * leprStep).multiplyScalar(cycleRad).add(center);\n        }\n\n        addChunk(chunkIdx++, color, chunkPoints, center, upDir);\n        currAtomIdx = chunksToIdx[chunkIdx];\n      }\n    }\n  }\n}\n\nexport default AromaticGroup;\n","import * as THREE from 'three';\nimport gfxutils from '../../gfxutils';\nimport AromaticGroup from './AromaticGroup';\n\nfunction _createShape(rad, parts) {\n  const pts = [];\n  for (let i = 0; i < parts; ++i) {\n    const a = -2 * i / parts * Math.PI;\n    pts.push(new THREE.Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\nconst { calcChunkMatrix } = gfxutils;\n\nclass AromaticTorusGroup extends AromaticGroup {\n  _build() {\n    const segmentsHeight = this._segmentsHeight;\n    const torusRad = this._mode.getAromRadius();\n    const radiusV = new THREE.Vector2(torusRad, torusRad);\n    const radOffset = this._mode.calcStickRadius() + 2 * torusRad;\n    const lookAtVector = new THREE.Vector3();\n    const mtc = [];\n    const geo = this._geo;\n    this._buildInner(radOffset, (chunkIdx, color, points, center, upDir) => {\n      for (let j = 0; j <= segmentsHeight; ++j) {\n        const currPoint = points[j];\n        const currDir = currPoint.clone().sub(center).cross(upDir);\n        lookAtVector.addVectors(currPoint, currDir);\n        mtc[j] = calcChunkMatrix(currPoint, lookAtVector, upDir, radiusV);\n      }\n      geo.setItem(chunkIdx, mtc);\n      geo.setColor(chunkIdx, color);\n    });\n    geo.finalize();\n  }\n\n  _makeGeoArgs() {\n    this._segmentsHeight = this._polyComplexity;\n    return [_createShape(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length];\n  }\n}\n\nexport default AromaticTorusGroup;\n","import AromaticGroup from './AromaticGroup';\n\nclass AromaticLinesGroup extends AromaticGroup {\n  _build() {\n    const geo = this._geo;\n    const radOffset = this._mode.getAromaticOffset();\n    this._buildInner(radOffset, (chunkIdx, color, points) => {\n      let prevPt = points[0];// do not replace with start\n      for (let j = 1; j <= this._segmentsHeight; ++j) {\n        const currPoint = points[j];\n        geo.setSegment(chunkIdx, j - 1, prevPt, currPoint);\n        prevPt = currPoint;\n      }\n      geo.setColor(chunkIdx, color);\n    });\n    geo.finalize();\n  }\n\n  _makeGeoArgs() {\n    this._segmentsHeight = this._mode.getAromaticArcChunks();\n    return [this._selection.chunks.length, this._segmentsHeight, true];\n  }\n}\n\nexport default AromaticLinesGroup;\n","import ChemGroup from './ChemGroup';\n\nclass ResiduesGroup extends ChemGroup {\n  raycast(raycaster, intersects) {\n    const { residues } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const chunksIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const resIdx = chunksIdc[inters[i].chunkIdx];\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    const { residues } = this._selection;\n    const resIdc = this._chunksIdc;\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      if ((res._mask & mask) !== 0) {\n        chunksList.push(i);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default ResiduesGroup;\n","import ResiduesGroup from './ResiduesGroup';\n\nclass NucleicItemGroup extends ResiduesGroup {\n  raycast(raycaster, intersects) {\n    const { residues } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const chunksIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const resIdx = chunksIdc[Math.floor(inters[i].chunkIdx / 2)];\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _build() {\n    const { residues, parent } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const stickRad = this._mode.calcStickRadius();\n    let chunkIdx = 0;\n\n    const resIdc = this._selection.chunks;\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      const color = colorer.getResidueColor(res, parent);\n      this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n    }\n    geo.finalize();\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    let chunkIdx = 0;\n    const { residues } = this._selection;\n    const resIdc = this._chunksIdc;\n\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      if ((res._mask & mask) !== 0) {\n        chunksList[chunkIdx++] = 2 * i;\n        chunksList[chunkIdx++] = 2 * i + 1;\n      }\n    }\n    return chunksList;\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const residues = frameData.getResidues();\n    const { parent } = this._selection;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const stickRad = this._mode.calcStickRadius();\n    let chunkIdx = 0;\n\n    const resIdc = this._selection.chunks;\n    for (let i = 0, n = resIdc.length; i < n; ++i) {\n      const res = residues[resIdc[i]];\n      const color = colorer.getResidueColor(res, parent);\n      this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n    }\n    geo.finishUpdate();\n  }\n}\n\nexport default NucleicItemGroup;\n","import NucleicItemGroup from './NucleicItemGroup';\n\nclass NucleicCylindersGroup extends NucleicItemGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length, this._polyComplexity];\n  }\n\n  _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n    const geo = this._geo;\n    geo.setItem(chunkIdx, cyl1, cyl2, stickRad);\n    geo.setColor(chunkIdx, color, color);\n  }\n}\n\nexport default NucleicCylindersGroup;\n","import NucleicItemGroup from './NucleicItemGroup';\n\nclass NucleicSpheresGroup extends NucleicItemGroup {\n  _makeGeoArgs() {\n    return [this._selection.chunks.length * 2, this._polyComplexity];\n  }\n\n  _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n    const geo = this._geo;\n    let idx = chunkIdx * 2;\n    geo.setItem(idx, cyl1, stickRad);\n    geo.setColor(idx, color);\n    idx++;\n    geo.setItem(idx, cyl2, stickRad);\n    geo.setColor(idx, color);\n  }\n}\n\nexport default NucleicSpheresGroup;\n","\n/*\nSmooth.js version 0.1.7\n\nTurn arrays into smooth functions.\n\nCopyright 2012 Spencer Cohen\nLicensed under MIT license (see \"Smooth.js MIT license.txt\")\n*/\n\n/*Constants (these are accessible by Smooth.WHATEVER in user space)\n*/\n\n(function() {\n  var AbstractInterpolator, CubicInterpolator, Enum, LinearInterpolator, NearestInterpolator, PI, SincFilterInterpolator, Smooth, clipClamp, clipMirror, clipPeriodic, defaultConfig, getColumn, getType, isValidNumber, k, makeLanczosWindow, makeScaledFunction, makeSincKernel, normalizeScaleTo, shallowCopy, sin, sinc, v, validateNumber, validateVector,\n    __hasProp = Object.prototype.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype; return child; };\n\n  Enum = {\n    /*Interpolation methods\n    */\n    METHOD_NEAREST: 'nearest',\n    METHOD_LINEAR: 'linear',\n    METHOD_CUBIC: 'cubic',\n    METHOD_LANCZOS: 'lanczos',\n    METHOD_SINC: 'sinc',\n    /*Input clipping modes\n    */\n    CLIP_CLAMP: 'clamp',\n    CLIP_ZERO: 'zero',\n    CLIP_PERIODIC: 'periodic',\n    CLIP_MIRROR: 'mirror',\n    /* Constants for control over the cubic interpolation tension\n    */\n    CUBIC_TENSION_DEFAULT: 0,\n    CUBIC_TENSION_CATMULL_ROM: 0\n  };\n\n  defaultConfig = {\n    method: Enum.METHOD_CUBIC,\n    cubicTension: Enum.CUBIC_TENSION_DEFAULT,\n    clip: Enum.CLIP_CLAMP,\n    scaleTo: 0,\n    sincFilterSize: 2,\n    sincWindow: void 0\n  };\n\n  /*Index clipping functions\n  */\n\n  clipClamp = function(i, n) {\n    return Math.max(0, Math.min(i, n - 1));\n  };\n\n  clipPeriodic = function(i, n) {\n    i = i % n;\n    if (i < 0) i += n;\n    return i;\n  };\n\n  clipMirror = function(i, n) {\n    var period;\n    period = 2 * (n - 1);\n    i = clipPeriodic(i, period);\n    if (i > n - 1) i = period - i;\n    return i;\n  };\n\n  /*\n  Abstract scalar interpolation class which provides common functionality for all interpolators\n  \n  Subclasses must override interpolate().\n  */\n\n  AbstractInterpolator = (function() {\n\n    function AbstractInterpolator(array, config) {\n      this.array = array.slice(0);\n      this.length = this.array.length;\n      if (!(this.clipHelper = {\n        clamp: this.clipHelperClamp,\n        zero: this.clipHelperZero,\n        periodic: this.clipHelperPeriodic,\n        mirror: this.clipHelperMirror\n      }[config.clip])) {\n        throw \"Invalid clip: \" + config.clip;\n      }\n    }\n\n    AbstractInterpolator.prototype.getClippedInput = function(i) {\n      if ((0 <= i && i < this.length)) {\n        return this.array[i];\n      } else {\n        return this.clipHelper(i);\n      }\n    };\n\n    AbstractInterpolator.prototype.clipHelperClamp = function(i) {\n      return this.array[clipClamp(i, this.length)];\n    };\n\n    AbstractInterpolator.prototype.clipHelperZero = function(i) {\n      return 0;\n    };\n\n    AbstractInterpolator.prototype.clipHelperPeriodic = function(i) {\n      return this.array[clipPeriodic(i, this.length)];\n    };\n\n    AbstractInterpolator.prototype.clipHelperMirror = function(i) {\n      return this.array[clipMirror(i, this.length)];\n    };\n\n    AbstractInterpolator.prototype.interpolate = function(t) {\n      throw 'Subclasses of AbstractInterpolator must override the interpolate() method.';\n    };\n\n    return AbstractInterpolator;\n\n  })();\n\n  NearestInterpolator = (function(_super) {\n\n    __extends(NearestInterpolator, _super);\n\n    function NearestInterpolator() {\n      NearestInterpolator.__super__.constructor.apply(this, arguments);\n    }\n\n    NearestInterpolator.prototype.interpolate = function(t) {\n      return this.getClippedInput(Math.round(t));\n    };\n\n    return NearestInterpolator;\n\n  })(AbstractInterpolator);\n\n  LinearInterpolator = (function(_super) {\n\n    __extends(LinearInterpolator, _super);\n\n    function LinearInterpolator() {\n      LinearInterpolator.__super__.constructor.apply(this, arguments);\n    }\n\n    LinearInterpolator.prototype.interpolate = function(t) {\n      var k;\n      k = Math.floor(t);\n      t -= k;\n      return (1 - t) * this.getClippedInput(k) + t * this.getClippedInput(k + 1);\n    };\n\n    return LinearInterpolator;\n\n  })(AbstractInterpolator);\n\n  CubicInterpolator = (function(_super) {\n\n    __extends(CubicInterpolator, _super);\n\n    function CubicInterpolator(array, config) {\n      this.tangentFactor = 1 - Math.max(-1, Math.min(1, config.cubicTension));\n      CubicInterpolator.__super__.constructor.apply(this, arguments);\n    }\n\n    CubicInterpolator.prototype.getTangent = function(k) {\n      return this.tangentFactor * (this.getClippedInput(k + 1) - this.getClippedInput(k - 1)) / 2;\n    };\n\n    CubicInterpolator.prototype.interpolate = function(t) {\n      var k, m, p, t2, t3;\n      k = Math.floor(t);\n      m = [this.getTangent(k), this.getTangent(k + 1)];\n      p = [this.getClippedInput(k), this.getClippedInput(k + 1)];\n      t -= k;\n      t2 = t * t;\n      t3 = t * t2;\n      return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n    };\n\n    return CubicInterpolator;\n\n  })(AbstractInterpolator);\n\n  sin = Math.sin, PI = Math.PI;\n\n  sinc = function(x) {\n    if (x === 0) {\n      return 1;\n    } else {\n      return sin(PI * x) / (PI * x);\n    }\n  };\n\n  makeLanczosWindow = function(a) {\n    return function(x) {\n      return sinc(x / a);\n    };\n  };\n\n  makeSincKernel = function(window) {\n    return function(x) {\n      return sinc(x) * window(x);\n    };\n  };\n\n  SincFilterInterpolator = (function(_super) {\n\n    __extends(SincFilterInterpolator, _super);\n\n    function SincFilterInterpolator(array, config) {\n      SincFilterInterpolator.__super__.constructor.apply(this, arguments);\n      this.a = config.sincFilterSize;\n      if (!config.sincWindow) throw 'No sincWindow provided';\n      this.kernel = makeSincKernel(config.sincWindow);\n    }\n\n    SincFilterInterpolator.prototype.interpolate = function(t) {\n      var k, n, sum, _ref, _ref2;\n      k = Math.floor(t);\n      sum = 0;\n      for (n = _ref = k - this.a + 1, _ref2 = k + this.a; _ref <= _ref2 ? n <= _ref2 : n >= _ref2; _ref <= _ref2 ? n++ : n--) {\n        sum += this.kernel(t - n) * this.getClippedInput(n);\n      }\n      return sum;\n    };\n\n    return SincFilterInterpolator;\n\n  })(AbstractInterpolator);\n\n  getColumn = function(arr, i) {\n    var row, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = arr.length; _i < _len; _i++) {\n      row = arr[_i];\n      _results.push(row[i]);\n    }\n    return _results;\n  };\n\n  makeScaledFunction = function(f, baseScale, scaleRange) {\n    var scaleFactor, translation;\n    if (scaleRange.join === '0,1') {\n      return f;\n    } else {\n      scaleFactor = baseScale / (scaleRange[1] - scaleRange[0]);\n      translation = scaleRange[0];\n      return function(t) {\n        return f(scaleFactor * (t - translation));\n      };\n    }\n  };\n\n  getType = function(x) {\n    return Object.prototype.toString.call(x).slice('[object '.length, -1);\n  };\n\n  validateNumber = function(n) {\n    if (isNaN(n)) throw 'NaN in Smooth() input';\n    if (getType(n) !== 'Number') throw 'Non-number in Smooth() input';\n    if (!isFinite(n)) throw 'Infinity in Smooth() input';\n  };\n\n  validateVector = function(v, dimension) {\n    var n, _i, _len;\n    if (getType(v) !== 'Array') throw 'Non-vector in Smooth() input';\n    if (v.length !== dimension) throw 'Inconsistent dimension in Smooth() input';\n    for (_i = 0, _len = v.length; _i < _len; _i++) {\n      n = v[_i];\n      validateNumber(n);\n    }\n  };\n\n  isValidNumber = function(n) {\n    return (getType(n) === 'Number') && isFinite(n) && !isNaN(n);\n  };\n\n  normalizeScaleTo = function(s) {\n    var invalidErr;\n    invalidErr = \"scaleTo param must be number or array of two numbers\";\n    switch (getType(s)) {\n      case 'Number':\n        if (!isValidNumber(s)) throw invalidErr;\n        s = [0, s];\n        break;\n      case 'Array':\n        if (s.length !== 2) throw invalidErr;\n        if (!(isValidNumber(s[0]) && isValidNumber(s[1]))) throw invalidErr;\n        break;\n      default:\n        throw invalidErr;\n    }\n    return s;\n  };\n\n  shallowCopy = function(obj) {\n    var copy, k, v;\n    copy = {};\n    for (k in obj) {\n      if (!__hasProp.call(obj, k)) continue;\n      v = obj[k];\n      copy[k] = v;\n    }\n    return copy;\n  };\n\n  Smooth = function(arr, config) {\n    var baseDomainEnd, dimension, i, interpolator, interpolatorClass, interpolators, k, n, properties, smoothFunc, v;\n    if (config == null) config = {};\n    properties = {};\n    config = shallowCopy(config);\n    properties.config = shallowCopy(config);\n    if (config.scaleTo == null) config.scaleTo = config.period;\n    if (config.sincFilterSize == null) {\n      config.sincFilterSize = config.lanczosFilterSize;\n    }\n    for (k in defaultConfig) {\n      if (!__hasProp.call(defaultConfig, k)) continue;\n      v = defaultConfig[k];\n      if (config[k] == null) config[k] = v;\n    }\n    if (!(interpolatorClass = {\n      nearest: NearestInterpolator,\n      linear: LinearInterpolator,\n      cubic: CubicInterpolator,\n      lanczos: SincFilterInterpolator,\n      sinc: SincFilterInterpolator\n    }[config.method])) {\n      throw \"Invalid method: \" + config.method;\n    }\n    if (config.method === 'lanczos') {\n      config.sincWindow = makeLanczosWindow(config.sincFilterSize);\n    }\n    if (arr.length < 2) throw 'Array must have at least two elements';\n    properties.count = arr.length;\n    smoothFunc = (function() {\n      var _i, _j, _len, _len2;\n      switch (getType(arr[0])) {\n        case 'Number':\n          properties.dimension = 'scalar';\n          if (Smooth.deepValidation) {\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\n              n = arr[_i];\n              validateNumber(n);\n            }\n          }\n          interpolator = new interpolatorClass(arr, config);\n          return function(t) {\n            return interpolator.interpolate(t);\n          };\n        case 'Array':\n          properties.dimension = dimension = arr[0].length;\n          if (!dimension) throw 'Vectors must be non-empty';\n          if (Smooth.deepValidation) {\n            for (_j = 0, _len2 = arr.length; _j < _len2; _j++) {\n              v = arr[_j];\n              validateVector(v, dimension);\n            }\n          }\n          interpolators = (function() {\n            var _results;\n            _results = [];\n            for (i = 0; 0 <= dimension ? i < dimension : i > dimension; 0 <= dimension ? i++ : i--) {\n              _results.push(new interpolatorClass(getColumn(arr, i), config));\n            }\n            return _results;\n          })();\n          return function(t) {\n            var interpolator, _k, _len3, _results;\n            _results = [];\n            for (_k = 0, _len3 = interpolators.length; _k < _len3; _k++) {\n              interpolator = interpolators[_k];\n              _results.push(interpolator.interpolate(t));\n            }\n            return _results;\n          };\n        default:\n          throw \"Invalid element type: \" + (getType(arr[0]));\n      }\n    })();\n    if (config.clip === 'periodic') {\n      baseDomainEnd = arr.length;\n    } else {\n      baseDomainEnd = arr.length - 1;\n    }\n    config.scaleTo || (config.scaleTo = baseDomainEnd);\n    properties.domain = normalizeScaleTo(config.scaleTo);\n    smoothFunc = makeScaledFunction(smoothFunc, baseDomainEnd, properties.domain);\n    properties.domain.sort();\n    /*copy properties\n    */\n    for (k in properties) {\n      if (!__hasProp.call(properties, k)) continue;\n      v = properties[k];\n      smoothFunc[k] = v;\n    }\n    return smoothFunc;\n  };\n\n  for (k in Enum) {\n    if (!__hasProp.call(Enum, k)) continue;\n    v = Enum[k];\n    Smooth[k] = v;\n  }\n\n  Smooth.deepValidation = true;\n\n  (typeof exports !== \"undefined\" && exports !== null ? exports : window).Smooth = Smooth;\n\n}).call(this);\n","import * as THREE from 'three';\nimport { Smooth } from '../../../../vendor/js/Smooth';\nimport gfxutils from '../../gfxutils';\nimport chem from '../../../chem';\n\nconst { ResidueType } = chem;\n\nconst calcMatrix = gfxutils.calcChunkMatrix;\n\nfunction _buildStructureInterpolator(points, tension) {\n  const path = Smooth(points, {\n    method: Smooth.METHOD_CUBIC,\n    clip: Smooth.CLIP_CLAMP,\n    cubicTension: tension,\n    scaleTo: 1,\n  });\n\n  return function (t, argTrans) {\n    let transformT = argTrans;\n    if (transformT === null) {\n      // map our range to the [second .. last but one]\n      transformT = function (tt) {\n        return (tt * ((points.length - 1) - 2) + 1) / (points.length - 1);\n      };\n    }\n    const newt = transformT(t);\n    const ans = path(newt);\n    return new THREE.Vector3(ans[0], ans[1], ans[2]);\n  };\n}\n\nfunction _addPoints(centerPoints, topPoints, idx, residue) {\n  if (!residue._isValid) {\n    centerPoints[idx] = centerPoints[idx - 1];\n    topPoints[idx] = topPoints[idx - 1];\n    return;\n  }\n  const cp = residue._controlPoint;\n  centerPoints[idx] = [cp.x, cp.y, cp.z];\n  const tp = cp.clone().add(residue._wingVector);\n  topPoints[idx] = [tp.x, tp.y, tp.z];\n}\n\nfunction _addPointsForLoneResidue(centerPoints, topPoints, idx, residue) {\n  const nucleic = (residue._type.flags & ResidueType.Flags.NUCLEIC) !== 0;\n  const nameFrom = nucleic ? 'C5\\'' : 'N';\n  const nameTo = nucleic ? 'C3\\'' : 'C';\n\n  let posFrom;\n  let posTo;\n  residue.forEachAtom((atom) => {\n    const name = atom.getVisualName();\n    if (!posFrom && name === nameFrom) {\n      posFrom = atom.position;\n    } else if (!posTo && name === nameTo) {\n      posTo = atom.position;\n    }\n  });\n\n  // provide a fallback for unknown residues\n  if (!(posFrom && posTo)) {\n    posFrom = residue._firstAtom.position;\n    posTo = residue._lastAtom.position;\n  }\n\n  if (posFrom && posTo) {\n    const shift = posTo.clone().sub(posFrom);\n\n    const wing = residue._wingVector;\n    const cp = residue._controlPoint;\n    const tp = cp.clone().add(wing);\n\n    const cpPrev = cp.clone().sub(shift);\n    const tpPrev = cpPrev.clone().add(wing);\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n\n    centerPoints[idx] = [cp.x, cp.y, cp.z];\n    topPoints[idx] = [tp.x, tp.y, tp.z];\n    ++idx;\n\n    const cpNext = cp.clone().add(shift);\n    const tpNext = cpNext.clone().add(wing);\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n    ++idx;\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n  }\n}\n\nfunction _calcPoints(residues, firstIdx, lastIdx, boundaries) {\n  const left = boundaries.start;\n  const right = boundaries.end;\n  function _prevIdx(idx) {\n    return idx > left && residues[idx - 1]._isValid ? idx - 1 : idx;\n  }\n  function _nextIdx(idx) {\n    return idx < right && residues[idx + 1]._isValid ? idx + 1 : idx;\n  }\n\n  const topPoints = [];\n  const centerPoints = [];\n  let arrIdx = 0;\n  function _extrapolate2(currIdx, otherIdx) {\n    const cp = residues[currIdx]._controlPoint.clone().lerp(residues[otherIdx]._controlPoint, -0.25);\n    const tp = cp.clone().add(residues[currIdx]._wingVector);\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n  }\n\n  // a single disconnected residue\n  const prevIdx = _prevIdx(firstIdx);\n  const nextIdx = _nextIdx(lastIdx);\n  if (prevIdx === nextIdx) {\n    _addPointsForLoneResidue(centerPoints, topPoints, arrIdx, residues[firstIdx]);\n    return { centerPoints, topPoints };\n  }\n\n  // Two points (prev-prev and next-next) are added to support edge conditions for cubic splines, they are ignored\n  // Another two (prev and next) were added to support the outside of the sub chain\n\n  // prev and prev-prev\n  if (firstIdx === prevIdx) {\n    // do the extrapolation\n    _extrapolate2(firstIdx, _nextIdx(firstIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[_prevIdx(prevIdx)]);\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[prevIdx]);\n  }\n\n  // main loop\n  for (let idx = firstIdx; idx <= lastIdx; ++idx) {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[idx]);\n  }\n\n  // next and next-next\n  if (nextIdx === _nextIdx(nextIdx)) {\n    // do the extrapolation\n    _extrapolate2(lastIdx, _prevIdx(lastIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[nextIdx]);\n    _addPoints(centerPoints, topPoints, arrIdx, residues[_nextIdx(nextIdx)]);\n  }\n  return { centerPoints, topPoints };\n}\n\nclass CartoonHelper {\n  constructor(residues, startIdx, endIdx, segmentsCount, tension, boundaries) {\n    const pointsArrays = _calcPoints(residues, startIdx, endIdx, boundaries);\n    this._topInterp = _buildStructureInterpolator(pointsArrays.topPoints, tension);\n    this._centerInterp = _buildStructureInterpolator(pointsArrays.centerPoints, tension);\n\n    this._shift = 0.5 / (endIdx - startIdx + 2);\n    this._valueStep = (1.0 - 2 * this._shift) / (2 * (endIdx - startIdx + 1) * (segmentsCount - 1));\n    this._segmentsCount = segmentsCount;\n  }\n\n  prepareMatrices(idx, firstRad, secondRad) {\n    const mtcCount = this._segmentsCount;\n    const outMtc = new Array(mtcCount);\n    const currRad = new THREE.Vector2(0, 0);\n\n    const topInterp = this._topInterp;\n    const cenInterp = this._centerInterp;\n\n    let currentValue = this._shift + this._valueStep * (mtcCount - 1) * idx;\n\n    for (let mtxIdx = 0; mtxIdx < mtcCount; ++mtxIdx) {\n      const lerpVal = Math.min(1.0, mtxIdx / (mtcCount - 1));\n      currRad.lerpVectors(firstRad, secondRad, lerpVal);\n\n      const currTop = topInterp(currentValue, null);\n      const currCenter = cenInterp(currentValue, null);\n      currentValue += this._valueStep;\n      const nextCenter = cenInterp(currentValue, null);\n\n      outMtc[mtxIdx] = calcMatrix(currCenter.clone(), nextCenter.clone(), currTop.clone().sub(currCenter), currRad);\n    }\n\n    return outMtc;\n  }\n}\n\nexport default CartoonHelper;\n","import * as THREE from 'three';\nimport ResiduesGroup from './ResiduesGroup';\nimport CartoonHelper from './CartoonHelper';\n\nfunction _createShape(rad, parts) {\n  const pts = [];\n\n  for (let i = 0; i < parts; ++i) {\n    // starts from pi/2 because it's important that points are lied on the angles of arrows (visual issues if not)\n    const a = Math.PI / 2.0 - 2 * Math.PI * i / parts;\n\n    pts.push(new THREE.Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\n\nfunction _loopThrough(subDiv, residues, segmentsHeight, tension, mode, callback) {\n  for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n    const subs = subDiv[subDivI].arr;\n    const { boundaries } = subDiv[subDivI];\n    for (let i = 0, n = subs.length; i < n; ++i) {\n      const idc = [subs[i].start, subs[i].end];\n      const matrixHelper = new CartoonHelper(residues, idc[0], idc[1], segmentsHeight, tension, boundaries);\n      let prevLast = null;\n      const startIdx = subs[i].start * 2;\n      const endIdx = subs[i].end * 2 + 1;\n      let prevSecondRad = mode.getResidueRadius(residues[0], 0);\n      for (let idx = startIdx; idx <= endIdx; ++idx) {\n        const resIdx = (idx / 2 | 0);\n        const currRes = residues[resIdx];\n        const firstRad = mode.getResidueRadius(currRes, idx % 2);\n        const secondRad = mode.getResidueRadius(currRes, 1 + (idx % 2));\n\n        const mtc = matrixHelper.prepareMatrices(idx - idc[0] * 2, firstRad, secondRad);\n        mtc.unshift(prevLast === null ? mtc[0] : prevLast);\n\n        // Slope - radius is changed along this residue part\n        const hasSlope = (firstRad.x !== secondRad.x) || (firstRad.y !== secondRad.y);\n        // Cut - end radius of previous part not equal to start radius of this part. First section of this part lies in the orthogonal plane\n        const hasCut = (firstRad.x !== prevSecondRad.x) || (firstRad.y !== prevSecondRad.y);\n\n        callback(currRes, mtc, hasSlope, hasCut);\n\n        prevLast = mtc[segmentsHeight];\n        prevSecondRad = secondRad;\n      }\n    }\n  }\n}\n\nclass ResiduesSubseqGroup extends ResiduesGroup {\n  _makeGeoArgs() {\n    const cmpMultiplier = this._mode.getHeightSegmentsRatio();\n    this._segmentsHeight = this._polyComplexity * cmpMultiplier | 0;\n    return [_createShape(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length * 2];\n  }\n\n  _build() {\n    const { residues, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const tension = mode.getTension();\n    const geo = this._geo;\n    let chunkIdx = 0;\n    const chunkIdc = [];\n    _loopThrough(this._selection.subdivs, residues, this._segmentsHeight, tension, mode, (currRes, mtc, hasSlope = false, hasCut = false) => {\n      const color = colorer.getResidueColor(currRes, parent);\n      chunkIdc[chunkIdx] = currRes._index;\n      geo.setItem(chunkIdx, mtc, hasSlope, hasCut);\n      geo.setColor(chunkIdx++, color);\n    });\n    this._chunksIdc = chunkIdc;\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const { parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const tension = mode.getTension();\n    const geo = this._geo;\n    const frameRes = frameData.getResidues();\n    let chunkIdx = 0;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    _loopThrough(this._selection.subdivs, frameRes, this._segmentsHeight, tension, mode, (currRes, mtc) => {\n      geo.setItem(chunkIdx, mtc);\n      if (updateColor) {\n        geo.setColor(chunkIdx, colorer.getResidueColor(currRes, parent));\n      }\n      chunkIdx++;\n    });\n    geo.finalize();\n  }\n}\n\nexport default ResiduesSubseqGroup;\n","import ChemGroup from './ChemGroup';\n\nclass ResiduesTraceGroup extends ChemGroup {\n  _makeGeoArgs() {\n    const subDiv = this._selection.subdivs;\n    let chunksCount = 0;\n    for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n      const subs = subDiv[subDivI].arr;\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        chunksCount += subs[i].end - subs[i].start;\n      }\n    }\n    return [chunksCount, this._polyComplexity];\n  }\n\n  _build() {\n    const { residues, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    let chunkIdx = 0;\n    const chunkIdc = [];\n    const subDiv = this._selection.subdivs;\n    const stickRad = mode.calcStickRadius();\n\n    for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n      const subs = subDiv[subDivI].arr;\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        const startIdx = subs[i].start;\n        const endIdx = subs[i].end;\n        let prevRes = residues[startIdx];\n        for (let idx = startIdx + 1; idx <= endIdx; ++idx) {\n          const currRes = residues[idx];\n          chunkIdc[chunkIdx] = { first: prevRes._index, second: currRes._index };\n          geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n          geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n          chunkIdx++;\n          prevRes = currRes;\n        }\n      }\n    }\n\n    this._chunksIdc = chunkIdc;\n    geo.finalize();\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n\n    const residues = frameData.getResidues();\n    const { parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    let chunkIdx = 0;\n    const subDiv = this._selection.subdivs;\n    const stickRad = mode.calcStickRadius();\n    const updateColor = frameData.needsColorUpdate(colorer);\n\n    for (let subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n      const subs = subDiv[subDivI].arr;\n      for (let i = 0, n = subs.length; i < n; ++i) {\n        const startIdx = subs[i].start;\n        const endIdx = subs[i].end;\n        let prevRes = residues[startIdx];\n        for (let idx = startIdx + 1; idx <= endIdx; ++idx) {\n          const currRes = residues[idx];\n          geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n          if (updateColor) {\n            geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n          }\n          chunkIdx++;\n          prevRes = currRes;\n        }\n      }\n    }\n\n    geo.finalize();\n  }\n\n  raycast(raycaster, intersects) {\n    const inters = [];\n    const { residues } = this._selection;\n    this._mesh.raycast(raycaster, inters);\n    const chunksToIdx = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const { chunkIdx } = inters[i];\n      const chunk = chunksToIdx[Math.floor(chunkIdx / 2)];\n      const resIdx = chunkIdx % 2 === 0 ? chunk.first : chunk.second;\n      if (resIdx < residues.length) {\n        inters[i].residue = residues[resIdx];\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask) {\n    const chunksList = [];\n    const chunksToIdx = this._chunksIdc;\n    const { residues } = this._selection;\n    for (let i = 0, n = chunksToIdx.length; i < n; ++i) {\n      const chunk = chunksToIdx[i];\n      if (residues[chunk.first]._mask & mask) {\n        chunksList.push(i * 2);\n      }\n      if (residues[chunk.second]._mask & mask) {\n        chunksList.push(i * 2 + 1);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default ResiduesTraceGroup;\n","import ChemGroup from './ChemGroup';\nimport Bond from '../../../chem/Bond';\n\nfunction getCylinderCount(bondOrder) {\n  return bondOrder < 2 ? 1 : bondOrder;\n}\n\nclass BondsGroup extends ChemGroup {\n  _makeGeoArgs() {\n    const drawMultiple = this._mode.drawMultiorderBonds();\n    const showAromatic = this._mode.showAromaticLoops();\n    const bondsIdc = this._selection.chunks;\n    const { bonds } = this._selection;\n    let bondsCount = 0;\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      bondsCount += this.getBondOrder(bonds[bondsIdc[i]], drawMultiple, showAromatic);\n    }\n    return [bondsCount, this._polyComplexity];\n  }\n\n  getBondOrder(bond, drawMultiple, showAromatic) {\n    let bondOrder = 1;\n    if (drawMultiple && (!showAromatic || bond._type !== Bond.BondType.AROMATIC)) {\n      bondOrder = getCylinderCount(bond._order);\n    }\n    return bondOrder;\n  }\n\n  raycast(raycaster, intersects) {\n    const { bonds } = this._selection;\n    const inters = [];\n    this._mesh.raycast(raycaster, inters);\n    const bondsIdc = this._chunksIdc;\n    // process inters array - arr object references\n    for (let i = 0, n = inters.length; i < n; ++i) {\n      if (!inters[i].hasOwnProperty('chunkIdx')) {\n        continue;\n      }\n      const { chunkIdx } = inters[i];\n      const bondIdx = bondsIdc[Math.floor(chunkIdx / 2)];\n      if (bondIdx < bonds.length) {\n        const bond = bonds[bondIdx];\n        inters[i].atom = chunkIdx % 2 === 0 ? bond._left : bond._right;\n        intersects.push(inters[i]);\n      }\n    }\n  }\n\n  _calcChunksList(mask, innerOnly) {\n    const chunksList = [];\n    const { bonds } = this._selection;\n    const chunksToIdx = this._chunksIdc;\n    for (let i = 0, n = chunksToIdx.length; i < n; ++i) {\n      const bond = bonds[chunksToIdx[i]];\n      if ((bond._left.mask & mask) && (!innerOnly || (bond._right.mask & mask))) {\n        chunksList.push(2 * i);\n      }\n      if ((bond._right.mask & mask) && (!innerOnly || (bond._left.mask & mask))) {\n        chunksList.push(2 * i + 1);\n      }\n    }\n    return chunksList;\n  }\n}\n\nexport default BondsGroup;\n","import * as THREE from 'three';\nimport BondsGroup from './BondsGroup';\n\nclass BondsCylinderGroup extends BondsGroup {\n  _build() {\n    const bondsIdc = this._selection.chunks;\n    const { bonds, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const stickRad = mode.calcStickRadius();\n    const emptyOffset = mode.calcSpaceFraction();\n    let normDir;\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const chunksToIdx = [];\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = atom1.position;\n      const a2Pos = atom2.position;\n      normDir = bond.calcNormalDir();\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n      const minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n      const dist = 2 * minRad / order;\n      const currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n\n      for (let j = 0; j < order; ++j) {\n        const scale = dist * (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        chunksToIdx[currBondIdx] = bond._index;\n        leftPos.copy(a1Pos);\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.copy(a2Pos);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n        geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n      }\n    }\n\n    geo.finalize();\n    this._chunksIdc = chunksToIdx;\n  }\n\n  updateToFrame(frameData) {\n    const bondsIdc = this._selection.chunks;\n    const { bonds } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const stickRad = mode.calcStickRadius();\n    const emptyOffset = mode.calcSpaceFraction();\n    let normDir;\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = frameData.getAtomPos(atom1.index).clone();\n      const a2Pos = frameData.getAtomPos(atom2.index);\n      normDir = bond.calcNormalDir();\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n      const minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n      const dist = 2 * minRad / order;\n      const currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n\n      for (let j = 0; j < order; ++j) {\n        const scale = dist * (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        leftPos.copy(a1Pos);\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.copy(a2Pos);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n        if (updateColor) {\n          geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n        }\n        currBondIdx++;\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default BondsCylinderGroup;\n","import * as THREE from 'three';\nimport BondsGroup from './BondsGroup';\n\nconst STEP_SIZE = 0.15;\n\nclass BondsLinesGroup extends BondsGroup {\n  _build() {\n    const bondsIdc = this._selection.chunks;\n    const { bonds, parent } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const bondDir = new THREE.Vector3();\n\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const chunksToIdx = [];\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = atom1.position;\n      const a2Pos = atom2.position;\n      const a1Hangs = atom1.bonds.length === 1;\n      const a2Hangs = atom2.bonds.length === 1;\n      bondDir.subVectors(a2Pos, a1Pos);\n      const len = bondDir.length();\n      const normDir = bond.calcNormalDir();\n\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n\n      for (let j = 0; j < order; ++j) {\n        leftPos.copy(a1Pos);\n        rightPos.copy(a2Pos);\n        let scale = (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        chunksToIdx[currBondIdx] = bond._index;\n        if (order === 2 && (!a1Hangs && !a2Hangs)) {\n          scale -= 0.5;\n          scale *= -1;\n        }\n\n        if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n          leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / (len));\n          rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / (len));\n        }\n\n        scale *= STEP_SIZE;\n\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos);\n        geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n      }\n    }\n    geo.finalize();\n    this._chunksIdc = chunksToIdx;\n  }\n\n  updateToFrame(frameData) {\n    // This method looks like a copy paste. However, it\n    // was decided to postpone animation refactoring until GFX is fixed.\n    const bondsIdc = this._selection.chunks;\n    const { bonds } = this._selection;\n    const mode = this._mode;\n    const colorer = this._colorer;\n    const geo = this._geo;\n    const drawMultiple = mode.drawMultiorderBonds();\n    const showAromatic = mode.showAromaticLoops();\n\n    const bondDir = new THREE.Vector3();\n\n    const leftPos = new THREE.Vector3();\n    const rightPos = new THREE.Vector3();\n    let currBondIdx = 0;\n    const updateColor = frameData.needsColorUpdate(colorer);\n    for (let i = 0, n = bondsIdc.length; i < n; ++i) {\n      const bond = bonds[bondsIdc[i]];\n      const atom1 = bond._left;\n      const atom2 = bond._right;\n      const a1Pos = frameData.getAtomPos(atom1.index).clone();\n      const a2Pos = frameData.getAtomPos(atom2.index);\n      const a1Hangs = atom1.bonds.length === 1;\n      const a2Hangs = atom2.bonds.length === 1;\n      bondDir.subVectors(a2Pos, a1Pos);\n      const len = bondDir.length();\n      const normDir = bond.calcNormalDir();\n\n      const order = this.getBondOrder(bond, drawMultiple, showAromatic);\n\n      for (let j = 0; j < order; ++j) {\n        leftPos.copy(a1Pos);\n        rightPos.copy(a2Pos);\n        let scale = (order % 2 === 0\n          ? (((j / 2) | 0) + 0.5) * (1 - 2 * (j % 2))\n          : (((j + 1) / 2) | 0) * (-1 + 2 * (j % 2)));\n        if (order === 2 && (!a1Hangs && !a2Hangs)) {\n          scale -= 0.5;\n          scale *= -1;\n        }\n\n        if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n          leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / (len));\n          rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / (len));\n        }\n\n        scale *= STEP_SIZE;\n\n        leftPos.addScaledVector(normDir, scale);\n        rightPos.addScaledVector(normDir, scale);\n        geo.setItem(currBondIdx, leftPos, rightPos);\n        if (updateColor) {\n          geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n        }\n        currBondIdx++;\n      }\n    }\n    geo.finalize();\n  }\n}\n\nexport default BondsLinesGroup;\n","import AtomsSphereGroup from './AtomsSphereGroup';\nimport AtomsSurfaceGroup from './AtomsSurfaceGroup';\nimport AtomsSASSESGroupStub from './AtomsSASSESGroupStub';\nimport AtomsTextGroup from './AtomsTextGroup';\nimport AromaticTorusGroup from './AromaticTorusGroup';\nimport AromaticLinesGroup from './AromaticLinesGroup';\nimport NucleicCylindersGroup from './NucleicCylindersGroup';\nimport NucleicSpheresGroup from './NucleicSpheresGroup';\nimport ResiduesSubseqGroup from './ResiduesSubseqGroup';\nimport ResiduesTraceGroup from './ResiduesTraceGroup';\nimport BondsCylinderGroup from './BondsCylinderGroup';\nimport BondsLinesGroup from './BondsLinesGroup';\n\nexport default {\n  AtomsSphereGroup,\n  AtomsSurfaceGroup,\n  AtomsSASSESGroupStub,\n  AtomsTextGroup,\n  AromaticTorusGroup,\n  AromaticLinesGroup,\n  NucleicCylindersGroup,\n  NucleicSpheresGroup,\n  ResiduesSubseqGroup,\n  ResiduesTraceGroup,\n  BondsCylinderGroup,\n  BondsLinesGroup,\n};\n","import RCGroup from '../../RCGroup';\n\nclass AtomsProcessor extends RCGroup {\n  constructor(AtomsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    this._mode = mode;\n    const atoms = complex.getAtoms();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      const atomsIdc = [];\n      let atomCount = 0;\n      component.forEachAtom((atom) => {\n        if (!self._checkAtom(atom, mask)) {\n          return;\n        }\n        atomsIdc[atomCount++] = atom.index;\n      });\n      if (atomCount === 0) {\n        return;\n      }\n      const atomsGroup = new AtomsGroup(geoParams, {\n        atoms,\n        chunks: atomsIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n  }\n\n  _checkAtom(atom, mask) {\n    return atom.mask & mask;\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default AtomsProcessor;\n","import AtomsProcessor from './AtomsProcessor';\n\nclass OrphanAtomsProcessor extends AtomsProcessor {\n  _checkAtom(atom, mask) {\n    if (!(atom.mask & mask)) {\n      return false;\n    }\n\n    const { bonds } = atom;\n    for (let i = 0, n = bonds.length; i < n; ++i) {\n      if ((bonds[i]._left.mask & mask) && (bonds[i]._right.mask & mask)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nexport default OrphanAtomsProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass ResiduesProcessor extends RCGroup {\n  constructor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const residues = complex.getResidues();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      let chunksCount = 0;\n      const resIdc = [];\n      component.forEachResidue((residue) => {\n        if (self._checkResidue(residue, mask)) {\n          resIdc[chunksCount++] = residue._index;\n        }\n      });\n\n      if (chunksCount === 0) {\n        return;\n      }\n      const residuesGroup = new ResidueGroup(geoParams, {\n        residues,\n        chunks: resIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n  }\n\n  checkResidue(residue, mask) {\n    return residue._mask & mask;\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default ResiduesProcessor;\n","import ResidueProcessor from './ResiduesProcessor';\n\nclass NucleicProcessor extends ResidueProcessor {\n  _checkResidue(residue, mask) {\n    return mask & residue._mask && residue._cylinders !== null;\n  }\n}\nexport default NucleicProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass SubseqsProcessor extends RCGroup {\n  constructor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const residues = complex.getResidues();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      const subDivs = component.getMaskedSubdivSequences(mask);\n\n      let chunksCount = 0;\n      const resIdc = [];\n      for (let subDivI = 0, subDivN = subDivs.length; subDivI < subDivN; ++subDivI) {\n        const subs = subDivs[subDivI].arr;\n        for (let i = 0, n = subs.length; i < n; ++i) {\n          for (let j = subs[i].start, jEnd = subs[i].end; j <= jEnd; ++j) {\n            resIdc[chunksCount++] = residues[j]._index;\n          }\n        }\n      }\n\n      if (chunksCount === 0) {\n        return;\n      }\n      const residuesGroup = new ResidueGroup(geoParams, {\n        residues,\n        chunks: resIdc,\n        subdivs: subDivs,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default SubseqsProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass BondsProcessor extends RCGroup {\n  constructor(BondsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const bonds = complex.getBonds();\n    const transforms = complex.getTransforms();\n\n    complex.forEachComponent((component) => {\n      const bondsIdc = [];\n      let bondsCount = 0;\n      component.forEachBond((bond) => {\n        const atom1 = bond._left;\n        const atom2 = bond._right;\n        if (!(atom1.mask & mask) || !(atom2.mask & mask)) {\n          return;\n        }\n        bondsIdc[bondsCount++] = bond._index;\n      });\n      if (bondsCount === 0) {\n        return;\n      }\n      const bondsGroup = new BondsGroup(geoParams, {\n        bonds,\n        chunks: bondsIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      bondsGroup._component = component;\n      self.add(bondsGroup);\n    });\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default BondsProcessor;\n","import RCGroup from '../../RCGroup';\n\nclass AromaticProcessor extends RCGroup {\n  constructor(AromaticGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    super();\n    const self = this;\n    this._complex = complex;\n    const atoms = complex.getAtoms();\n    const transforms = complex.getTransforms();\n    if (!mode.showAromaticLoops()) {\n      return;\n    }\n\n    complex.forEachComponent((component) => {\n      const atomsIdc = [];\n      let chunksCount = 0;\n      const cycles = [];\n      let cycleIdx = 0;\n      component.forEachCycle((cycle) => {\n        const cycAtoms = cycle.atoms;\n        let perCycle = 0;\n        for (let i = 0, n = cycAtoms.length; i < n; ++i) {\n          if ((cycAtoms[i].mask & mask) !== 0) {\n            ++perCycle;\n            atomsIdc[chunksCount++] = cycAtoms[i].index;\n          }\n        }\n        if (perCycle > 0) {\n          cycles[cycleIdx++] = cycle;\n        }\n      });\n\n      const atomsGroup = new AromaticGroup(geoParams, {\n        cycles,\n        atoms,\n        chunks: atomsIdc,\n        parent: complex,\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n  }\n\n  getSubset(mask, innerOnly) {\n    const totalSubset = [];\n    const { children } = this;\n    let meshIdx = 0;\n    for (let i = 0, n = children.length; i < n; ++i) {\n      if (children[i].getSubset) {\n        const chSubset = children[i].getSubset(mask, innerOnly);\n        for (let j = 0, m = chSubset.length; j < m; ++j) {\n          const subsetEl = chSubset[j];\n          subsetEl._component = children[i]._component;\n          totalSubset[meshIdx++] = subsetEl;\n        }\n      }\n    }\n    return totalSubset;\n  }\n}\n\nexport default AromaticProcessor;\n","import AtomsProcessor from './AtomsProcessor';\nimport OrphanAtomsProcessor from './OrphanAtomsProcessor';\nimport ResiduesProcessor from './ResiduesProcessor';\nimport NucleicProcessor from './NucleicProcessor';\nimport SubseqsProcessor from './SubseqsProcessor';\nimport BondsProcessor from './BondsProcessor';\nimport AromaticProcessor from './AromaticProcessor';\n\nexport default {\n  Atoms: AtomsProcessor,\n  OrphanAtoms: OrphanAtomsProcessor,\n  Residues: ResiduesProcessor,\n  Nucleic: NucleicProcessor,\n  Subseqs: SubseqsProcessor,\n  Bonds: BondsProcessor,\n  Aromatic: AromaticProcessor,\n};\n","import MeshCreator from '../../meshes/MeshCreator';\nimport groups from './groups';\nimport processors from '../processors/processors';\n\nfunction _bakeGroup(triplet, Processor, Group) {\n  return function (complex, colorer, mode, polyComplexity, mask, material) {\n    return new Processor(Group, triplet, complex, colorer, mode, polyComplexity, mask, material);\n  };\n}\n\nclass GroupsFactory {\n  static AtomsSpheres(caps, settings) {\n    const gfxTriplet = MeshCreator.createSpheres(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSphereGroup);\n  }\n\n  static OrphanedAtomsCrosses(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createCrosses(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.OrphanAtoms, groups.AtomsSphereGroup);\n  }\n\n  static BondsCylinders(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsCylinderGroup);\n  }\n\n  static BondsLines(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.create2CLines(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsLinesGroup);\n  }\n\n  static CartoonChains(caps, settings) {\n    const gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesSubseqGroup);\n  }\n\n  static TraceChains(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CClosedCylinders(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesTraceGroup);\n  }\n\n  static NucleicSpheres(caps, settings) {\n    const gfxTriplet = MeshCreator.createSpheres(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicSpheresGroup);\n  }\n\n  static NucleicCylinders(caps, settings) {\n    const gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicCylindersGroup);\n  }\n\n  static ALoopsTorus(caps, settings) {\n    const gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticTorusGroup);\n  }\n\n  static ALoopsLines(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createChunkedLines(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticLinesGroup);\n  }\n\n  static QuickSurfGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createQuickSurface(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n  }\n\n  static ContactSurfaceGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createContactSurface(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n  }\n\n  static SASSESSurfaceGeo(caps, settings, renderParams) {\n    const gfxTriplet = MeshCreator.createSASSES(caps, settings, renderParams);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSASSESGroupStub);\n  }\n\n  static TextLabelsGeo(caps, settings) {\n    const gfxTriplet = MeshCreator.createLabels(caps, settings);\n\n    return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsTextGroup);\n  }\n}\n\nexport default GroupsFactory;\n","import _ from 'lodash';\nimport makeContextDependent from '../../utils/makeContextDependent';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\nimport factory from './groups/GroupsFactory';\n\n/**\n * Create new mode.\n *\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the mode after its creation.\n *\n * @exports Mode\n * @this Mode\n * @abstract\n * @constructor\n * @classdesc Basic class for all available modes used for building and displaying molecule geometry.\n */\nclass Mode {\n  constructor(opts) {\n    if (this.constructor === Mode) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    /**\n     * Mode options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.opts = _.merge(utils.deriveDeep(this.settings.now.modes[this.id], true), opts);\n  }\n\n  /**\n   * Get mode identification, probably with options.\n   * @returns {string|Array} Mode identifier string ({@link Mode#id}) or two-element array containing both mode\n   *   identifier and options ({@link Mode#opts}).\n   * Options are returned if they were changed during or after the mode creation.\n   */\n  identify() {\n    const diff = utils.objectsDiff(this.opts, this.settings.now.modes[this.id]);\n    if (!_.isEmpty(diff)) {\n      return [this.id, diff];\n    }\n    return this.id;\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const polyComplexity = this.opts.polyComplexity ? this.opts.polyComplexity[this.settings.now.resolution] : 0;\n    const groupList = this.depGroups;\n    const groupCount = groupList.length;\n    const group = new gfxutils.RCGroup();\n    const self = this;\n    for (let i = 0; i < groupCount; ++i) {\n      let currGroup = groupList[i];\n      let renderParams = {};\n      if (_.isArray(currGroup)) {\n        renderParams = currGroup[1].call(this);\n        [currGroup] = currGroup;\n      }\n      const Group = factory[currGroup](null, this.settings, renderParams);\n      const newGroup = new Group(complex, colorer, self, polyComplexity, mask, material);\n      if (newGroup.children.length > 0) {\n        group.add(newGroup);\n      }\n    }\n    return group;\n  }\n}\n\nmakeContextDependent(Mode.prototype);\n\n/**\n* Mode identifier.\n* @type {string}\n*/\nMode.prototype.id = '__';\n\n/**\n * Mode geo groups.\n * @type {Array}\n */\nMode.prototype.depGroups = [];\n\nexport default Mode;\n","import Mode from './Mode';\n\nfunction getRenderParams() {\n  return {\n    lineWidth: this.opts.lineWidth,\n  };\n}\n\nclass LinesMode extends Mode {\n  static id = 'LN';\n\n  constructor(opts) {\n    super(opts);\n    this.depGroups = this.depGroups.slice(0); // clone depGroups to prevent prototype edits\n    const groups = this.depGroups;\n    for (let i = 0, n = groups.length; i < n; ++i) {\n      groups[i] = [groups[i], getRenderParams];\n    }\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond;\n  }\n\n  calcAtomRadius() {\n    return this.opts.atom;\n  }\n\n  getAromaticOffset() {\n    return this.opts.offsarom;\n  }\n\n  getAromaticArcChunks() {\n    return this.opts.chunkarom;\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom;\n  }\n}\n\nLinesMode.prototype.id = 'LN';\nLinesMode.prototype.name = 'Lines';\nLinesMode.prototype.shortName = 'Lines';\nLinesMode.prototype.depGroups = [\n  'ALoopsLines',\n  'BondsLines',\n  'OrphanedAtomsCrosses',\n];\n\nexport default LinesMode;\n","/* eslint-disable no-magic-numbers */\nimport Mode from './Mode';\n\nclass LicoriceMode extends Mode {\n  static id = 'LC';\n\n  calcAtomRadius(_atom) {\n    return this.opts.bond;\n  }\n\n  calcStickRadius() {\n    return this.opts.bond;\n  }\n\n  calcSpaceFraction() {\n    return this.opts.space;\n  }\n\n  getAromRadius() {\n    return this.opts.aromrad;\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom;\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond;\n  }\n}\n\nLicoriceMode.prototype.id = 'LC';\nLicoriceMode.prototype.name = 'Licorice';\nLicoriceMode.prototype.shortName = 'Licorice';\nLicoriceMode.prototype.depGroups = [\n  'AtomsSpheres',\n  'BondsCylinders',\n  'ALoopsTorus',\n];\n\nexport default LicoriceMode;\n","/* eslint-disable no-magic-numbers */\nimport Mode from './Mode';\n\nclass BallsAndSticksMode extends Mode {\n  static id = 'BS';\n\n  calcAtomRadius(atom) {\n    return atom.element.radius * this.opts.atom;\n  }\n\n  calcStickRadius() {\n    return this.opts.bond;\n  }\n\n  getAromRadius() {\n    return this.opts.aromrad;\n  }\n\n  showAromaticLoops() {\n    return this.opts.showarom;\n  }\n\n  calcSpaceFraction() {\n    return this.opts.space;\n  }\n\n  drawMultiorderBonds() {\n    return this.opts.multibond;\n  }\n}\n\nBallsAndSticksMode.prototype.id = 'BS';\nBallsAndSticksMode.prototype.name = 'Balls and Sticks';\nBallsAndSticksMode.prototype.shortName = 'Balls';\nBallsAndSticksMode.prototype.depGroups = [\n  'AtomsSpheres',\n  'BondsCylinders',\n  'ALoopsTorus',\n];\n\nexport default BallsAndSticksMode;\n","import Mode from './Mode';\n\nclass VanDerWaalsMode extends Mode {\n  static id = 'VW';\n\n  calcAtomRadius(atom) {\n    return atom.element.radius;\n  }\n}\n\nVanDerWaalsMode.prototype.id = 'VW';\nVanDerWaalsMode.prototype.name = 'Van der Waals';\nVanDerWaalsMode.prototype.shortName = 'VDW';\nVanDerWaalsMode.prototype.depGroups = ['AtomsSpheres'];\n\nexport default VanDerWaalsMode;\n","import Mode from './Mode';\n\nclass TraceMode extends Mode {\n  static id = 'TR';\n\n  calcStickRadius() {\n    return this.opts.radius;\n  }\n}\n\nTraceMode.prototype.id = 'TR';\nTraceMode.prototype.name = 'Trace';\nTraceMode.prototype.shortName = 'Trace';\nTraceMode.prototype.depGroups = ['TraceChains'];\n\nexport default TraceMode;\n","import * as THREE from 'three';\nimport Mode from './Mode';\n\nclass TubeMode extends Mode {\n  static id = 'TU';\n\n  getResidueRadius(_residue) {\n    return this.TUBE_RADIUS;\n  }\n\n  getHeightSegmentsRatio() {\n    return this.opts.heightSegmentsRatio;\n  }\n\n  getTension() {\n    return this.opts.tension;\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const rad = this.opts.radius;\n    this.TUBE_RADIUS = new THREE.Vector2(rad, rad);\n\n    return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n  }\n}\n\nTubeMode.prototype.id = 'TU';\nTubeMode.prototype.name = 'Tube';\nTubeMode.prototype.shortName = 'Tube';\nTubeMode.prototype.depGroups = ['CartoonChains'];\n\nexport default TubeMode;\n","import * as THREE from 'three';\nimport Mode from './Mode';\n\nclass CartoonMode extends Mode {\n  static id = 'CA';\n\n  constructor(opts) {\n    super(opts);\n    // cache for secondary structure options\n    this.secCache = {};\n  }\n\n  getResidueStartRadius(residue) {\n    const second = residue.getSecondary();\n    if (!second || !second.generic) {\n      return this.TUBE_RADIUS;\n    }\n    const secOpts = this.secCache[second.generic];\n    if (!secOpts) {\n      return this.TUBE_RADIUS;\n    }\n    if (second.term === residue) {\n      return secOpts.start;\n    }\n    return secOpts.center;\n  }\n\n  getResidueEndRadius(residue) {\n    const second = residue.getSecondary();\n    if (second === null || !second.generic) {\n      return this.TUBE_RADIUS;\n    }\n    const secOpts = this.secCache[second.generic];\n    if (!secOpts) {\n      return this.TUBE_RADIUS;\n    }\n    if (second.term === residue) {\n      return this.ARROW_END;\n    }\n    return secOpts.center;\n  }\n\n  getResidueRadius(residue, val) {\n    const startRad = this.getResidueStartRadius(residue);\n    if (val === 0) {\n      return startRad;\n    }\n\n    const endRad = this.getResidueEndRadius(residue);\n    if (val === 2) {\n      return endRad;\n    }\n\n    return startRad.clone().lerp(endRad, val / 2.0);\n  }\n\n  calcStickRadius(_res) {\n    return this.opts.radius;\n  }\n\n  getHeightSegmentsRatio() {\n    return this.opts.heightSegmentsRatio;\n  }\n\n  getTension() {\n    return this.opts.tension;\n  }\n\n  buildGeometry(complex, colorer, mask, material) {\n    const tubeRad = this.opts.radius;\n    const secHeight = this.opts.depth;\n\n    this.TUBE_RADIUS = new THREE.Vector2(tubeRad, tubeRad);\n    this.ARROW_END = new THREE.Vector2(secHeight, tubeRad);\n    const secCache = {};\n    const secData = this.opts.ss;\n    /* eslint-disable guard-for-in */\n    for (const prop in secData) {\n      secCache[prop] = {\n        center: new THREE.Vector2(secHeight, secData[prop].width),\n        start: new THREE.Vector2(secHeight, secData[prop].arrow),\n      };\n    }\n    this.secCache = secCache;\n    /* eslint-enable guard-for-in */\n\n    return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n  }\n}\n\nCartoonMode.prototype.id = 'CA';\nCartoonMode.prototype.name = 'Cartoon';\nCartoonMode.prototype.shortName = 'Cartoon';\nCartoonMode.prototype.depGroups = [\n  'CartoonChains',\n  'NucleicSpheres',\n  'NucleicCylinders',\n];\n\nexport default CartoonMode;\n","import chem from '../../chem';\nimport Mode from './Mode';\n\nconst { selectors } = chem;\n\nfunction getRenderParams() {\n  return {\n    wireframe: this.opts.wireframe,\n    zClip: this.opts.zClip,\n  };\n}\n\nclass SurfaceMode extends Mode {\n  constructor(opts) {\n    super(opts);\n    this.depGroups = this.depGroups.slice(0); // clone depGroups to prevent prototype edits\n    const surfaces = this.surfaceNames;\n    const groups = this.depGroups;\n    for (let i = 0, n = surfaces.length; i < n; ++i) {\n      groups[groups.length] = [surfaces[i], getRenderParams];\n    }\n  }\n\n  calcAtomRadius(atom) {\n    return atom.element.radius;\n  }\n\n  getVisibilitySelector() {\n    let visibilitySelector = null;\n    if (this.opts.subset !== '') {\n      const res = selectors.parse(this.opts.subset);\n      if (!res.error) {\n        visibilitySelector = res.selector;\n      }\n    }\n    return visibilitySelector;\n  }\n}\n\nSurfaceMode.prototype.isSurface = true;\nSurfaceMode.prototype.surfaceNames = [];\n\nexport default SurfaceMode;\n","import SurfaceMode from './SurfaceMode';\n\nclass QuickSurfaceMode extends SurfaceMode {\n  static id = 'QS';\n\n  getSurfaceOpts() {\n    return {\n      useBeads: false,\n      isoValue: this.opts.isoValue,\n      gaussLim: this.opts.gaussLim[this.settings.now.resolution],\n      radScale: this.opts.scale,\n      gridSpacing: this.opts.gridSpacing[this.settings.now.resolution],\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n    };\n  }\n}\n\nQuickSurfaceMode.prototype.id = 'QS';\nQuickSurfaceMode.prototype.name = 'Quick Surface';\nQuickSurfaceMode.prototype.shortName = 'Quick Surf';\nQuickSurfaceMode.prototype.surfaceNames = ['QuickSurfGeo'];\n\nexport default QuickSurfaceMode;\n","import SurfaceMode from './SurfaceMode';\n\nclass IsoSurfaceMode extends SurfaceMode {\n  constructor(excludeProbe, opts) {\n    super(opts);\n    this._excludeProbe = excludeProbe;\n  }\n\n  calcAtomRadius(atom) {\n    return atom.element.radius;\n  }\n\n  getSurfaceOpts() {\n    return {\n      gridSpacing: this.opts.polyComplexity[this.settings.now.resolution],\n      radScale: this._radScale,\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n      probeRadius: this.opts.probeRadius,\n      excludeProbe: this._excludeProbe,\n    };\n  }\n}\n\nIsoSurfaceMode.prototype.id = 'SU';\nIsoSurfaceMode.prototype.name = 'Surface';\nIsoSurfaceMode.prototype.shortName = 'Surface';\nIsoSurfaceMode.prototype.surfaceNames = ['SASSESSurfaceGeo'];\n\nIsoSurfaceMode.prototype._radScale = 1;\nIsoSurfaceMode.prototype._excludeProbe = false;\n\nexport default IsoSurfaceMode;\n","import IsoSurfaceMode from './IsoSurfaceMode';\n\nclass IsoSurfaceSASMode extends IsoSurfaceMode {\n  static id = 'SA';\n\n  constructor(opts) {\n    super(false, opts);\n  }\n}\n\nIsoSurfaceSASMode.prototype.id = 'SA';\nIsoSurfaceSASMode.prototype.name = 'Solvent Accessible Surface';\nIsoSurfaceSASMode.prototype.shortName = 'SAS';\n\nexport default IsoSurfaceSASMode;\n","import IsoSurfaceMode from './IsoSurfaceMode';\n\nclass IsoSurfaceSESMode extends IsoSurfaceMode {\n  static id = 'SE';\n\n  constructor(opts) {\n    super(true, opts);\n  }\n}\n\nIsoSurfaceSESMode.prototype.id = 'SE';\nIsoSurfaceSESMode.prototype.name = 'Solvent Excluded Surface';\nIsoSurfaceSESMode.prototype.shortName = 'SES';\n\nexport default IsoSurfaceSESMode;\n","import SurfaceMode from './SurfaceMode';\n\nclass ContactSurfaceMode extends SurfaceMode {\n  static id = 'CS';\n\n  getSurfaceOpts() {\n    return {\n      probeRadius: this.opts.probeRadius,\n      radScale: this.opts.polyComplexity[this.settings.now.resolution],\n      scaleFactor: this.opts.polyComplexity[this.settings.now.resolution],\n      gridSpacing: 1.0 / this.opts.polyComplexity[this.settings.now.resolution],\n      isoValue: this.opts.isoValue,\n      probePositions: this.opts.probePositions,\n      zClip: this.opts.zClip,\n      visibilitySelector: this.getVisibilitySelector(),\n    };\n  }\n}\n\nContactSurfaceMode.prototype.id = 'CS';\nContactSurfaceMode.prototype.name = 'Contact Surface';\nContactSurfaceMode.prototype.shortName = 'Contact Surf';\nContactSurfaceMode.prototype.isSurface = true;\nContactSurfaceMode.prototype.surfaceNames = ['ContactSurfaceGeo'];\n\nexport default ContactSurfaceMode;\n","import _ from 'lodash';\nimport Mode from './Mode';\n\nclass TextMode extends Mode {\n  static id = 'TX';\n\n  getTemplateOptions() {\n    return this.opts.template;\n  }\n\n  getLabelOpts() {\n    return _.merge(this.opts, {\n      colors: true,\n      adjustColor: true,\n      transparent: true,\n    });\n  }\n}\n\nTextMode.prototype.id = 'TX';\nTextMode.prototype.name = 'Text mode';\nTextMode.prototype.shortName = 'Text';\nTextMode.prototype.depGroups = ['TextLabelsGeo'];\n\nexport default TextMode;\n","import EntityList from '../utils/EntityList';\n\nimport LinesMode from './modes/LinesMode';\nimport LicoriceMode from './modes/LicoriceMode';\nimport BallsAndSticksMode from './modes/BallsAndSticksMode';\nimport VanDerWaalsMode from './modes/VanDerWaalsMode';\nimport TraceMode from './modes/TraceMode';\nimport TubeMode from './modes/TubeMode';\nimport CartoonMode from './modes/CartoonMode';\nimport QuickSurfaceMode from './modes/QuickSurfaceMode';\nimport IsoSurfaceSASMode from './modes/IsoSurfaceSASMode';\nimport IsoSurfaceSESMode from './modes/IsoSurfaceSESMode';\nimport ContactSurfaceMode from './modes/ContactSurfaceMode';\nimport TextMode from './modes/TextMode';\n\nconst modes = new EntityList([\n  LinesMode,\n  LicoriceMode,\n  BallsAndSticksMode,\n  VanDerWaalsMode,\n  TraceMode,\n  TubeMode,\n  CartoonMode,\n  QuickSurfaceMode,\n  IsoSurfaceSASMode,\n  IsoSurfaceSESMode,\n  ContactSurfaceMode,\n  TextMode,\n]);\n\nexport default modes;\n","import _ from 'lodash';\n\nfunction clamp(x, a, b) {\n  return x <= b ? x < 0 ? 0 : x : b;\n}\n\nfunction lerpColor(c1, c2, alpha) {\n  const beta = 1 - alpha;\n  const r1 = (c1 >> 16) & 0xff;\n  const g1 = (c1 >> 8) & 0xff;\n  const b1 = c1 & 0xff;\n  const r2 = (c2 >> 16) & 0xff;\n  const g2 = (c2 >> 8) & 0xff;\n  const b2 = c2 & 0xff;\n  const r = beta * r1 + alpha * r2;\n  const g = beta * g1 + alpha * g2;\n  const b = beta * b1 + alpha * b2;\n  return (r << 16) | (g << 8) | b;\n}\n\nclass Palette {\n  constructor(name, id) {\n    this.name = name || 'Custom';\n    this.id = id || 'CP';\n  }\n\n  getElementColor(name, asIs = false) {\n    const color = this.elementColors[name];\n    return color === undefined && !asIs ? this.defaultElementColor : color;\n  }\n\n  getResidueColor(name, asIs = false) {\n    const color = this.residueColors[name];\n    return color === undefined && !asIs ? this.defaultResidueColor : color;\n  }\n\n  getChainColor(name) {\n    let chain = name.charCodeAt(0);\n    chain = ((chain < 0 ? 0 : chain >= 256 ? chain - 256 : chain) & 0x1F)\n      % this.chainColors.length;\n    return this.chainColors[chain];\n  }\n\n  getSecondaryColor(type, asIs = false) {\n    const color = this.secondaryColors[type];\n    return color === undefined && !asIs ? this.defaultSecondaryColor : color;\n  }\n\n  getSequentialColor(index) {\n    const { colors } = this;\n    const len = colors.length;\n    return index < 0 ? colors[(index % len) + len] : colors[index % len];\n  }\n\n  getGradientColor(value, gradientName) {\n    const gradient = this.gradients[gradientName];\n    if (!gradient) {\n      return this.defaultNamedColor;\n    }\n    const count = gradient.length;\n    const index = value * (count - 1);\n    let left = Math.floor(index);\n    const right = clamp(left + 1, 0, count - 1);\n    left = clamp(left, 0, count - 1);\n    return lerpColor(gradient[left], gradient[right], index - left);\n  }\n\n  getNamedColor(name, asIs = false) {\n    const color = this.namedColors[name];\n    return color === undefined && !asIs ? this.defaultNamedColor : color;\n  }\n}\n\n_.assign(Palette.prototype, {\n  colors: [0xFFFFFF, 0xFF0000, 0x00FF00, 0x0000FF, 0x808080],\n\n  minRangeColor: 0x000000,\n  midRangeColor: 0x7F7F7F,\n  maxRangeColor: 0xFFFFFF,\n\n  defaultElementColor: 0xFFFFFF,\n  elementColors: {},\n\n  defaultResidueColor: 0xFFFFFF,\n  residueColors: {},\n\n  chainColors: [0xFFFFFF],\n\n  defaultSecondaryColor: 0xFFFFFF,\n  secondaryColors: {},\n\n  defaultGradientColor: 0x000000,\n\n  defaultNamedColor: 0xFFFFFF,\n  namedColorsArray: [\n    /* eslint-disable no-multi-spaces */\n    ['indianred',               0xcd5c5c],\n    ['lightcoral',              0xf08080],\n    ['salmon',                  0xfa8072],\n    ['darksalmon',              0xe9967a],\n    ['lightsalmon',             0xffa07a],\n    ['crimson',                 0xdc143c],\n    ['red',                     0xff0000],\n    ['firebrick',               0xb22222],\n    ['darkred',                 0x8b0000],\n    ['pink',                    0xffc0cb],\n    ['lightpink',               0xffb6c1],\n    ['hotpink',                 0xff69b4],\n    ['deeppink',                0xff1493],\n    ['mediumvioletred',         0xc71585],\n    ['palevioletred',           0xdb7093],\n    ['coral',                   0xff7f50],\n    ['tomato',                  0xff6347],\n    ['orangered',               0xff4500],\n    ['darkorange',              0xff8c00],\n    ['orange',                  0xffa500],\n    ['gold',                    0xffd700],\n    ['yellow',                  0xffff00],\n    ['lightyellow',             0xffffe0],\n    ['lemonchiffon',            0xfffacd],\n    ['lightgoldenrodyellow',    0xfafad2],\n    ['papayawhip',              0xffefd5],\n    ['moccasin',                0xffe4b5],\n    ['peachpuff',               0xffdab9],\n    ['palegoldenrod',           0xeee8aa],\n    ['khaki',                   0xf0e68c],\n    ['darkkhaki',               0xbdb76b],\n    ['lavender',                0xe6e6fa],\n    ['thistle',                 0xd8bfd8],\n    ['plum',                    0xdda0dd],\n    ['violet',                  0xee82ee],\n    ['orchid',                  0xda70d6],\n    ['fuchsia',                 0xff00ff],\n    ['magenta',                 0xff00ff],\n    ['mediumorchid',            0xba55d3],\n    ['mediumpurple',            0x9370db],\n    ['rebeccapurple',           0x663399],\n    ['blueviolet',              0x8a2be2],\n    ['darkviolet',              0x9400d3],\n    ['darkorchid',              0x9932cc],\n    ['darkmagenta',             0x8b008b],\n    ['purple',                  0x800080],\n    ['indigo',                  0x4b0082],\n    ['slateblue',               0x6a5acd],\n    ['mediumslateblue',         0x7b68ee],\n    ['darkslateblue',           0x483d8b],\n    ['greenyellow',             0xadff2f],\n    ['chartreuse',              0x7fff00],\n    ['lawngreen',               0x7cfc00],\n    ['lime',                    0x00ff00],\n    ['limegreen',               0x32cd32],\n    ['palegreen',               0x98fb98],\n    ['lightgreen',              0x90ee90],\n    ['mediumspringgreen',       0x00fa9a],\n    ['springgreen',             0x00ff7f],\n    ['mediumseagreen',          0x3cb371],\n    ['seagreen',                0x2e8b57],\n    ['forestgreen',             0x228b22],\n    ['green',                   0x008000],\n    ['darkgreen',               0x006400],\n    ['yellowgreen',             0x9acd32],\n    ['olivedrab',               0x6b8e23],\n    ['olive',                   0x808000],\n    ['darkolivegreen',          0x556b2f],\n    ['mediumaquamarine',        0x66cdaa],\n    ['darkseagreen',            0x8fbc8f],\n    ['lightseagreen',           0x20b2aa],\n    ['darkcyan',                0x008b8b],\n    ['teal',                    0x008080],\n    ['aqua',                    0x00ffff],\n    ['cyan',                    0x00ffff],\n    ['lightcyan',               0xe0ffff],\n    ['paleturquoise',           0xafeeee],\n    ['aquamarine',              0x7fffd4],\n    ['turquoise',               0x40e0d0],\n    ['mediumturquoise',         0x48d1cc],\n    ['darkturquoise',           0x00ced1],\n    ['cadetblue',               0x5f9ea0],\n    ['steelblue',               0x4682b4],\n    ['lightsteelblue',          0xb0c4de],\n    ['powderblue',              0xb0e0e6],\n    ['lightblue',               0xadd8e6],\n    ['skyblue',                 0x87ceeb],\n    ['lightskyblue',            0x87cefa],\n    ['deepskyblue',             0x00bfff],\n    ['dodgerblue',              0x1e90ff],\n    ['cornflowerblue',          0x6495ed],\n    ['royalblue',               0x4169e1],\n    ['blue',                    0x0000ff],\n    ['mediumblue',              0x0000cd],\n    ['darkblue',                0x00008b],\n    ['navy',                    0x000080],\n    ['midnightblue',            0x191970],\n    ['cornsilk',                0xfff8dc],\n    ['blanchedalmond',          0xffebcd],\n    ['bisque',                  0xffe4c4],\n    ['navajowhite',             0xffdead],\n    ['wheat',                   0xf5deb3],\n    ['burlywood',               0xdeb887],\n    ['tan',                     0xd2b48c],\n    ['rosybrown',               0xbc8f8f],\n    ['sandybrown',              0xf4a460],\n    ['goldenrod',               0xdaa520],\n    ['darkgoldenrod',           0xb8860b],\n    ['peru',                    0xcd853f],\n    ['chocolate',               0xd2691e],\n    ['saddlebrown',             0x8b4513],\n    ['sienna',                  0xa0522d],\n    ['brown',                   0xa52a2a],\n    ['maroon',                  0x800000],\n    ['white',                   0xffffff],\n    ['snow',                    0xfffafa],\n    ['honeydew',                0xf0fff0],\n    ['mintcream',               0xf5fffa],\n    ['azure',                   0xf0ffff],\n    ['aliceblue',               0xf0f8ff],\n    ['ghostwhite',              0xf8f8ff],\n    ['whitesmoke',              0xf5f5f5],\n    ['seashell',                0xfff5ee],\n    ['beige',                   0xf5f5dc],\n    ['oldlace',                 0xfdf5e6],\n    ['floralwhite',             0xfffaf0],\n    ['ivory',                   0xfffff0],\n    ['antiquewhite',            0xfaebd7],\n    ['linen',                   0xfaf0e6],\n    ['lavenderblush',           0xfff0f5],\n    ['mistyrose',               0xffe4e1],\n    ['gainsboro',               0xdcdcdc],\n    ['lightgray',               0xd3d3d3],\n    ['silver',                  0xc0c0c0],\n    ['darkgray',                0xa9a9a9],\n    ['gray',                    0x808080],\n    ['dimgray',                 0x696969],\n    ['lightslategray',          0x778899],\n    ['slategray',               0x708090],\n    ['darkslategray',           0x2f4f4f],\n    ['black',                   0x000000],\n    /* eslint-enable no-multi-spaces */\n  ],\n\n  namedColors: {},\n  /* eslint-enable no-magic-numbers */\n\n  gradients: {\n    rainbow: [\n      0x0000ff, // blue\n      0x00ffff, // cyan\n      0x00ff00, // green\n      0xffff00, // yellow\n      0xff0000, // red\n    ],\n    temp: [\n      0x0000ff, // blue\n      0x007fff, // light-blue\n      0xffffff, // white\n      0xff7f00, // orange\n      0xff0000, // red\n    ],\n    hot: [\n      0xffffff, // white\n      0xff7f00, // orange\n      0xff0000, // red\n    ],\n    cold: [\n      0xffffff, // white\n      0x007fff, // light-blue\n      0x0000ff, // blue\n    ],\n    'blue-red': [\n      0x0000ff, // blue\n      0xffffff, // white\n      0xff0000, // red\n    ],\n    reds: [\n      0xffffff, // white\n      0xff0000, // red\n    ],\n    blues: [\n      0xffffff, // white\n      0x0000ff, // blue\n    ],\n  },\n});\n\nconst { namedColorsArray, namedColors } = Palette.prototype;\n\nfor (let i = 0, { length } = namedColorsArray; i < length; ++i) {\n  const [name, value] = namedColorsArray[i];\n  namedColors[name] = value;\n}\n\nexport default Palette;\n","import Palette from './Palette';\n\nconst palette = new Palette('CPK', 'CP');\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xFFFFFF,\n  C: 0x202020,\n  N: 0x2060FF,\n  O: 0xEE2010,\n  F: 0x00FF00,\n  P: 0x8020FF,\n  S: 0xFFFF00,\n  CL: 0x00BB00,\n  FE: 0xD0D0D0,\n  CO: 0xD0D0D0,\n  NI: 0xD0D0D0,\n  CU: 0xD0D0D0,\n  BR: 0x008800,\n  I: 0x005500,\n  /* eslint-enable no-magic-numbers */\n};\n\nexport default palette;\n","import Palette from './Palette';\nimport StructuralElement from '../../chem/StructuralElement';\n\nconst palette = new Palette('Jmol', 'JM');\n\npalette.colors = [\n  /* eslint-disable no-magic-numbers */\n  0x0000FF, // blue\n  0x0055FF, //\n  0x00ABFF, //\n  0x00FFFF, // cyan\n  0x00FFAB, //\n  0x00FF55, //\n  0x00FF00, // green\n  0x55FF00, //\n  0xABFF00, //\n  0xFFFF00, // yellow\n  0xFFAB00, //\n  0xFF5500, //\n  0xFF0000, // red\n  0xFF0055, //\n  0xFF00AB, //\n  0xFF00FF, // magenta\n  0xAB00FF, //\n  0x5500FF, //\n  /* eslint-enable no-magic-numbers */\n];\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xFFFFFF,\n  D: 0xFFFFC0,\n  T: 0xFFFFA0,\n  HE: 0xD9FFFF,\n  LI: 0xCC80FF,\n  BE: 0xC2FF00,\n  B: 0xFFB5B5,\n  C: 0x909090,\n  N: 0x3050F8,\n  O: 0xFF0D0D,\n  F: 0x90E050,\n  NE: 0xB3E3F5,\n  NA: 0xAB5CF2,\n  MG: 0x8AFF00,\n  AL: 0xBFA6A6,\n  SI: 0xF0C8A0,\n  P: 0xFF8000,\n  S: 0xFFFF30,\n  CL: 0x1FF01F,\n  AR: 0x80D1E3,\n  K: 0x8F40D4,\n  CA: 0x3DFF00,\n  SC: 0xE6E6E6,\n  TI: 0xBFC2C7,\n  V: 0xA6A6AB,\n  CR: 0x8A99C7,\n  MN: 0x9C7AC7,\n  FE: 0xE06633,\n  CO: 0xF090A0,\n  NI: 0x50D050,\n  CU: 0xC88033,\n  ZN: 0x7D80B0,\n  GA: 0xC28F8F,\n  GE: 0x668F8F,\n  AS: 0xBD80E3,\n  SE: 0xFFA100,\n  BR: 0xA62929,\n  KR: 0x5CB8D1,\n  RB: 0x702EB0,\n  SR: 0x00FF00,\n  Y: 0x94FFFF,\n  ZR: 0x94E0E0,\n  NB: 0x73C2C9,\n  MO: 0x54B5B5,\n  TC: 0x3B9E9E,\n  RU: 0x248F8F,\n  RH: 0x0A7D8C,\n  PD: 0x006985,\n  AG: 0xC0C0C0,\n  CD: 0xFFD98F,\n  IN: 0xA67573,\n  SN: 0x668080,\n  SB: 0x9E63B5,\n  TE: 0xD47A00,\n  I: 0x940094,\n  XE: 0x429EB0,\n  CS: 0x57178F,\n  BA: 0x00C900,\n  LA: 0x70D4FF,\n  CE: 0xFFFFC7,\n  PR: 0xD9FFC7,\n  ND: 0xC7FFC7,\n  PM: 0xA3FFC7,\n  SM: 0x8FFFC7,\n  EU: 0x61FFC7,\n  GD: 0x45FFC7,\n  TB: 0x30FFC7,\n  DY: 0x1FFFC7,\n  HO: 0x00FF9C,\n  ER: 0x00E675,\n  TM: 0x00D452,\n  YB: 0x00BF38,\n  LU: 0x00AB24,\n  HF: 0x4DC2FF,\n  TA: 0x4DA6FF,\n  W: 0x2194D6,\n  RE: 0x267DAB,\n  OS: 0x266696,\n  IR: 0x175487,\n  PT: 0xD0D0E0,\n  AU: 0xFFD123,\n  HG: 0xB8B8D0,\n  TL: 0xA6544D,\n  PB: 0x575961,\n  BI: 0x9E4FB5,\n  PO: 0xAB5C00,\n  AT: 0x754F45,\n  RN: 0x428296,\n  FR: 0x420066,\n  RA: 0x007D00,\n  AC: 0x70ABFA,\n  TH: 0x00BAFF,\n  PA: 0x00A1FF,\n  U: 0x008FFF,\n  NP: 0x0080FF,\n  PU: 0x006BFF,\n  AM: 0x545CF2,\n  CM: 0x785CE3,\n  BK: 0x8A4FE3,\n  CF: 0xA136D4,\n  ES: 0xB31FD4,\n  FM: 0xB31FBA,\n  MD: 0xB30DA6,\n  NO: 0xBD0D87,\n  LR: 0xC70066,\n  RF: 0xCC0059,\n  DB: 0xD1004F,\n  SG: 0xD90045,\n  BH: 0xE00038,\n  HS: 0xE6002E,\n  MT: 0xEB0026,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.defaultResidueColor = 0xBEA06E;\n\n// DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\npalette.residueColors = {\n  /* eslint-disable no-magic-numbers */\n  ALA: 0xC8C8C8,\n  ARG: 0x145AFF,\n  ASN: 0x00DCDC,\n  ASP: 0xE60A0A,\n  CYS: 0xE6E600,\n  GLN: 0x00DCDC,\n  GLU: 0xE60A0A,\n  GLY: 0xEBEBEB,\n  HIS: 0x8282D2,\n  ILE: 0x0F820F,\n  LEU: 0x0F820F,\n  LYS: 0x145AFF,\n  MET: 0xE6E600,\n  PHE: 0x3232AA,\n  PRO: 0xDC9682,\n  SER: 0xFA9600,\n  THR: 0xFA9600,\n  TRP: 0xB45AB4,\n  TYR: 0x3232AA,\n  VAL: 0x0F820F,\n  A: 0xA0A0FF,\n  C: 0xFF8C4B,\n  G: 0xFF7070,\n  I: 0x80FFFF,\n  T: 0xA0FFA0,\n  U: 0xFF8080,\n  DA: 0xA0A0FF,\n  DC: 0xFF8C4B,\n  DG: 0xFF7070,\n  DI: 0x80FFFF,\n  DT: 0xA0FFA0,\n  DU: 0xFF8080,\n  '+A': 0xA0A0FF,\n  '+C': 0xFF8C4B,\n  '+G': 0xFF7070,\n  '+I': 0x80FFFF,\n  '+T': 0xA0FFA0,\n  '+U': 0xFF8080,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.chainColors = [\n  // ' '->0 'A'->1, 'B'->2\n  0xFFffffff, // ' ' & '0' white\n  //\n  0xFFC0D0FF, // skyblue\n  0xFFB0FFB0, // pastel green\n  0xFFFFC0C8, // pink\n  0xFFFFFF80, // pastel yellow\n  0xFFFFC0FF, // pastel magenta\n  0xFFB0F0F0, // pastel cyan\n  0xFFFFD070, // pastel gold\n  0xFFF08080, // lightcoral\n\n  0xFFF5DEB3, // wheat\n  0xFF00BFFF, // deepskyblue\n  0xFFCD5C5C, // indianred\n  0xFF66CDAA, // mediumaquamarine\n  0xFF9ACD32, // yellowgreen\n  0xFFEE82EE, // violet\n  0xFF00CED1, // darkturquoise\n  0xFF00FF7F, // springgreen\n  0xFF3CB371, // mediumseagreen\n\n  0xFF00008B, // darkblue\n  0xFFBDB76B, // darkkhaki\n  0xFF006400, // darkgreen\n  0xFF800000, // maroon\n  0xFF808000, // olive\n  0xFF800080, // purple\n  0xFF008080, // teal\n  0xFFB8860B, // darkgoldenrod\n  0xFFB22222, // firebrick\n];\n\nconst StructuralElementType = StructuralElement.Type;\n\npalette.secondaryColors = {\n  [StructuralElementType.HELIX_ALPHA]: 0xFF0080,\n  [StructuralElementType.HELIX_PI]: 0x600080,\n  [StructuralElementType.HELIX_310]: 0xA00080,\n  [StructuralElementType.STRAND]: 0xFFC800,\n  [StructuralElementType.TURN]: 0x6080FF,\n  dna: 0xAE00FE,\n  rna: 0xFD0162,\n};\n\nexport default palette;\n","import Palette from './Palette';\nimport StructuralElement from '../../chem/StructuralElement';\n\nconst palette = new Palette('VMD', 'VM');\n\npalette.colors = [\n  /* eslint-disable no-magic-numbers */\n  0x0000FF, // blue\n  0xFF0000, // red\n  0x606060, // gray\n  0xFF8000, // orange\n  0xFFFF00, // yellow\n  0x808033, // tan\n  0x999999, // silver\n  0x00FF00, // green\n  0xFFFFFF, // white\n  0xFF9999, // pink\n  0x40C0C0, // cyan\n  0xA600A6, // purple\n  0x80E666, // lime\n  0xE666B3, // mauve\n  0x804D00, // ochre\n  0x8080C0, // ice blue\n  /* eslint-enable no-magic-numbers */\n];\n\npalette.defaultElementColor = 0x804D00;\n\n// DO NOT EDIT MANUALLY! Autogenerated from atom_types.csv by atom_types.py.\npalette.elementColors = {\n  /* eslint-disable no-magic-numbers */\n  H: 0xFFFFFF,\n  C: 0x40BFBF,\n  N: 0x0000FF,\n  O: 0xFF0000,\n  P: 0x808033,\n  S: 0xFFFF00,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.defaultResidueColor = 0x40C0C0;\n\n// DO NOT EDIT MANUALLY! Autogenerated from residue_types.csv by residue_types.py.\npalette.residueColors = {\n  /* eslint-disable no-magic-numbers */\n  ALA: 0x0000FF,\n  ARG: 0xFFFFFF,\n  ASN: 0x808033,\n  ASP: 0xFF0000,\n  CYS: 0xFFFF00,\n  GLN: 0xFF8000,\n  GLU: 0xFF9999,\n  GLY: 0xFFFFFF,\n  HIS: 0x40C0C0,\n  ILE: 0x00FF00,\n  LEU: 0xFF9999,\n  LYS: 0x40C0C0,\n  MET: 0xFFFF00,\n  PHE: 0xA600A6,\n  PRO: 0x804C00,\n  SER: 0xFFFF00,\n  THR: 0xE666B3,\n  TRP: 0x999999,\n  TYR: 0x00FF00,\n  VAL: 0x808033,\n  A: 0x0000FF,\n  C: 0xFF8000,\n  G: 0xFFFF00,\n  T: 0xA600A6,\n  U: 0x00FF00,\n  DA: 0x0000FF,\n  DC: 0xFF8000,\n  DG: 0xFFFF00,\n  DT: 0xA600A6,\n  DU: 0x00FF00,\n  '+A': 0x0000FF,\n  '+C': 0xFF8000,\n  '+G': 0xFFFF00,\n  '+T': 0xA600A6,\n  '+U': 0x00FF00,\n  WAT: 0x40C0C0,\n  H2O: 0x40C0C0,\n  HOH: 0x40C0C0,\n  /* eslint-enable no-magic-numbers */\n};\n\npalette.chainColors = [0xFFFFFF].concat(palette.colors);\n\nconst StructuralElementType = StructuralElement.Type;\n\npalette.secondaryColors = {\n  [StructuralElementType.HELIX_ALPHA]: 0xA600A6,\n  [StructuralElementType.HELIX_310]: 0x0000FF,\n  [StructuralElementType.HELIX_PI]: 0xFF0000,\n  [StructuralElementType.STRAND]: 0xFFFF00,\n  [StructuralElementType.BRIDGE]: 0x808033,\n  [StructuralElementType.TURN]: 0x40C0C0,\n};\n\nexport default palette;\n","import EntityList from '../utils/EntityList';\n\nimport cpkPalette from './palettes/cpkPalette';\nimport jmolPalette from './palettes/jmolPalette';\nimport vmdPalette from './palettes/vmdPalette';\n\nconst palettes = new EntityList([\n  cpkPalette,\n  jmolPalette,\n  vmdPalette,\n]);\n\nexport default palettes;\n","import _ from 'lodash';\nimport settings from '../../settings';\nimport utils from '../../utils';\nimport palettes from '../palettes';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the colorer after its creation.\n *\n * @exports Colorer\n * @this Colorer\n * @abstract\n * @constructor\n * @classdesc Basic class for all available coloring algorithms used for building and displaying molecule geometry.\n */\nclass Colorer {\n  constructor(opts) {\n    if (this.constructor === Colorer) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    /**\n     * Colorer options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.opts = _.merge(utils.deriveDeep(settings.now.colorers[this.id], true), opts);\n    /**\n     * Palette in use.\n     * @type {Palette}\n     */\n    this.palette = palettes.first;\n  }\n\n  /**\n   * Get Colorer identification, probably with options.\n   * @returns {string|Array} Colorer identifier string ({@link Colorer#id}) or two-element array containing both colorer\n   *   identifier and options ({@link Colorer#opts}).\n   * Options are returned if they were changed during or after colorer creation.\n   */\n  identify() {\n    const diff = utils.objectsDiff(this.opts, settings.now.colorers[this.id]);\n    if (!_.isEmpty(diff)) {\n      return [this.id, diff];\n    }\n    return this.id;\n  }\n}\n\n/**\n * Colorer identifier.\n * @type {string}\n */\n\nColorer.prototype.id = '__';\n\nexport default Colorer;\n","import Colorer from './Colorer';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Element\n *\n * @exports ElementColorer\n * @augments Colorer\n * @constructor\n * @classdesc Coloring algorithm based on chemical element.\n */\nclass ElementColorer extends Colorer {\n  static id = 'EL';\n\n  getAtomColor(atom, _complex) {\n    const type = atom.element.name;\n    if (type === 'C' && this.opts.carbon >= 0) {\n      return this.opts.carbon;\n    }\n    return this.palette.getElementColor(type);\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.palette.defaultResidueColor;\n  }\n}\n\nElementColorer.prototype.id = 'EL';\nElementColorer.prototype.name = 'Element';\nElementColorer.prototype.shortName = 'Element';\n\nexport default ElementColorer;\n","import Colorer from './Colorer';\n\n/**\n * Coloring algorithm based on residue type.\n *\n * @see ResidueType\n *\n * @exports ResidueTypeColorer\n * @constructor\n */\nclass ResidueTypeColorer extends Colorer {\n  static id = 'RT';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    return this.palette.getResidueColor(residue._type._name);\n  }\n}\n\nResidueTypeColorer.prototype.id = 'RT';\nResidueTypeColorer.prototype.name = 'Residue Type';\nResidueTypeColorer.prototype.shortName = 'Residue';\n\nexport default ResidueTypeColorer;\n","import Colorer from './Colorer';\n\nclass SequenceColorer extends Colorer {\n  static id = 'SQ';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    const chain = residue._chain;\n    if (chain.minSequence === Number.POSITIVE_INFINITY && chain.maxSequence === Number.NEGATIVE_INFINITY) {\n      return this.palette.defaultNamedColor;\n    }\n    const min = chain.minSequence;\n    const max = chain.maxSequence > min ? chain.maxSequence : min + 1;\n    return this.palette.getGradientColor((residue._sequence - min) / (max - min), this.opts.gradient);\n  }\n}\n\nSequenceColorer.prototype.id = 'SQ';\nSequenceColorer.prototype.name = 'Sequence';\nSequenceColorer.prototype.shortName = 'Sequence';\n\nexport default SequenceColorer;\n","import Colorer from './Colorer';\n\nclass ChainColorer extends Colorer {\n  static id = 'CH';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    return this.palette.getChainColor(residue.getChain()._name);\n  }\n}\n\nChainColorer.prototype.id = 'CH';\nChainColorer.prototype.name = 'Chain';\nChainColorer.prototype.shortName = 'Chain';\n\nexport default ChainColorer;\n","import Colorer from './Colorer';\nimport ResidueType from '../../chem/ResidueType';\n\nclass SecondaryStructureColorer extends Colorer {\n  static id = 'SS';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    if (residue._type.flags & ResidueType.Flags.DNA) {\n      return this.palette.getSecondaryColor('dna');\n    }\n    if (residue._type.flags & ResidueType.Flags.RNA) {\n      return this.palette.getSecondaryColor('rna');\n    }\n    const secondary = residue.getSecondary();\n    if (secondary) {\n      let color = this.palette.getSecondaryColor(secondary.type, true);\n      if (color === undefined) {\n        color = this.palette.getSecondaryColor(secondary.generic);\n      }\n      return color;\n    }\n    return this.palette.defaultSecondaryColor;\n  }\n}\n\nSecondaryStructureColorer.prototype.id = 'SS';\nSecondaryStructureColorer.prototype.name = 'Secondary Structure';\nSecondaryStructureColorer.prototype.shortName = 'Structure';\n\nexport default SecondaryStructureColorer;\n","import Colorer from './Colorer';\n\nclass UniformColorer extends Colorer {\n  static id = 'UN';\n\n  getAtomColor(_atom, _complex) {\n    return this.opts.color;\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.opts.color;\n  }\n}\n\nUniformColorer.prototype.id = 'UN';\nUniformColorer.prototype.name = 'Uniform';\nUniformColorer.prototype.shortName = 'Uniform';\n\nexport default UniformColorer;\n","import Colorer from './Colorer';\nimport selectors from '../../chem/selectors';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @exports ConditionalColorer\n * @augments Colorer\n * @constructor\n * @classdesc Bicolor coloring algorithm based on a selector string used as a condition.\n */\nclass ConditionalColorer extends Colorer {\n  static id = 'CO';\n\n  constructor(opts) {\n    super(opts);\n    const parsed = selectors.parse(this.opts.subset);\n    this._subsetCached = parsed.error ? selectors.none() : parsed.selector;\n  }\n\n  getAtomColor(atom, _complex) {\n    return this._subsetCached.includesAtom(atom) ? this.opts.color : this.opts.baseColor;\n  }\n\n  getResidueColor(residue, _complex) {\n    const subset = this._subsetCached;\n    const atoms = residue._atoms;\n    for (let i = 0, n = atoms.length; i < n; ++i) {\n      if (!subset.includesAtom(atoms[i])) {\n        return this.opts.baseColor;\n      }\n    }\n    return this.opts.color;\n  }\n}\n\nConditionalColorer.prototype.id = 'CO';\nConditionalColorer.prototype.name = 'Conditional';\nConditionalColorer.prototype.shortName = 'Conditional';\n\nexport default ConditionalColorer;\n","import Colorer from './Colorer';\n\nclass ConformationColorer extends Colorer {\n  static id = 'CF';\n\n  getAtomColor(atom, _complex) {\n    return this.palette.getChainColor(String.fromCharCode(atom.location));\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.palette.defaultResidueColor;\n  }\n}\n\nConformationColorer.prototype.id = 'CF';\nConformationColorer.prototype.name = 'Conformation';\nConformationColorer.prototype.shortName = 'Conformation';\n\nexport default ConformationColorer;\n","import Colorer from './Colorer';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Temperature\n *\n * @exports TemperatureColorer\n * @augments Colorer\n * @constructor\n * @classdesc Coloring algorithm based on temperature of chemical element.\n */\nclass TemperatureColorer extends Colorer {\n  static id = 'TM';\n\n  getAtomColor(atom, _complex) {\n    const { opts } = this;\n    let factor = 1;\n    if (atom.temperature && opts) {\n      if (opts.min === opts.max) {\n        factor = atom.temperature > opts.max ? 1 : 0;\n      } else {\n        factor = (atom.temperature - opts.min) / (opts.max - opts.min);\n      }\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n\n  getResidueColor(residue, _complex) {\n    const { opts } = this;\n    if (!opts) {\n      return this.palette.defaultGradientColor;\n    }\n    if (residue.temperature) {\n      let factor = 0;\n      if (opts.min === opts.max) {\n        factor = residue.temperature > opts.max ? 1 : 0;\n      } else {\n        factor = (residue.temperature - opts.min) / (opts.max - opts.min);\n      }\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n}\n\nTemperatureColorer.prototype.id = 'TM'; // [T]e[M]perature\nTemperatureColorer.prototype.name = 'Temperature';\nTemperatureColorer.prototype.shortName = 'Temperature';\n\nexport default TemperatureColorer;\n","import Colorer from './Colorer';\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @see Occupancy\n *\n * @exports OccupancyColorer\n * @augments Occupancy\n * @constructor\n * @classdesc Coloring algorithm based on occupancy of chemical element.\n */\nclass OccupancyColorer extends Colorer {\n  static id = 'OC';\n\n  _getColorByOccupancy(occupancy, opts) {\n    if (occupancy !== undefined) {\n      const factor = 1 - occupancy;\n      return this.palette.getGradientColor(factor, opts.gradient);\n    }\n    return this.palette.defaultGradientColor;\n  }\n\n  getAtomColor(atom, _complex) {\n    const { opts } = this;\n    return this._getColorByOccupancy(atom.occupancy, opts);\n  }\n\n  getResidueColor(residue, _complex) {\n    const { opts } = this;\n    return this._getColorByOccupancy(residue.occupancy, opts);\n  }\n}\n\nOccupancyColorer.prototype.id = 'OC'; // [OC]cupancy\nOccupancyColorer.prototype.name = 'Occupancy';\nOccupancyColorer.prototype.shortName = 'Occupancy';\n\nexport default OccupancyColorer;\n","import Colorer from './Colorer';\n\nclass HydrophobicityColorer extends Colorer {\n  static id = 'HY';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    let color = this.palette.defaultResidueColor;\n    if (residue._type.hydrophobicity !== undefined) {\n      // Kyte Doolitle hydro [-4.5,4.5]->[0.1]\n      const min = -4.5;\n      const max = 4.5;\n      color = this.palette.getGradientColor((residue._type.hydrophobicity - min) / (max - min), this.opts.gradient);\n    }\n    return color;\n  }\n}\n\nHydrophobicityColorer.prototype.id = 'HY';\nHydrophobicityColorer.prototype.name = 'Hydrophobicity';\nHydrophobicityColorer.prototype.shortName = 'Hydrophobicity';\n\nexport default HydrophobicityColorer;\n","import Colorer from './Colorer';\n\nclass MoleculeColorer extends Colorer {\n  static id = 'MO';\n\n  getAtomColor(atom, complex) {\n    return this.getResidueColor(atom.residue, complex);\n  }\n\n  getResidueColor(residue, _complex) {\n    const molecule = residue._molecule;\n    const count = _complex.getMoleculeCount();\n    if (count > 1) {\n      return this.palette.getGradientColor((molecule.index - 1) / (count - 1), this.opts.gradient);\n    }\n    return this.palette.getGradientColor(0, this.opts.gradient);\n  }\n}\n\nMoleculeColorer.prototype.id = 'MO';\nMoleculeColorer.prototype.name = 'Molecule';\nMoleculeColorer.prototype.shortName = 'Molecule';\n\nexport default MoleculeColorer;\n","import Colorer from './Colorer';\nimport Atom from '../../chem/Atom';\n\nfunction scaleColor(c, factor) {\n  const r1 = (c >> 16) & 0xff;\n  const g1 = (c >> 8) & 0xff;\n  const b1 = c & 0xff;\n  const r = factor * r1;\n  const g = factor * g1;\n  const b = factor * b1;\n  return (r << 16) | (g << 8) | b;\n}\n\n/**\n * Create new colorer.\n *\n * @param {object=} opts - Options to override defaults with. See {@link Colorer}.\n *\n * @exports CarbonColorer\n * @augments Colorer\n * @constructor\n * @classdesc Bicolor coloring algorithm based on selection carbon atoms.\n */\nclass CarbonColorer extends Colorer {\n  static id = 'CB';\n\n  getAtomColor(atom, _complex) {\n    const colorCarbon = this.opts.color;\n    const colorNotCarbon = scaleColor(colorCarbon, this.opts.factor);\n    return (atom.flags & Atom.Flags.CARBON) ? colorCarbon : colorNotCarbon;\n  }\n\n  getResidueColor(_residue, _complex) {\n    return this.opts.color;\n  }\n}\n\nCarbonColorer.prototype.id = 'CB';\nCarbonColorer.prototype.name = 'Carbon';\nCarbonColorer.prototype.shortName = 'Carbon';\n\nexport default CarbonColorer;\n","import EntityList from '../utils/EntityList';\n\nimport ElementColorer from './colorers/ElementColorer';\nimport ResidueTypeColorer from './colorers/ResidueTypeColorer';\nimport SequenceColorer from './colorers/SequenceColorer';\nimport ChainColorer from './colorers/ChainColorer';\nimport SecondaryStructureColorer from './colorers/SecondaryStructureColorer';\nimport UniformColorer from './colorers/UniformColorer';\nimport ConditionalColorer from './colorers/ConditionalColorer';\nimport ConformationColorer from './colorers/ConformationColorer';\nimport TemperatureColorer from './colorers/TemperatureColorer';\nimport OccupancyColorer from './colorers/OccupancyColorer';\nimport HydrophobicityColorer from './colorers/HydrophobicityColorer';\nimport MoleculeColorer from './colorers/MoleculeColorer';\nimport CarbonColorer from './colorers/CarbonColorer';\n\nconst colorers = new EntityList([\n  ElementColorer,\n  ResidueTypeColorer,\n  SequenceColorer,\n  ChainColorer,\n  SecondaryStructureColorer,\n  UniformColorer,\n  ConditionalColorer,\n  ConformationColorer,\n  TemperatureColorer,\n  OccupancyColorer,\n  HydrophobicityColorer,\n  MoleculeColorer,\n  CarbonColorer,\n]);\n\nexport default colorers;\n","import * as THREE from 'three';\nimport EntityList from '../utils/EntityList';\n\nfunction neutralColor(intensity) {\n  return new THREE.Color(intensity, intensity, intensity);\n}\n\nconst materialList = [\n  {\n    id: 'DF',\n    name: 'Diffuse',\n    shortName: 'Diffuse',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'SF',\n    name: 'Soft Plastic',\n    shortName: 'Soft',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.1),\n      shininess: 30,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'PL',\n    name: 'Glossy Plastic',\n    shortName: 'Glossy',\n    uberOptions: {\n      diffuse: neutralColor(0.56),\n      specular: neutralColor(0.28),\n      shininess: 100,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'ME',\n    name: 'Metal',\n    shortName: 'Metal',\n    uberOptions: {\n      diffuse: neutralColor(0.56),\n      specular: neutralColor(0.55),\n      shininess: 30,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'TR',\n    name: 'Transparent',\n    shortName: 'Transparent',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 0.5,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: true,\n      toonShading: false,\n    },\n  }, {\n    id: 'GL',\n    name: 'Glass',\n    shortName: 'Glass',\n    uberOptions: {\n      diffuse: neutralColor(0.50),\n      specular: neutralColor(0.65),\n      shininess: 100,\n      opacity: 0.5,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: true,\n      toonShading: false,\n    },\n  }, {\n    id: 'BA',\n    name: 'Backdrop',\n    shortName: 'Backdrop',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0,\n    },\n    values: {\n      lights: false,\n      fog: false,\n      depthWrite: false,\n      transparent: false,\n      toonShading: false,\n    },\n  }, {\n    id: 'TN',\n    name: 'Toon',\n    shortName: 'Toon',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 1,\n      opacity: 1.0,\n    },\n    values: {\n      lights: true,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n      toonShading: true,\n    },\n  }, {\n    id: 'FL',\n    name: 'Flat',\n    shortName: 'Flat',\n    uberOptions: {\n      diffuse: neutralColor(1.0),\n      specular: neutralColor(0.0),\n      shininess: 0,\n      opacity: 1.0,\n    },\n    values: {\n      lights: false,\n      fog: true,\n      depthWrite: true,\n      transparent: false,\n    },\n  },\n];\n\nconst materials = new EntityList(materialList);\n\nexport default materials;\n","/**\n * Utils functions which is worked with meshes\n *\n * functions for doing something with all/specified meshes\n * functions for traversihg tree and create auxiliary meshes for transparency/shadowmaps...\n * functions for calculating data connected with meshes\n */\nimport * as THREE from 'three';\nimport UberMaterial from './shaders/UberMaterial';\nimport gfxutils from './gfxutils';\n\nfunction _gatherObjects(root, meshTypes) {\n  const meshes = [];\n  root.traverse((object) => {\n    for (let i = 0; i < meshTypes.length; i++) {\n      if (object instanceof meshTypes[i]) {\n        meshes[meshes.length] = object;\n        break;\n      }\n    }\n  });\n  return meshes;\n}\n\n// new mesh with the same geometry and specified material values and layer\nfunction createDerivativeMesh(mesh, values, layer) {\n  const material = mesh.material.createInstance();\n  material.setValues(values);\n\n  const newMesh = new mesh.constructor(mesh.geometry, material);\n  newMesh.material.needsUpdate = true;\n  newMesh.applyMatrix4(mesh.matrix);\n  newMesh.layers.set(layer);\n  return newMesh;\n}\n\nfunction traverseMeshes(root, meshTypes, func) {\n  const meshes = _gatherObjects(root, meshTypes);\n\n  for (let i = 0, n = meshes.length; i < n; ++i) {\n    const mesh = meshes[i];\n    if (!mesh.parent) {\n      continue;\n    }\n    func(mesh);\n  }\n}\n\nfunction applyTransformsToMeshes(root, mtc) {\n  const mtcCount = mtc.length;\n  if (mtcCount < 1) {\n    return;\n  }\n\n  const meshTypes = [THREE.Mesh, THREE.LineSegments, THREE.Line];\n  traverseMeshes(root, meshTypes, (mesh) => {\n    mesh.applyMatrix4(mtc[0]);\n    for (let j = 1; j < mtcCount; ++j) {\n      const newMesh = new mesh.constructor(mesh.geometry, mesh.material);\n      mesh.parent.add(newMesh);\n      newMesh.applyMatrix4(mtc[j]);\n    }\n  });\n}\n\nconst processTransparentMaterial = (function () {\n  const matValues = {\n    prepassTransparancy: true,\n    fakeOpacity: false,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false,\n  };\n\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n\n    traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n      mesh.material.setValues({ prepassTransparancy: false, fakeOpacity: false });\n      mesh.material.needsUpdate = true;\n      mesh.layers.set(gfxutils.LAYERS.TRANSPARENT);\n\n      const prepassTranspMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.PREPASS_TRANSPARENT);\n      mesh.parent.add(prepassTranspMesh);\n    });\n  };\n}());\n\nconst processColFromPosMaterial = (function () {\n  const matValues = {\n    colorFromPos: true,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false,\n    overrideColor: false,\n    fogTransparent: false,\n    attrColor: false,\n    attrColor2: false,\n    attrAlphaColor: false,\n    fakeOpacity: false,\n  };\n\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n\n    traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n      const colFromPosMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.COLOR_FROM_POSITION);\n      mesh.parent.add(colFromPosMesh);\n    });\n  };\n}());\n\nconst createShadowmapMaterial = (function () {\n  const matValues = {\n    colorFromDepth: true,\n    orthoCam: true,\n    lights: false,\n    shadowmap: false,\n    fog: false,\n  };\n\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n      if (!mesh.receiveShadow && mesh.material.shadowmap) { // remove shadow from non-receivers\n        mesh.material.setValues({ shadowmap: false });\n      }\n      if (!mesh.material.lights) { // skip creating shadowmap meshes for materials without lighting\n        return;\n      }\n      if (!mesh.castShadow) { // skip creating shadowmap meshes for non-casters\n        return;\n      }\n      if (!gfxutils.belongToSelectLayers(mesh)) { // skip creating shadowmap meshes for selection layer\n        return;\n      }\n\n      const shadowmapMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.SHADOWMAP);\n      shadowmapMesh.isShadowmapMesh = true;\n      mesh.parent.add(shadowmapMesh);\n    });\n  };\n}());\n\nfunction removeShadowmapMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n\n  traverseMeshes(root, [THREE.Mesh, THREE.LineSegments], (mesh) => {\n    if (mesh.isShadowmapMesh) {\n      mesh.parent.remove(mesh);\n    }\n  });\n}\n\nfunction forEachMeshInGroup(group, process) {\n  function processObj(object) {\n    if (object instanceof THREE.Mesh) {\n      process(object);\n    }\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      processObj(object.children[i]);\n    }\n  }\n  processObj(group);\n}\n\nfunction _countMeshTriangles(mesh) {\n  const geom = mesh.geometry;\n  if (geom instanceof THREE.InstancedBufferGeometry) {\n    const attribs = geom.attributes;\n    for (const property in attribs) {\n      if (attribs.hasOwnProperty(property) && attribs[property] instanceof THREE.InstancedBufferAttribute) {\n        const currAttr = attribs[property];\n        const indexSize = geom.index ? geom.index.array.length / 3 : 0;\n        return indexSize * currAttr.array.length / currAttr.itemSize;\n      }\n    }\n    return 0;\n  }\n  if (geom instanceof THREE.BufferGeometry) {\n    return geom.index ? geom.index.array.length / 3 : 0;\n  }\n  return geom.faces ? geom.faces.length : 0;\n}\n\nfunction countTriangles(group) {\n  let totalCount = 0;\n  forEachMeshInGroup(group, (mesh) => {\n    totalCount += _countMeshTriangles(mesh);\n  });\n  return totalCount;\n}\n\nexport default {\n  applyTransformsToMeshes,\n  processTransparentMaterial,\n  processColFromPosMaterial,\n  createShadowmapMaterial,\n  removeShadowmapMaterial,\n  forEachMeshInGroup,\n  countTriangles,\n};\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport UberMaterial from './shaders/UberMaterial';\nimport gfxutils from './gfxutils';\nimport meshutils from './meshutils';\nimport settings from '../settings';\nimport materials from './materials';\nimport chem from '../chem';\n\nconst { selectors } = chem;\n\nclass Representation {\n  constructor(index, mode, colorer, selector) {\n    const startMaterialValues = {\n      clipPlane: settings.now.draft.clipPlane,\n      fogTransparent: settings.now.bg.transparent,\n      shadowmap: settings.now.shadow.on,\n      shadowmapType: settings.now.shadow.type,\n    };\n    this.index = index;\n    this.mode = mode;\n    this.colorer = colorer;\n    this.selector = selector;\n    this.selectorString = '';\n    this.count = 0;\n    this.material = new UberMaterial();\n    this.material.setValues(startMaterialValues);\n    this.material.setUberOptions({ fogAlpha: settings.now.fogAlpha });\n    this.materialPreset = materials.first;\n    this.needsRebuild = true;\n    this.visible = true;\n\n    // apply mode params & preset\n    this.setMode(mode);\n  }\n\n  markAtoms(complex) {\n    this.count = complex.markAtoms(this.selector, 1 << this.index);\n    this.needsRebuild = true;\n    return this.count;\n  }\n\n  unmarkAtoms(complex) {\n    complex.clearAtomBits(1 << this.index);\n    this.count = 0;\n  }\n\n  setMode(mode) {\n    this.mode = mode;\n  }\n\n  setMaterialPreset(preset) {\n    this.materialPreset = preset;\n    this.material.setUberOptions(preset.uberOptions);\n    this.material.setValues(preset.values);\n  }\n\n  reset() {\n    this.geo = null;\n    this.selectionGeo = null;\n  }\n\n  buildGeometry(complex) {\n    this.reset();\n    this.needsRebuild = false;\n\n    if (settings.now.ao) {\n      this.material.setValues({ normalsToGBuffer: settings.now.ao });\n    }\n\n    this.geo = this.mode.buildGeometry(complex, this.colorer, 1 << this.index, this.material);\n\n    if (this.material.uberOptions.opacity < 0.99 && settings.now.transparency === 'prepass') {\n      meshutils.processTransparentMaterial(this.geo, this.material);\n    }\n    this.geo.visible = this.visible;\n\n    gfxutils.processObjRenderOrder(this.geo, this.materialPreset.id);\n    meshutils.processColFromPosMaterial(this.geo, this.material);\n\n    if (settings.now.shadow.on) {\n      meshutils.createShadowmapMaterial(this.geo, this.material);\n    }\n\n    return this.geo;\n  }\n\n  buildSelectionGeometry(mask) {\n    let sg = null;\n\n    if (this.geo && ('getSubset' in this.geo)) {\n      const meshes = this.geo.getSubset(mask);\n      if (meshes && meshes.length > 0) {\n        sg = new THREE.Group();\n        sg.matrixAutoUpdate = false;\n        sg.matrix = this.geo.matrix;\n\n        for (let j = 0; j < meshes.length; j++) {\n          const m = meshes[j];\n          sg.add(m);\n        }\n      }\n    }\n\n    if (sg) {\n      sg.visible = this.visible;\n    }\n\n    this.selectionGeo = sg;\n    return this.selectionGeo;\n  }\n\n  /**\n   * Create object that represents difference between current and another rep\n   * anotherRep could be undefined. In this case everything is reported.\n   */\n  compare(repSettings) {\n    const diff = {};\n\n    const selStr = String(this.selector);\n    if (!repSettings || selStr.valueOf() !== String(repSettings.selector).valueOf()) {\n      diff.selector = selStr;\n    }\n\n    const modeDiff = this.mode.identify();\n    if (!repSettings || Array.isArray(modeDiff) || modeDiff !== repSettings.mode) {\n      diff.mode = modeDiff;\n    }\n\n    const colorerDiff = this.colorer.identify();\n    if (!repSettings || Array.isArray(colorerDiff) || colorerDiff !== repSettings.colorer) {\n      diff.colorer = colorerDiff;\n    }\n\n    if (!repSettings || this.materialPreset.id !== repSettings.material) {\n      diff.material = this.materialPreset.id;\n    }\n\n    return diff;\n  }\n\n  /**\n   * Change representation. Write fields what was changed into new object, return it.\n   */\n  change(repSettings, complex, mode, color) {\n    const diff = {};\n\n    // modify selector\n    if (repSettings.selector) {\n      const newSelectorObject = selectors.parse(repSettings.selector).selector;\n      const newSelector = String(newSelectorObject);\n      if (this.selectorString !== newSelector) {\n        diff.selector = newSelector;\n        this.selectorString = newSelector;\n        this.selector = newSelectorObject;\n        this.markAtoms(complex);\n      }\n    }\n\n    // modify mode\n    if (repSettings.mode) {\n      const newMode = repSettings.mode;\n      if (!_.isEqual(this.mode.identify(), newMode)) {\n        diff.mode = newMode;\n        this.setMode(mode);\n      }\n    }\n\n    // modify colorer\n    if (repSettings.colorer) {\n      const newColorer = repSettings.colorer;\n      if (!_.isEqual(this.colorer.identify(), newColorer)) {\n        diff.colorer = newColorer;\n        this.colorer = color;\n      }\n    }\n\n    // modify material\n    if (repSettings.material) {\n      const newMaterial = repSettings.material;\n      if (!_.isEqual(this.materialPreset.id, newMaterial)) {\n        diff.material = newMaterial;\n        this.setMaterialPreset(materials.get(repSettings.material));\n      }\n    }\n\n    return diff;\n  }\n\n  show(visible) {\n    this.visible = visible;\n    if (this.geo) {\n      this.geo.visible = visible;\n    }\n    if (this.selectionGeo) {\n      this.selectionGeo.visible = visible;\n    }\n  }\n}\n\nexport default Representation;\n","import * as THREE from 'three';\nimport logger from './utils/logger';\nimport gfxutils from './gfx/gfxutils';\nimport './gfx/modes';\n\nfunction _traverseComponentGroups(root, component, callback) {\n  const { children } = root;\n  if (!children) {\n    return;\n  }\n\n  for (let i = 0, n = children.length; i < n; ++i) {\n    const child = children[i];\n    if (child._component === component) {\n      callback(child);\n    }\n    if (child instanceof gfxutils.RCGroup) {\n      _traverseComponentGroups(child, component, callback);\n    }\n  }\n}\n\nfunction ComplexEditor() {\n}\n\nclass ComplexComponentEditor extends ComplexEditor {\n  constructor(complexVisual) {\n    super();\n    this._complexVisual = complexVisual;\n    this._inProgress = false;\n  }\n\n  begin() {\n    const complex = this._complexVisual.getComplex();\n\n    // init component matrices\n    this._componentTransforms = [];\n    for (let i = 0; i < complex._components.length; ++i) {\n      const component = complex._components[i];\n      this._componentTransforms[component._index] = new THREE.Object3D();\n    }\n\n    this._inProgress = true;\n\n    return true;\n  }\n\n  apply() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    const complex = this._complexVisual.getComplex();\n\n    for (let i = 0; i < complex._components.length; ++i) {\n      this._bakeComponentTransform(complex._components[i]);\n    }\n\n    complex.onAtomPositionChanged();\n\n    this._resetComponentTransform();\n\n    this._complexVisual.finalizeEdit();\n  }\n\n  discard() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    this._resetComponentTransform();\n\n    this._complexVisual.finalizeEdit();\n  }\n\n  getAltObj() {\n    const res = {\n      objects: [],\n      pivot: new THREE.Vector3(0, 0, 0),\n    };\n\n    const visual = this._complexVisual;\n    const component = visual.getSelectedComponent();\n\n    if (component === null) {\n      return res;\n    }\n\n    const selection = this._complexVisual.getSelectionGeo();\n    const selectionMask = 1 << visual.getSelectionBit();\n    let i;\n    let j;\n    let reprNode;\n    let geo;\n\n    // find all geo nodes for this component\n    _traverseComponentGroups(visual, component, (child) => {\n      res.objects.push(child);\n    });\n\n    // find all selection nodes for this component\n    for (i = 0; i < selection.children.length; ++i) {\n      reprNode = selection.children[i];\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j];\n        if (geo.hasOwnProperty('_component') && geo._component === component) {\n          res.objects.push(geo);\n        }\n      }\n    }\n\n    // add dummy object that stores component transformation\n    res.objects.push(this._componentTransforms[component._index]);\n\n    const bbmin = new THREE.Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    const bbmax = new THREE.Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n\n    component.forEachResidue((residue) => {\n      const atoms = residue._atoms;\n      for (j = 0; j < atoms.length; ++j) {\n        if (atoms[j].mask & selectionMask) {\n          bbmin.min(atoms[j].position);\n          bbmax.max(atoms[j].position);\n        }\n      }\n    });\n\n    res.pivot.lerpVectors(bbmin, bbmax, 0.5);\n    return res;\n  }\n\n  _bakeComponentTransform(component) {\n    const t = this._componentTransforms[component._index];\n    if (t && (!(t.position.x === 0 && t.position.y === 0 && t.position.z === 0)\n      || !(t.quaternion.x === 0 && t.quaternion.y === 0 && t.quaternion.z === 0 && t.quaternion.w === 1))) {\n      t.updateMatrix();\n\n      component.forEachResidue((residue) => {\n        const atoms = residue._atoms;\n        for (let j = 0; j < atoms.length; ++j) {\n          atoms[j].position.applyMatrix4(t.matrix);\n        }\n      });\n    }\n  }\n\n  _resetComponentTransform() {\n    const visual = this._complexVisual;\n    const selection = this._complexVisual.getSelectionGeo();\n    let i;\n    let j;\n    let reprNode;\n    let geo;\n\n    for (i = 0; i < this._componentTransforms.length; ++i) {\n      geo = this._componentTransforms[i];\n      geo.position.set(0, 0, 0);\n      geo.quaternion.set(0, 0, 0, 1);\n    }\n\n    // reset all geo nodes\n    for (i = 0; i < visual.children.length; ++i) {\n      reprNode = visual.children[i];\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j];\n        if (geo.hasOwnProperty('_component')) {\n          geo.position.set(0, 0, 0);\n          geo.quaternion.set(0, 0, 0, 1);\n        }\n      }\n    }\n\n    // reset all selection nodes\n    for (i = 0; i < selection.children.length; ++i) {\n      reprNode = selection.children[i];\n      for (j = 0; j < reprNode.children.length; ++j) {\n        geo = reprNode.children[j];\n        if (geo.hasOwnProperty('_component')) {\n          geo.position.set(0, 0, 0);\n          geo.quaternion.set(0, 0, 0, 1);\n        }\n      }\n    }\n  }\n}\n\nclass ComplexFragmentEditor extends ComplexEditor {\n  constructor(complexVisual) {\n    super();\n    this._complexVisual = complexVisual;\n    this._inProgress = false;\n  }\n\n  begin() {\n    const visual = this._complexVisual;\n    const selection = this._complexVisual.getSelectionGeo();\n\n    const atoms = this._getSelectionBorderAtoms();\n    if (atoms.length < 1 || atoms.length > 2) {\n      logger.error('Can only edit fragments with one or two bound atoms.');\n      return false;\n    }\n\n    this._fragmentBoundAtoms = atoms;\n\n    const selectionMask = 1 << visual.getSelectionBit();\n\n    // hide selected fragment in main model\n    visual.disableSubset(selectionMask, true);\n\n    // hide selection geo in main model\n    for (let k = 0; k < selection.children.length; ++k) {\n      selection.children[k].visible = false;\n    }\n\n    // create visible fragment representation to rotate\n    const pivotPos = atoms[0].position.clone();\n\n    if (atoms.length === 2) {\n      pivotPos.lerp(atoms[1].position, 0.5);\n    }\n\n    this._fragmentGeo = new THREE.Group();\n    visual.add(this._fragmentGeo);\n    this._fragmentGeo.position.copy(pivotPos);\n\n    this._fragmentSelectionGeo = new THREE.Group();\n    selection.add(this._fragmentSelectionGeo);\n    this._fragmentSelectionGeo.position.copy(pivotPos);\n\n    const offset = pivotPos.clone();\n    offset.negate();\n\n    for (let i = 0; i < visual.children.length; ++i) {\n      const g = visual.children[i];\n      if (!('getSubset' in g)) {\n        continue;\n      }\n\n      const vg = new THREE.Group();\n      this._fragmentGeo.add(vg);\n\n      const sg = new THREE.Group();\n      this._fragmentSelectionGeo.add(sg);\n\n      const meshes = g.getSubset(selectionMask, true);\n      for (let j = 0; j < meshes.length; j++) {\n        const m = meshes[j];\n        vg.add(m);\n        m.position.copy(offset);\n      }\n\n      const smeshes = g.getSubset(selectionMask, true);\n      for (let h = 0; h < smeshes.length; h++) {\n        const sm = smeshes[h];\n        sg.add(sm);\n        sm.position.copy(offset);\n      }\n    }\n\n    gfxutils.applySelectionMaterial(this._fragmentSelectionGeo);\n\n    this._inProgress = true;\n    return true;\n  }\n\n  apply() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    const visual = this._complexVisual;\n    const selectionBit = visual.getSelectionBit();\n\n    const p = this._fragmentGeo.position;\n    const m = this._fragmentGeo.matrix.clone();\n    m.multiply(new THREE.Matrix4().makeTranslation(-p.x, -p.y, -p.z));\n\n    this._bakeAtomTransform(m, 1 << selectionBit);\n\n    // show selected fragment in main model\n    visual.enableSubset(1 << selectionBit, true);\n\n    visual.getComplex().onAtomPositionChanged();\n\n    visual.finalizeEdit();\n  }\n\n  discard() {\n    if (!this._inProgress) {\n      return;\n    }\n\n    const visual = this._complexVisual;\n    const selection = this._complexVisual.getSelectionGeo();\n\n    this._fragmentGeo.parent.remove(this._fragmentGeo);\n\n    // show selected fragment in main model\n    visual.enableSubset(1 << visual.getSelectionBit(), true);\n\n    // show selection geo in main model (+ remove fragment selection geo)\n    for (let i = 0; i < selection.children.length; ++i) {\n      const node = selection.children[i];\n      if (node.visible) {\n        selection.remove(node);\n      } else {\n        node.visible = true;\n      }\n    }\n\n    visual.finalizeEdit();\n  }\n\n  isFreeRotationAllowed() {\n    return (this._fragmentBoundAtoms.length < 2);\n  }\n\n  getAltObj() {\n    const res = {\n      objects: [],\n      pivot: new THREE.Vector3(0, 0, 0),\n    };\n\n    res.objects.push(this._fragmentGeo, this._fragmentSelectionGeo);\n\n    const boundAtoms = this._fragmentBoundAtoms;\n    if (boundAtoms.length === 1) {\n      if (boundAtoms[0].bonds.length === 1) {\n        // single external bond allows rotation about bond axis\n        const bond = boundAtoms[0].bonds[0];\n        res.axis = new THREE.Vector3().subVectors(bond._right.position, bond._left.position);\n        res.axis.normalize();\n        res.axis.transformDirection(this._complexVisual.matrixWorld);\n      }\n    } else if (boundAtoms.length === 2) {\n      // two bound atoms allow rotation only about axis running through their centers\n      res.axis = new THREE.Vector3().subVectors(boundAtoms[1].position, boundAtoms[0].position);\n      res.axis.normalize();\n      res.axis.transformDirection(this._complexVisual.matrixWorld);\n    }\n\n    return res;\n  }\n\n  _getSelectionBorderAtoms() {\n    const complex = this._complexVisual.getComplex();\n\n    const selectionMask = 1 << this._complexVisual.getSelectionBit();\n    const atomHash = {};\n\n    complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          atomHash[bond._left.index] = 1;\n        }\n      } else if (bond._right.mask & selectionMask) {\n        atomHash[bond._right.index] = 1;\n      }\n    });\n\n    const atoms = [];\n    const keys = Object.keys(atomHash);\n    for (let i = 0, n = keys.length; i < n; ++i) {\n      const idx = keys[i];\n      atoms.push(complex._atoms[idx]);\n    }\n\n    return atoms;\n  }\n\n  _bakeAtomTransform(matrix, mask) {\n    this._complexVisual.getComplex().forEachAtom((atom) => {\n      if (atom.mask & mask) {\n        atom.position.applyMatrix4(matrix);\n      }\n    });\n  }\n}\n\nexport default {\n  ComponentEditor: ComplexComponentEditor,\n  FragmentEditor: ComplexFragmentEditor,\n};\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport utils from './utils';\nimport logger from './utils/logger';\nimport chem from './chem';\nimport settings from './settings';\nimport gfxutils from './gfx/gfxutils';\nimport modes from './gfx/modes';\nimport colorers from './gfx/colorers';\nimport palettes from './gfx/palettes';\nimport materials from './gfx/materials';\nimport Representation from './gfx/Representation';\nimport Visual from './Visual';\nimport ComplexVisualEdit from './ComplexVisualEdit';\nimport meshutils from './gfx/meshutils';\n\nconst { selectors } = chem;\n\nfunction lookupAndCreate(entityList, specs) {\n  if (!Array.isArray(specs)) {\n    specs = [specs];\n  }\n  const [id, opts] = specs;\n  const Entity = entityList.get(id) || entityList.first;\n  return new Entity(opts);\n}\n\nclass ComplexVisual extends Visual {\n  constructor(name, dataSource) {\n    super(name, dataSource);\n    this._complex = dataSource;\n\n    /** @type {Representation[]} */\n    this._reprList = [];\n    /** @type {?Representation} */\n    this._repr = null;\n    this._reprListChanged = true;\n\n    this._selectionBit = 0;\n    this._reprUsedBits = 0;\n    this._selectionCount = 0;\n\n    this._selectionGeometry = new THREE.Group();\n  }\n\n  getBoundaries() {\n    return this._complex.getBoundaries();\n  }\n\n  release() {\n    if (this._selectionGeometry.parent) {\n      this._selectionGeometry.remove(this._selectionGeometry);\n    }\n    Visual.prototype.release.call(this);\n  }\n\n  getComplex() {\n    return this._complex;\n  }\n\n  getSelectionCount() {\n    return this._selectionCount;\n  }\n\n  getSelectionGeo() {\n    return this._selectionGeometry;\n  }\n\n  getSelectionBit() {\n    return this._selectionBit;\n  }\n\n  getEditor() {\n    return this._editor;\n  }\n\n  resetReps(reps) {\n    // Create all necessary representations\n    if (this._complex) {\n      this._complex.clearAtomBits(~0);\n    }\n    this._reprListChanged = true;\n    this._reprUsedBits = 0;\n    this._reprList.length = reps.length;\n    for (let i = 0, n = reps.length; i < n; ++i) {\n      const rep = reps[i];\n\n      let selector;\n      let selectorString;\n      if (typeof rep.selector === 'string') {\n        selectorString = rep.selector;\n        ({ selector } = selectors.parse(selectorString));\n      } else if (typeof rep.selector === 'undefined') {\n        selectorString = settings.now.presets.default[0].selector;\n        ({ selector } = selectors.parse(selectorString));\n      } else {\n        ({ selector } = rep);\n        selectorString = selector.toString();\n      }\n      const mode = lookupAndCreate(modes, rep.mode);\n      const colorer = lookupAndCreate(colorers, rep.colorer);\n      const material = materials.get(rep.material) || materials.first;\n\n      this._reprList[i] = new Representation(i, mode, colorer, selector);\n      this._reprList[i].setMaterialPreset(material);\n      this._reprList[i].selectorString = selectorString;\n\n      if (this._complex) {\n        this._complex.markAtoms(selector, 1 << i);\n      }\n\n      this._reprUsedBits |= 1 << i;\n    }\n    this._repr = reps.length > 0 ? this._reprList[0] : null;\n\n    this._selectionBit = reps.length;\n    this._reprUsedBits |= 1 << this._selectionBit; // selection uses one bit\n    this._selectionCount = 0;\n\n    if (this._complex) {\n      this._complex.update();\n    }\n  }\n\n  /**\n   * Get number of representations created so far.\n   * @returns {number} Number of reps.\n   */\n  repCount() {\n    return this._reprList.length;\n  }\n\n  /**\n   * Get or set the current representation index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @returns {number} The current index.\n   */\n  repCurrent(index) {\n    if (index >= 0 && index < this._reprList.length) {\n      this._repr = this._reprList[index];\n    } else {\n      index = this._reprList.indexOf(this._repr);\n    }\n    return index;\n  }\n\n  /**\n   * Get or set representation by index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @param {object=} rep - Optional representation description.\n   * @param {string=} rep.selector - Selector string.\n   * @param {string=} rep.mode - Mode id.\n   * @param {string=} rep.colorer - Colorer id.\n   * @param {string=} rep.material - Material id.\n   * @returns {Object} {desc, index, status} field desc contains rep description, index - index of correspondent rep,\n   * status - one of three strings: 'created', 'changed', ''. 'created' means new rep was created during this function,\n   * 'changed' - rep was changed during this function. '' - something else.\n   */\n  rep(index, rep) {\n    // if index is missing then it is the current\n    if (!rep && (index === undefined || index instanceof Object)) {\n      rep = index;\n      index = this.repCurrent();\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index > this._reprList.length) {\n      logger.error(`Rep ${index} does not exist!`);\n      return null;\n    }\n\n    // a special case of adding just after the end\n    if (index === this._reprList.length) {\n      const res = this.repAdd(rep);\n      logger.warn(`Rep ${index} does not exist! New representation was created.`);\n      return { desc: res.desc, index, status: 'created' };\n    }\n\n    // gather description\n    const target = this._reprList[index];\n    const desc = {\n      selector: target.selectorString,\n      mode: target.mode.identify(),\n      colorer: target.colorer.identify(),\n      material: target.materialPreset.id,\n    };\n\n    // modification is requested\n    if (rep) {\n      // modify\n      const diff = target.change(rep, this._complex,\n        lookupAndCreate(modes, rep.mode),\n        lookupAndCreate(colorers, rep.colorer));\n\n      // something was changed\n      if (!_.isEmpty(diff)) {\n        target.needsRebuild = true;\n        for (const key in diff) {\n          if (diff.hasOwnProperty(key)) {\n            desc[key] = diff[key];\n            logger.debug(`rep[${index}].${key} changed to ${diff[key]}`);\n          }\n        }\n\n        // safety trick: lower resolution for surface modes\n        if (diff.mode && target.mode.isSurface\n          && (settings.now.resolution === 'ultra' || settings.now.resolution === 'high')) {\n          logger.report('Surface resolution was changed to \"medium\" to avoid hang-ups.');\n          settings.set('resolution', 'medium');\n        }\n        return { desc, index, status: 'changed' };\n      }\n    }\n    return { desc, index, status: '' };\n  }\n\n  /**\n   * Get representation (not just description) by index.\n   * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n   * @returns {?object} Representation.\n   */\n  repGet(index) {\n    // if index is missing then it is the current\n    if (index === undefined || index instanceof Object) {\n      index = this.repCurrent();\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index >= this._reprList.length) {\n      return null;\n    }\n\n    return this._reprList[index];\n  }\n\n  _getFreeReprIdx() {\n    let bits = this._reprUsedBits;\n    for (let i = 0; i <= ComplexVisual.NUM_REPRESENTATION_BITS; ++i, bits >>= 1) {\n      if ((bits & 1) === 0) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Add new representation.\n   * @param {object=} rep - Representation description.\n   * @returns {Object} {desc, index} field desc contains added rep description, index - index of this rep.\n   */\n  repAdd(rep) {\n    if (this._reprList.length >= ComplexVisual.NUM_REPRESENTATION_BITS) {\n      return null;\n    }\n\n    const newSelectionBit = this._getFreeReprIdx();\n    if (newSelectionBit < 0) {\n      return null; // no more slots for representations\n    }\n\n    const originalSelection = this.buildSelectorFromMask(1 << this._selectionBit);\n\n    // Fill in default values\n    const def = settings.now.presets.default[0];\n    const desc = _.merge({\n      selector: def.selector,\n      mode: def.mode,\n      colorer: def.colorer,\n      material: def.material,\n    }, rep);\n\n    const selector = (typeof desc.selector === 'string') ? selectors.parse(desc.selector).selector : desc.selector;\n    const target = new Representation(\n      this._selectionBit,\n      lookupAndCreate(modes, desc.mode),\n      lookupAndCreate(colorers, desc.colorer),\n      selector,\n    );\n    target.selectorString = selector.toString();\n    target.setMaterialPreset(materials.get(desc.material));\n    target.markAtoms(this._complex);\n    this._reprList.push(target);\n\n    // change selection bit\n    this._selectionBit = newSelectionBit;\n    this._reprUsedBits |= 1 << this._selectionBit;\n\n    // restore selection using new selection bit\n    this._complex.markAtoms(originalSelection, 1 << this._selectionBit);\n\n    return { desc, index: this._reprList.length - 1 };\n  }\n\n  /**\n   * Remove representation.\n   * @param {number=} index - Zero-based representation index.\n   */\n  repRemove(index) {\n    if (index === undefined) {\n      index = this.repCurrent();\n    }\n\n    // catch out of bounds case\n    let count = this._reprList.length;\n    if (index < 0 || index >= count || count <= 1) { // do not allow to remove the single rep\n      return;\n    }\n\n    const target = this._reprList[index];\n    target.unmarkAtoms(this._complex);\n    this._reprUsedBits &= ~(1 << target.index);\n\n    this._reprList.splice(index, 1);\n\n    // update current rep\n    if (target === this._repr) {\n      --count;\n      index = index < count ? index : count - 1;\n      this._repr = this._reprList[index];\n    }\n    this._reprListChanged = true;\n  }\n\n  /**\n   * Hide representation.\n   * @param {number} index - Zero-based representation index.\n   * @param {boolean=} hide - Specify false to make rep visible, true to hide (by default).\n   */\n  repHide(index, hide) {\n    if (hide === undefined) {\n      hide = true;\n    }\n\n    // fail if out of bounds\n    if (index < 0 || index >= this._reprList.length) {\n      return;\n    }\n\n    const target = this._reprList[index];\n    target.show(!hide);\n  }\n\n  /**\n   * Select atoms with selector\n   * @param {Selector} selector - selector\n   * @param {boolean=} append - true to append selection atoms to current selection, false to rewrite selection\n   */\n  select(selector, append) {\n    if (append) {\n      this._selectionCount += this._complex.markAtomsAdditionally(selector, 1 << this._selectionBit);\n    } else {\n      this._selectionCount = this._complex.markAtoms(selector, 1 << this._selectionBit);\n    }\n    this._complex.updateStructuresMask();\n    this.rebuildSelectionGeometry();\n  }\n\n  resetSelectionMask() {\n    if (this._selectionCount !== 0) {\n      this._selectionCount = 0;\n      if (this._complex) {\n        this._complex.clearAtomBits(1 << this._selectionBit);\n      }\n    }\n  }\n\n  updateSelectionMask(pickedObj) {\n    const self = this;\n    const { atom } = pickedObj;\n    let { residue, chain, molecule } = pickedObj;\n    const setMask = 1 << this._selectionBit;\n    const clearMask = ~setMask;\n\n    if (atom) {\n      residue = atom.residue;\n      chain = residue._chain;\n      molecule = residue._molecule;\n\n      if (atom.mask & setMask) {\n        atom.mask &= clearMask;\n        residue._mask &= clearMask;\n        chain._mask &= clearMask;\n        if (molecule) {\n          molecule.mask &= clearMask;\n        }\n        this._selectionCount--;\n      } else {\n        atom.mask |= setMask;\n        this._selectionCount++;\n\n        // select residue if all atoms in it are selected\n        residue.collectMask();\n        // select chain and molecule if all residues in it are selected\n        chain.collectMask();\n        if (molecule) {\n          molecule.collectMask();\n        }\n      }\n    } else if (residue) {\n      chain = residue._chain;\n      molecule = residue._molecule;\n\n      if (residue._mask & setMask) {\n        residue._mask &= clearMask;\n        chain._mask &= clearMask;\n        residue.forEachAtom((a) => {\n          if (a.mask & setMask) {\n            a.mask &= clearMask;\n            self._selectionCount--;\n          }\n        });\n      } else {\n        residue._mask |= setMask;\n        residue.forEachAtom((a) => {\n          if (!(a.mask & setMask)) {\n            a.mask |= setMask;\n            self._selectionCount++;\n          }\n        });\n\n        // select chain and molecule if all residues in it are selected\n        chain.collectMask();\n        if (molecule) {\n          molecule.collectMask();\n        }\n      }\n    } else if (chain || molecule) {\n      const obj = chain || molecule;\n      if (obj._mask & setMask) {\n        obj._mask &= clearMask;\n        obj.forEachResidue((r) => {\n          if (r._mask & setMask) {\n            r._mask &= clearMask;\n            r.forEachAtom((a) => {\n              if (a.mask & setMask) {\n                a.mask &= clearMask;\n                self._selectionCount--;\n              }\n            });\n            r._mask &= clearMask;\n          }\n        });\n      } else {\n        obj._mask |= setMask;\n        obj.forEachResidue((r) => {\n          if (!(r._mask & setMask)) {\n            r._mask |= setMask;\n            r.forEachAtom((a) => {\n              if (!(a.mask & setMask)) {\n                a.mask |= setMask;\n                self._selectionCount++;\n              }\n            });\n            const otherObj = chain ? r.getMolecule() : r.getChain();\n            if (otherObj) {\n              otherObj.collectMask();\n            }\n          }\n        });\n      }\n    } else {\n      this.resetSelectionMask();\n    }\n  }\n\n  expandSelection() {\n    const self = this;\n    const selectionMask = 1 << this._selectionBit;\n    const tmpMask = 1 << 31;\n\n    // mark atoms to add\n    this._complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          bond._right.mask |= tmpMask;\n        }\n      } else if (bond._right.mask & selectionMask) {\n        bond._left.mask |= tmpMask;\n      }\n    });\n\n    // select marked atoms\n    const deselectionMask = ~tmpMask;\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & tmpMask) {\n        atom.mask = (atom.mask & deselectionMask) | selectionMask;\n        ++self._selectionCount;\n      }\n    });\n\n    this._complex.updateStructuresMask();\n  }\n\n  shrinkSelection() {\n    const self = this;\n    const selectionMask = 1 << this._selectionBit;\n    const tmpMask = 1 << 31;\n\n    // mark atoms neighbouring to unselected ones\n    this._complex.forEachBond((bond) => {\n      if (bond._left.mask & selectionMask) {\n        if ((bond._right.mask & selectionMask) === 0) {\n          bond._left.mask |= tmpMask;\n        }\n      } else if (bond._right.mask & selectionMask) {\n        bond._right.mask |= tmpMask;\n      }\n    });\n\n    // mark hanging atoms\n    this._complex.forEachAtom((atom) => {\n      if ((atom.mask & selectionMask) && (atom.bonds.length === 1)) {\n        atom.mask |= tmpMask;\n      }\n    });\n\n    // deselect marked atoms\n    const deselectionMask = ~(selectionMask | tmpMask);\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & tmpMask) {\n        atom.mask &= deselectionMask;\n        --self._selectionCount;\n      }\n    });\n\n    this._complex.updateStructuresMask();\n  }\n\n  getSelectedComponent() {\n    const selectionMask = 1 << this._selectionBit;\n\n    let component = null;\n    let multiple = false;\n\n    // find which component is selected (exclusively)\n    this._complex.forEachAtom((atom) => {\n      if (atom.mask & selectionMask) {\n        if (component === null) {\n          component = atom.residue._component;\n        } else if (component !== atom.residue._component) {\n          multiple = true;\n        }\n      }\n    });\n\n    return multiple ? null : component;\n  }\n\n  getSelectionCenter(center, includesAtom, selRule) {\n    center.set(0.0, 0.0, 0.0);\n    let count = 0;\n\n    this._complex.forEachAtom((atom) => {\n      if (includesAtom(atom, selRule)) {\n        center.add(atom.position);\n        count++;\n      }\n    });\n    if (count === 0) {\n      return false;\n    }\n    center.divideScalar(count);\n    center.applyMatrix4(this.matrix);\n    return true;\n  }\n\n  needsRebuild() {\n    if (this._reprListChanged) {\n      return true;\n    }\n    const reprList = this._reprList;\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      const repr = reprList[i];\n      if (repr.needsRebuild) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Rebuild molecule geometry asynchronously.\n   */\n  rebuild() {\n    const self = this;\n\n    // Destroy current geometry\n    gfxutils.clearTree(this);\n\n    return new Promise(((resolve) => {\n      // Nothing to do?\n      const complex = self._complex;\n      if (!complex) {\n        resolve();\n        return;\n      }\n\n      let errorOccured = false;\n      setTimeout(() => {\n        console.time('build');\n        const reprList = self._reprList;\n        const palette = palettes.get(settings.now.palette) || palettes.first;\n        let hasGeometry = false;\n        for (let i = 0, n = reprList.length; i < n; ++i) {\n          const repr = reprList[i];\n          repr.colorer.palette = palette;\n\n          if (repr.needsRebuild) {\n            repr.reset();\n\n            try {\n              repr.buildGeometry(complex);\n            } catch (e) {\n              if (e instanceof utils.OutOfMemoryError) {\n                repr.needsRebuild = false;\n                repr.reset();\n                logger.error(`Not enough memory to build geometry for representation ${repr.index + 1}`);\n                errorOccured = true;\n              } else {\n                throw e;\n              }\n            }\n\n            if (DEBUG && !errorOccured) {\n              logger.debug(`Triangles count: ${meshutils.countTriangles(repr.geo)}`);\n            }\n          }\n\n          hasGeometry = errorOccured || hasGeometry || gfxutils.groupHasGeometryToRender(repr.geo);\n\n          if (repr.geo) {\n            self.add(repr.geo);\n          }\n        }\n\n        self._reprListChanged = false;\n\n        console.timeEnd('build');\n        resolve();\n      }, 10);\n    }));\n  }\n\n  setNeedsRebuild() {\n    // invalidate all representations\n    const reprList = this._reprList;\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      reprList[i].needsRebuild = true;\n    }\n  }\n\n  rebuildSelectionGeometry() {\n    const mask = 1 << this._selectionBit;\n\n    gfxutils.clearTree(this._selectionGeometry);\n\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const repr = this._reprList[i];\n      const sg = repr.buildSelectionGeometry(mask);\n      if (!sg) {\n        continue;\n      }\n\n      this._selectionGeometry.add(sg);\n      for (let j = 0; j < sg.children.length; j++) {\n        const m = sg.children[j];\n\n        // copy component transform (that's not applied yet)\n        // TODO make this code obsolete, accessing editor is bad\n        if (this._editor && this._editor._componentTransforms) {\n          const t = this._editor._componentTransforms[m._component._index];\n          if (t) {\n            m.position.copy(t.position);\n            m.quaternion.copy(t.quaternion);\n          }\n        }\n      }\n\n      gfxutils.applySelectionMaterial(sg);\n    }\n  }\n\n  _buildSelectorFromSortedLists(atoms, residues, chains) {\n    const complex = this._complex;\n\n    function optimizeList(list) {\n      const result = [];\n      let k = 0;\n      let first = NaN;\n      let last = NaN;\n      for (let i = 0, n = list.length; i < n; ++i) {\n        const value = list[i];\n        if (value === last + 1) {\n          last = value;\n        } else {\n          if (!Number.isNaN(first)) {\n            result[k++] = new selectors.Range(first, last);\n          }\n          first = last = value;\n        }\n      }\n      if (!Number.isNaN(first)) {\n        result[k] = new selectors.Range(first, last);\n      }\n      return result;\n    }\n\n    let expression = null;\n    if (chains.length === complex._chains.length) {\n      expression = selectors.all();\n    } else {\n      let selector;\n      if (chains.length > 0) {\n        selector = selectors.chain(chains);\n        expression = expression ? selectors.or(expression, selector) : selector;// NOSONAR\n      }\n      if (Object.keys(residues).length > 0) {\n        for (const ch in residues) {\n          if (residues.hasOwnProperty(ch)) {\n            selector = selectors.and(\n              selectors.chain(ch),\n              selectors.residx(optimizeList(residues[ch])),\n            );\n            expression = expression ? selectors.or(expression, selector) : selector;\n          }\n        }\n      }\n      if (atoms.length > 0) {\n        selector = selectors.serial(optimizeList(atoms));\n        expression = expression ? selectors.or(expression, selector) : selector;\n      }\n\n      if (!expression) {\n        expression = selectors.none();\n      }\n    }\n\n    return expression;\n  }\n\n  buildSelectorFromMask(mask) {\n    const complex = this._complex;\n    const chains = [];\n    const residues = {};\n    const atoms = [];\n\n    complex.forEachChain((chain) => {\n      if (chain._mask & mask) {\n        chains.push(chain._name);\n      }\n    });\n\n    complex.forEachResidue((residue) => {\n      if (residue._mask & mask && !(residue._chain._mask & mask)) {\n        const c = residue._chain._name;\n        if (!(c in residues)) {\n          residues[c] = [residue._index];\n        } else {\n          residues[c].push(residue._index);\n        }\n      }\n    });\n\n    complex.forEachAtom((atom) => {\n      if (atom.mask & mask && !(atom.residue._mask & mask)) {\n        atoms.push(atom.serial);\n      }\n    });\n\n    return this._buildSelectorFromSortedLists(atoms, residues, chains);\n  }\n\n  forSelectedResidues(process) {\n    const selectionMask = 1 << this._selectionBit;\n    this._complex.forEachResidue((residue) => {\n      if (residue._mask & selectionMask) {\n        process(residue);\n      }\n    });\n  }\n\n  beginComponentEdit() {\n    if (this._editor) {\n      return null;\n    }\n\n    const editor = new ComplexVisualEdit.ComponentEditor(this);\n    if (!editor.begin()) {\n      return null;\n    }\n\n    this._editor = editor;\n    return editor;\n  }\n\n  beginFragmentEdit() {\n    if (this._editor) {\n      return null;\n    }\n\n    const editor = new ComplexVisualEdit.FragmentEditor(this);\n    if (!editor.begin()) {\n      return null;\n    }\n\n    this._editor = editor;\n    return editor;\n  }\n\n  // should only be called by editors\n  finalizeEdit() {\n    this._editor = null;\n  }\n\n  setMaterialValues(values, needTraverse = false, process = undefined) {\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const rep = this._reprList[i];\n      rep.material.setValues(values);\n      if (needTraverse) {\n        rep.geo.traverse((object) => {\n          if (object instanceof THREE.Mesh) {\n            object.material.setValues(values);\n\n            if (process !== undefined) {\n              process(object);\n            }\n\n            object.material.needsUpdate = true;\n          }\n        });\n      }\n    }\n  }\n\n  setUberOptions(values) {\n    for (let i = 0, n = this._reprList.length; i < n; ++i) {\n      const rep = this._reprList[i];\n      rep.material.setUberOptions(values);\n    }\n  }\n\n  /**\n   * Build selector that contains all atoms within given distance from group of atoms\n   * @param {Selector} selector - selector describing source group of atoms\n   * @param {number} radius - distance\n   * @returns {Selector} selector describing result group of atoms\n   */\n  within(selector, radius) {\n    const vw = this._complex.getVoxelWorld();\n    if (vw === null) {\n      return false;\n    }\n\n    // mark atoms of the group as selected\n    const selectionMask = 1 << this._selectionBit;\n    this._complex.markAtoms(selector, selectionMask);\n\n    // mark all atoms within distance as selected\n    if (vw) {\n      vw.forEachAtomWithinDistFromMasked(this._complex, selectionMask, Number(radius), (atom) => {\n        atom.mask |= selectionMask;\n      });\n    }\n\n    // update selection count\n    this._selectionCount = this._complex.countAtomsByMask(selectionMask);\n\n    // update secondary structure mask\n    this._complex.updateStructuresMask();\n\n    return this.buildSelectorFromMask(selectionMask);\n  }\n}\n// 32 bits = 30 bits for reps + 1 for selection + 1 for selection expansion\nComplexVisual.NUM_REPRESENTATION_BITS = 30;\n\nexport default ComplexVisual;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexVolumeFaces from './VolumeFaces.vert';\nimport fragmentVolumeFaces from './VolumeFaces.frag';\nimport vertexVolume from './Volume.vert';\nimport fragmentVolume from './Volume.frag';\nimport vertexFarPlane from './VolumeFarPlane.vert';\nimport fragmentFarPlane from './VolumeFarPlane.frag';\nimport settings from '../../settings';\n\nconst volumeUniforms = THREE.UniformsUtils.merge([\n  {\n    volumeDim: { type: 'v3', value: new THREE.Vector3(512, 512, 512) },\n    tileTex: { type: 't', value: null },\n    tileTexSize: { type: 'v2', value: new THREE.Vector2(512, 512) },\n    tileStride: { type: 'v2', value: new THREE.Vector2(512, 512) },\n\n    boxAngles: { type: 'v3', value: new THREE.Vector3(1, 1, 1) },\n    delta: { type: 'v3', value: new THREE.Vector3(0, 0, 0) },\n\n    _isoLevel0: { type: 'v2', value: new THREE.Vector3(0.5, 0.75, 1.0) },\n    _flipV: { type: 'f', value: 0.0 },\n    _BFLeft: { type: 't', value: null },\n    _BFRight: { type: 't', value: null },\n    _FFLeft: { type: 't', value: null },\n    _FFRight: { type: 't', value: null },\n    _WFFLeft: { type: 't', value: null },\n    _WFFRight: { type: 't', value: null },\n  },\n]);\n\nfunction overrideUniforms(params, defUniforms) {\n  const uniforms = THREE.UniformsUtils.clone(defUniforms);\n  for (const p in params) {\n    if (uniforms.hasOwnProperty(p)) {\n      uniforms[p].value = params[p];\n    }\n  }\n  return uniforms;\n}\n\nfunction facesPosMaterialParams(params, sideType) {\n  return {\n    uniforms: overrideUniforms(params, {}),\n    vertexShader: vertexVolumeFaces,\n    fragmentShader: fragmentVolumeFaces,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n    side: sideType,\n  };\n}\n\nclass BackFacePosMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const backFaceParams = facesPosMaterialParams(params, THREE.BackSide);\n    super(backFaceParams);\n  }\n}\n\nclass ShaderParams {\n  constructor(params, uniforms, vertexShader, fragmentShader) {\n    this.uniforms = overrideUniforms(params, uniforms);\n    this.vertexShader = vertexShader;\n    this.fragmentShader = fragmentShader;\n    this.transparent = false;\n    this.depthTest = false;\n    this.depthWrite = false;\n    this.side = THREE.FrontSide;\n  }\n}\n\nclass BackFacePosMaterialFarPlane extends THREE.ShaderMaterial {\n  constructor(params) {\n    const matUniforms = THREE.UniformsUtils.merge([\n      {\n        aspectRatio: { type: 'f', value: 0.0 },\n        farZ: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        matWorld2Volume: { type: '4fv', value: new THREE.Matrix4() },\n      },\n    ]);\n\n    const shaderParams = new ShaderParams(params, matUniforms, vertexFarPlane, fragmentFarPlane);\n    super(shaderParams);\n  }\n}\n\nclass FrontFacePosMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const frontFaceParams = facesPosMaterialParams(params, THREE.FrontSide);\n    super(frontFaceParams);\n  }\n}\n\nclass VolumeMaterial extends THREE.ShaderMaterial {\n  constructor(params) {\n    const shaderParams = new ShaderParams(params, volumeUniforms, vertexVolume, fragmentVolume);\n    shaderParams.transparent = true;\n    shaderParams.depthTest = true;\n\n    super(shaderParams);\n    this.updateDefines();\n  }\n\n  updateDefines() {\n    this.defines = {\n      ISO_MODE: settings.now.modes.VD.isoMode,\n      STEPS_COUNT: settings.now.modes.VD.polyComplexity[settings.now.resolution] * 100,\n    };\n    this.needsUpdate = true;\n  }\n}\n\nexport default {\n  BackFacePosMaterial,\n  BackFacePosMaterialFarPlane,\n  FrontFacePosMaterial,\n  VolumeMaterial,\n};\n","import * as THREE from 'three';\nimport VolumeMaterial from './shaders/VolumeMaterial';\nimport settings from '../settings';\n\nclass VolumeMesh extends THREE.Mesh {\n  volumeInfo = {}; // data for noise filter\n\n  constructor() {\n    const geo = new THREE.BufferGeometry();\n    super(geo);\n    this.clipPlane = new THREE.Plane();\n    const size = new THREE.Vector3(0.5, 0.5, 0.5);\n    this.size = size;\n\n    this.cullFlag = [\n      true, true, true, true,\n      true, true, true, true,\n      false, false, false, false, false, false,\n    ];\n\n    this.faces = [\n      { indices: [], norm: new THREE.Vector3(0, 0, -1) },\n      { indices: [], norm: new THREE.Vector3(0, 0, 1) },\n      { indices: [], norm: new THREE.Vector3(0, -1, 0) },\n      { indices: [], norm: new THREE.Vector3(0, 1, 0) },\n      { indices: [], norm: new THREE.Vector3(-1, 0, 0) },\n      { indices: [], norm: new THREE.Vector3(1, 0, 0) },\n      { indices: [], norm: new THREE.Vector3(0, 0, 0) },\n    ];\n\n    this.vertices = [\n      new THREE.Vector3(-size.x, -size.y, -size.z),\n      new THREE.Vector3(-size.x, size.y, -size.z),\n      new THREE.Vector3(size.x, -size.y, -size.z),\n      new THREE.Vector3(size.x, size.y, -size.z),\n      new THREE.Vector3(-size.x, -size.y, size.z),\n      new THREE.Vector3(-size.x, size.y, size.z),\n      new THREE.Vector3(size.x, -size.y, size.z),\n      new THREE.Vector3(size.x, size.y, size.z),\n      new THREE.Vector3(0.0, 0.0, 0.0), // Placeholder for section\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n      new THREE.Vector3(0.0, 0.0, 0.0),\n    ];\n\n    geo.setAttribute('position', new THREE.BufferAttribute(new Float32Array(this.vertices.length * 3), 3));\n\n    this.name = 'VolumeMesh';\n  }\n\n  static _corners = [\n    // x, y, z, edge1, edge2, edge3\n    [-1, -1, -1, 0, 4, 8],\n    [1, -1, -1, 0, 5, 9],\n    [1, 1, -1, 1, 5, 10],\n    [-1, 1, -1, 1, 4, 11],\n    [-1, -1, 1, 2, 6, 8],\n    [1, -1, 1, 2, 7, 9],\n    [1, 1, 1, 3, 7, 10],\n    [-1, 1, 1, 3, 6, 11],\n  ];\n\n  static _edges = [\n    // corner1, corner2, center_x, center_y, center_z\n    [0, 1, 0, -1, -1],\n    [2, 3, 0, 1, -1],\n    [4, 5, 0, -1, 1],\n    [6, 7, 0, 1, 1],\n    [0, 3, -1, 0, -1],\n    [1, 2, 1, 0, -1],\n    [4, 7, -1, 0, 1],\n    [5, 6, 1, 0, 1],\n    [0, 4, -1, -1, 0],\n    [1, 5, 1, -1, 0],\n    [2, 6, -1, 1, 0],\n    [3, 7, 1, 1, 0],\n  ];\n\n  static _edgeIntersections = (function () {\n    const edgeIntersections = [];\n    for (let j = 0; j < 12; ++j) {\n      edgeIntersections.push(new THREE.Vector3());\n    }\n    return edgeIntersections;\n  }());\n\n  _updateVertices() {\n    // Algorithm:\n    // 1. Get plane parameters\n    // 2. Compute culling flags for all vertices\n    // 3. If intersection occurs => compute from 3 to 6 intersection points\n    const corners = VolumeMesh._corners;\n    const edges = VolumeMesh._edges;\n    const edgeIntersections = VolumeMesh._edgeIntersections;\n\n    let i;\n\n    const norm = this.clipPlane.normal;\n    const D = this.clipPlane.constant;\n\n    const vert = this.vertices;\n    const { size } = this;\n\n    const cornerMark = [0, 0, 0, 0, 0, 0, 0, 0];\n    const edgeMark = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n\n    const curEdge = new THREE.Vector3();\n    let curEdgeInter = null;\n\n    function CheckX() {\n      if (norm.x === 0) return 0;\n      const x = -(norm.dot(curEdge) + D) / norm.x;\n      if (-size.x <= x && x <= size.x) {\n        curEdgeInter.set(x, curEdge.y, curEdge.z);\n        if (x === size.x) return 2;\n        if (x === -size.x) return -2;\n        return 1;\n      }\n      return 0;\n    }\n\n    function CheckY() {\n      if (norm.y === 0) return 0;\n      const y = -(norm.dot(curEdge) + D) / norm.y;\n      if (-size.y <= y && y <= size.y) {\n        curEdgeInter.set(curEdge.x, y, curEdge.z);\n        if (y === size.y) return 2;\n        if (y === -size.y) return -2;\n        return 1;\n      }\n      return 0;\n    }\n\n    function CheckZ() {\n      if (norm.z === 0) return 0;\n      const z = -(norm.dot(curEdge) + D) / norm.z;\n      if (-size.z <= z && z <= size.z) {\n        curEdgeInter.set(curEdge.x, curEdge.y, z);\n        if (z === size.z) return 2;\n        if (z === -size.z) return -2;\n        return 1;\n      }\n      return 0;\n    }\n\n    // for each edge\n    for (let curEdgeIdx = 0; curEdgeIdx < 12; ++curEdgeIdx) {\n      const curEdgeSource = edges[curEdgeIdx];\n      curEdgeInter = edgeIntersections[curEdgeIdx];\n\n      curEdge.set(curEdgeSource[2], curEdgeSource[3], curEdgeSource[4]);\n      curEdge.multiply(size);\n\n      // calculate intersection point\n      let flag = 0;\n      if (curEdgeSource[2] === 0) flag = CheckX();\n      if (curEdgeSource[3] === 0) flag = CheckY();\n      if (curEdgeSource[4] === 0) flag = CheckZ();\n\n      // mark corresponding corner (if plane cuts through one)\n      if (flag === -2) {\n        cornerMark[curEdgeSource[0]] = 1;\n      } else if (flag === 2) {\n        cornerMark[curEdgeSource[1]] = 1;\n      } else if (flag === 0) {\n        // edge is not intersected by the plane (doesn't produce a vertex)\n        edgeMark[curEdgeIdx] = 0;\n      }\n    }\n\n    const face = {\n      indices: [],\n      norm: norm.clone().negate(),\n    };\n\n    let nextVertex = 8;\n\n    // for each marked corner\n    for (i = 0; i < 8; ++i) {\n      if (cornerMark[i] === 1) {\n        // add corner as vertex to the face\n        vert[nextVertex].set(corners[i][0], corners[i][1], corners[i][2]).multiply(size);\n        face.indices.push(nextVertex++);\n        // skip adjacent edges\n        edgeMark[corners[i][3]] = 0;\n        edgeMark[corners[i][4]] = 0;\n        edgeMark[corners[i][5]] = 0;\n      }\n    }\n\n    // for each edge that has internal intersection\n    for (i = 0; i < 12; ++i) {\n      if (edgeMark[i] === 1) {\n        // add intersection point as vertex to the face\n        vert[nextVertex].copy(edgeIntersections[i]);\n        face.indices.push(nextVertex++);\n      }\n    }\n\n    this.faces[6] = face;\n\n    const diff = new THREE.Vector3();\n    const coplanarPoint = new THREE.Vector3();\n    this.clipPlane.coplanarPoint(coplanarPoint);\n    for (i = 0; i < vert.length; ++i) {\n      this.cullFlag[i] = false;\n      if (i < 8) {\n        // corners should be culled by clipping plane\n        diff.subVectors(vert[i], coplanarPoint);\n        this.cullFlag[i] = (norm.dot(diff) >= 0.0);\n      } else if (i < 8 + face.indices.length) {\n        // cross section vertices don't get culled\n        this.cullFlag[i] = true;\n      }\n    }\n\n    // write data to vertex buffer\n    const positions = this.geometry.getAttribute('position');\n    let idx = 0;\n    for (i = 0; i < vert.length; ++i) {\n      positions.array[idx++] = vert[i].x;\n      positions.array[idx++] = vert[i].y;\n      positions.array[idx++] = vert[i].z;\n    }\n    positions.needsUpdate = true;\n  }\n\n  _collectVertices(face, filter) {\n    let i;\n    const vert = this.vertices;\n    face.indices = [];\n    for (i = 0; i < vert.length; ++i) {\n      if (this.cullFlag[i] && filter(vert[i])) {\n        face.indices.push(i);\n      }\n    }\n  }\n\n  _sortIndices(face, right) {\n    let i;\n    let j;\n    const vert = this.vertices;\n    const angle = [];\n\n    const dir = new THREE.Vector3();\n    for (i = 1; i < face.indices.length; ++i) {\n      dir.subVectors(vert[face.indices[i]], vert[face.indices[0]]);\n      dir.normalize();\n      dir.cross(right);\n      dir.negate();\n      angle[i] = face.norm.dot(dir);\n    }\n\n    // Exchange sort\n    for (i = 1; i < face.indices.length - 1; ++i) {\n      for (j = i + 1; j < face.indices.length; ++j) {\n        if (angle[j] < angle[i]) {\n          // swap\n          let t = angle[i];\n          angle[i] = angle[j];\n          angle[j] = t;\n\n          t = face.indices[i];\n          face.indices[i] = face.indices[j];\n          face.indices[j] = t;\n        }\n      }\n    }\n  }\n\n  _updateIndices() {\n    // Algorithm:\n    // 1. Get plane vertices (from 3 to 6 vertices)\n    // 2. Get \"right\" vector in plane\n    // 3. Sort vertices using Graham-like method\n    // 4. Create indices\n\n    let i;\n    let faceIdx;\n    let face;\n    const vert = this.vertices;\n    const { size } = this;\n\n    this._collectVertices(this.faces[0], (vertex) => vertex.z === -size.z);\n    this._collectVertices(this.faces[1], (vertex) => vertex.z === size.z);\n    this._collectVertices(this.faces[2], (vertex) => vertex.y === -size.y);\n    this._collectVertices(this.faces[3], (vertex) => vertex.y === size.y);\n    this._collectVertices(this.faces[4], (vertex) => vertex.x === -size.x);\n    this._collectVertices(this.faces[5], (vertex) => vertex.x === size.x);\n\n    const vCenter = new THREE.Vector3();\n    const vRight = new THREE.Vector3();\n    const vDir = new THREE.Vector3();\n\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx];\n\n      if (face.indices.length === 0) continue;\n\n      vCenter.set(0, 0, 0);\n      for (i = 0; i < face.indices.length; ++i) {\n        vCenter.add(vert[face.indices[i]]);\n      }\n      vCenter.multiplyScalar(1.0 / face.indices.length);\n      vRight.subVectors(vert[face.indices[0]], vCenter);\n      vRight.normalize();\n\n      const rightProj = [];\n      for (i = 0; i < face.indices.length; ++i) {\n        vDir.subVectors(vert[face.indices[i]], vCenter);\n        rightProj[i] = vDir.dot(vRight);\n      }\n      for (i = 1; i < face.indices.length; ++i) {\n        if (rightProj[i] < rightProj[0]) {\n          // swap\n          let t = rightProj[0];\n          rightProj[0] = rightProj[i];\n          rightProj[i] = t;\n\n          [t] = face.indices;\n          face.indices[0] = face.indices[i];\n          face.indices[i] = t;\n        }\n      }\n\n      this._sortIndices(face, vRight);\n    }\n\n    let numIndices = 0;\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx];\n      if (face.indices.length >= 3) {\n        numIndices += 3 * (face.indices.length - 2);\n      }\n    }\n    let offset = 0;\n    const indices = new Uint16Array(numIndices);\n    for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n      face = this.faces[faceIdx];\n      for (i = 0; i < face.indices.length - 2; ++i) {\n        indices[offset] = face.indices[0]; // eslint-disable-line prefer-destructuring\n        indices[offset + 1] = face.indices[i + 1];\n        indices[offset + 2] = face.indices[i + 2];\n        offset += 3;\n      }\n    }\n\n    this.geometry.setIndex(new THREE.BufferAttribute(indices, 1));\n  }\n\n  setDataSource(dataSource) {\n    const vm = new VolumeMaterial.VolumeMaterial();\n    const dim = dataSource.getDimensions();\n    const stride = dataSource.getTiledTextureStride();\n    const texture = dataSource.buildTiledTexture();\n    const bbox = dataSource.getBox();\n    vm.uniforms.volumeDim.value.set(dim[0], dim[1], dim[2]);\n    vm.uniforms.tileTex.value = texture;\n    vm.uniforms.tileTexSize.value.set(texture.image.width, texture.image.height);\n    vm.uniforms.tileStride.value.set(stride[0], stride[1]);\n    Object.assign(this.volumeInfo, dataSource.getVolumeInfo());\n\n    const volInfo = this.volumeInfo;\n    vm.uniforms.delta.value.copy(volInfo.delta);\n    vm.uniforms.boxAngles.value.set(volInfo.obtuseAngle[0], volInfo.obtuseAngle[1], volInfo.obtuseAngle[2]);\n\n    this.material = vm;\n\n    bbox.getSize(this.scale);\n    bbox.getCenter(this.position);\n  }\n\n  _updateIsoLevel() {\n    const { kSigma, kSigmaMed, kSigmaMax } = settings.now.modes.VD;\n    const volInfo = this.volumeInfo;\n    const mean = volInfo.dmean - volInfo.dmin;\n    const span = volInfo.dmax - volInfo.dmin;\n    const level = (k) => (mean + k * volInfo.sd) / span;\n    this.material.uniforms._isoLevel0.value.set(level(kSigma), level(kSigmaMed), level(kSigmaMax));\n  }\n\n  static _nearClipPlaneOffset = 0.2;\n\n  static _pos = new THREE.Vector3();\n\n  static _norm = new THREE.Vector3();\n\n  static _norm4D = new THREE.Vector4();\n\n  static _matrixWorldToLocal = new THREE.Matrix4();\n\n  static _clipPlane = new THREE.Plane();\n\n  rebuild(camera) {\n    const nearClipPlaneOffset = VolumeMesh._nearClipPlaneOffset;\n    const pos = VolumeMesh._pos;\n    const norm = VolumeMesh._norm;\n    const norm4D = VolumeMesh._norm4D;\n    const matrixWorldToLocal = VolumeMesh._matrixWorldToLocal;\n    const clipPlane = VolumeMesh._clipPlane;\n\n    this._updateIsoLevel();\n\n    // get clip plane in local space\n    camera.getWorldDirection(norm);\n    camera.getWorldPosition(pos);\n    pos.addScaledVector(norm, camera.near + nearClipPlaneOffset);\n\n    // transform pos to local CS\n    matrixWorldToLocal.copy(this.matrixWorld).invert();\n    pos.applyMatrix4(matrixWorldToLocal);\n\n    // transform norm to local CS\n    norm4D.set(norm.x, norm.y, norm.z, 0.0); // NOTE: use homogeneous norm for proper transformation\n    norm4D.applyMatrix4(matrixWorldToLocal);\n    norm.copy(norm4D);\n    norm.normalize();\n\n    clipPlane.setFromNormalAndCoplanarPoint(norm, pos);\n\n    if (!this.clipPlane.equals(clipPlane)) {\n      this.clipPlane = clipPlane.clone();\n      this._updateVertices();\n      this._updateIndices();\n    }\n  }\n}\n\nexport default VolumeMesh;\n","import * as THREE from 'three';\nimport gfxutils from './gfxutils';\n\nfunction _flattenArray(input) {\n  const n = input.length;\n  const output = new Float32Array(n * 3);\n  for (let i = 0; i < n; ++i) {\n    const j = 3 * i;\n    const v = input[i];\n    output[j] = v.x;\n    output[j + 1] = v.y;\n    output[j + 2] = v.z;\n  }\n  return output;\n}\n\nclass VolumeBounds {\n  static _projectionTable = { // corresponds between (origin axes and angles between them) and between saving vector coordinates\n    XY: ['x', 2],\n    XZ: ['y', 1],\n    YZ: ['z', 0],\n  };\n\n  constructor(bBox, volInfo) {\n    const { delta } = volInfo; // {x: XY, y : XZ, z: YZ}\n    const { obtuseAngle } = volInfo; // 1 - obtuse, 0 - acute\n\n    const bSize = new THREE.Vector3();\n    bBox.getSize(bSize);\n    bSize.multiplyScalar(0.5);\n\n    const offsetVert = this._getBaseVertices(delta, obtuseAngle);\n\n    const geometry = new THREE.BufferGeometry();\n    const vertices = [];\n\n    for (let i = 0; i < 4; i++) {\n      vertices.push(offsetVert[i].clone().multiply(bSize));\n      vertices.push(offsetVert[(i + 1) % 4].clone().multiply(bSize));\n    }\n    const translation = new THREE.Vector3(2 * bSize.x * (1 - delta.x - delta.y), 0, 0);\n    for (let i = 0; i < 8; i++) {\n      vertices.push(vertices[i].clone().add(translation));\n    }\n    for (let i = 0; i < 4; i++) {\n      vertices.push(vertices[i * 2].clone());\n      vertices.push(vertices[i * 2 + 8].clone());\n    }\n    const center = new THREE.Vector3();\n    bBox.getCenter(center);\n    vertices.forEach((vertex) => vertex.add(center)); // pivot shift\n\n    const flatVertices = _flattenArray(vertices);\n    geometry.setAttribute('position', new THREE.BufferAttribute(flatVertices, 3));\n\n    this._lines = new THREE.LineSegments(geometry, new THREE.LineBasicMaterial({ color: 0xFFFFFF }));\n    this._lines.layers.set(gfxutils.LAYERS.VOLUME);\n  }\n\n  // Set one edge (4 points) of frame, from which with parallel transfer  the rest of the frame points can be obtained\n  _getBaseVertices(delta, obtuseAngle) {\n    const projTable = VolumeBounds._projectionTable;\n\n    const proj = ((index, inv) => { // tricky function to take account of projections: their position(related to box) and sign\n      const currDelta = delta[projTable[index][0]];\n      const angleValue = -0.5 * (inv - 1) + inv * obtuseAngle[projTable[index][1]];// inv = 1: alpha; inv = -1: 1 - alpha\n      return angleValue * currDelta;\n    });\n\n    const offsetVert = [\n      new THREE.Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', 1)), -1 + 2 * proj('YZ', 1), -1),\n      new THREE.Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', 1)), -1 + 2 * proj('YZ', -1), 1),\n      new THREE.Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', -1)), 1 - 2 * proj('YZ', 1), 1),\n      new THREE.Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', -1)), 1 - 2 * proj('YZ', -1), -1),\n    ];\n\n    return offsetVert;\n  }\n\n  getMesh() {\n    return this._lines;\n  }\n}\n\nexport default VolumeBounds;\n","import * as THREE from 'three';\nimport VolumeMaterial from './shaders/VolumeMaterial';\nimport meshes from './meshes/meshes';\nimport gfxutils from './gfxutils';\n\n// Thes geometric far plane is required for correct filling in the BFTexture in case, when far plane cuts the volume\n// cube. In cut place of cube there is no correct data in BFTexture and volume rendering integral is calculated\n// with errors.\n// Far plane cuts the cube in case of large volume scale (zoom), because farplane doesn't change\nclass VolumeFarPlane {\n  // create plane with unit corners coords (for future rescale in vshader according to camera properties)\n  constructor(volume, width, height) {\n    const planeGeo = this._initPlaneGeo(width, height);\n\n    const mat = new VolumeMaterial.BackFacePosMaterialFarPlane();\n    this._plane = new meshes.Mesh(planeGeo, mat);\n    this._plane.frustumCulled = false;\n    this._plane.doubleSided = true;\n    const matWorldToVolume = new THREE.Matrix4();\n\n    this._plane._onBeforeRender = function (_renderer, _scene, camera, _geometry, _material, _group) {\n      const { material } = this;\n      if (!volume || !material) {\n        return;\n      }\n\n      // count point in world at farplane place\n      const planeCamPos = new THREE.Vector4(0, 0, -(camera.far - 0.1), 1);\n      planeCamPos.applyMatrix4(camera.matrixWorld);\n\n      // recalc matrices to make plane be placed as farplane in the World relative to camera\n      this.matrix.identity();\n      this.matrix.makeTranslation(planeCamPos.x, planeCamPos.y, planeCamPos.z);\n      this.matrixWorld.copy(this.matrix);\n      this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n      this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n\n      // build worldToVolume matrix to transform plane into volumeCS (volumeCS coords are written to BackFaceTexture)\n      const volumeMatrix = volume.matrixWorld;\n      matWorldToVolume.copy(volumeMatrix).invert();\n\n      // update material props\n      material.uniforms.aspectRatio.value = camera.aspect;\n      material.uniforms.farZ.value = camera.far;\n      material.uniforms.tanHalfFOV.value = Math.tan(THREE.MathUtils.DEG2RAD * 0.5 * camera.fov);\n      material.uniforms.matWorld2Volume.value = matWorldToVolume;\n    };\n\n    // set it to special layer to draw only into BFTexture\n    this._plane.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n  }\n\n  _initPlaneGeo(width, height) {\n    const planeGeo = new THREE.BufferGeometry();\n\n    width = width || 1;\n    height = height || 1;\n\n    const vertices = new Float32Array([\n      -0.5 * width, 0.5 * height, 0,\n      0.5 * width, 0.5 * height, 0,\n      -0.5 * width, -0.5 * height, 0,\n      0.5 * width, -0.5 * height, 0,\n    ]);\n\n    planeGeo.setAttribute('position', new THREE.BufferAttribute(vertices, 3));\n    planeGeo.setIndex([0, 2, 1, 2, 3, 1]);\n\n    return planeGeo;\n  }\n\n  getMesh() {\n    return this._plane;\n  }\n}\n\nexport default VolumeFarPlane;\n","import * as THREE from 'three';\nimport VolumeMesh from './gfx/VolumeMesh';\nimport VolumeBounds from './gfx/VolumeBounds';\nimport VolumeFarPlane from './gfx/VolumeFarPlane';\nimport Visual from './Visual';\nimport settings from './settings';\n\nclass VolumeVisual extends Visual {\n  constructor(name, dataSource) {\n    super(name, dataSource);\n    this._mesh = new VolumeMesh();\n    this._mesh.setDataSource(dataSource);\n    this.add(this._mesh);\n\n    this._frame = new VolumeBounds(this.getBoundaries().boundingBox, this._mesh.volumeInfo);\n    this.add(this._frame.getMesh());\n    this.showFrame(settings.now.modes.VD.frame);\n\n    this._farPlane = new VolumeFarPlane(this._mesh, 2, 2);\n    this.add(this._farPlane.getMesh());\n  }\n\n  getBoundaries() {\n    const box = this._dataSource.getBox();\n    const sphere = new THREE.Sphere();\n    box.getBoundingSphere(sphere);\n\n    return {\n      boundingBox: box,\n      boundingSphere: sphere,\n    };\n  }\n\n  getMesh() {\n    return this._mesh;\n  }\n\n  showFrame(needShow) {\n    this._frame.getMesh().material.visible = needShow;\n  }\n}\n\nexport default VolumeVisual;\n","import EntityList from '../../utils/EntityList';\n\n/**\n * A list of available loaders.\n * @extends EntityList\n */\nclass LoaderList extends EntityList {\n  /**\n   * Create a list of loaders.\n   * The loaders are indexed by supported source types (`.types` property of a Loader\n   * subclass).\n   * The loaders can be retrieved later by matching against specs (see {@link LoaderList#find}).\n   *\n   * @param {!Array<function(new:Loader)>=} someLoaders A list of {@link Loader} subclasses to\n   *   automatically register at creation time.\n   * @see LoaderList#register\n   */\n  constructor(someLoaders = []) {\n    super(someLoaders, ['types']);\n  }\n\n  /**\n   * Find a suitable loader for a source type.\n   *\n   * @param {Object} specs Loader specifications.\n   * @param {string=} specs.type Supported source type.\n   * @param {*=} specs.source Source to load from.\n   */\n  find(specs) {\n    let list = [];\n    if (specs.type) {\n      list = this._dict.types[specs.type.toLowerCase()] || [];\n    } else if (specs.source) {\n      return this._list.filter((SomeLoader) => SomeLoader.canProbablyLoad && SomeLoader.canProbablyLoad(specs.source));\n    }\n    return [...list];\n  }\n}\n\nexport default LoaderList;\n","import EventDispatcher from '../../utils/EventDispatcher';\nimport makeContextDependent from '../../utils/makeContextDependent';\n\nexport default class Loader extends EventDispatcher {\n  constructor(source, options) {\n    super();\n    this._source = source;\n    this._options = options || {};\n    this._abort = false;\n    this._agent = null;\n  }\n\n  load() {\n    return Promise.reject(new Error('Loading from this source is not implemented'));\n  }\n\n  abort() {\n    this._abort = true;\n    if (this._agent) {\n      this._agent.abort();\n    }\n  }\n\n  static extractName(_source) {\n    return undefined;\n  }\n}\n\nmakeContextDependent(Loader.prototype);\n","import Loader from './Loader';\n\nexport default class FileLoader extends Loader {\n  constructor(source, options) {\n    super(source, options);\n\n    options = this._options;\n    this._binary = options.binary === true;\n  }\n\n  load() {\n    return new Promise((resolve, reject) => {\n      if (this._abort) {\n        throw new Error('Loading aborted');\n      }\n\n      const blob = this._source;\n      const reader = this._agent = new FileReader();\n\n      reader.addEventListener('load', () => {\n        resolve(reader.result);\n      });\n      reader.addEventListener('error', () => {\n        reject(reader.error);\n      });\n      reader.addEventListener('abort', () => {\n        reject(new Error('Loading aborted'));\n      });\n      reader.addEventListener('progress', (event) => {\n        this.dispatchEvent(event);\n      });\n\n      if (this._binary) {\n        reader.readAsArrayBuffer(blob);\n      } else {\n        reader.readAsText(blob);\n      }\n    });\n  }\n\n  static canProbablyLoad(source) {\n    return (File && source instanceof File) || (Blob && source instanceof Blob);\n  }\n\n  static extractName(source) {\n    return source && source.name;\n  }\n}\n\nFileLoader.types = ['file', 'blob'];\n","import _ from 'lodash';\nimport Loader from './Loader';\n\n// we don't need to detect all kinds of URLs, just the evident ones\nconst urlStartRegexp = /^(https?|ftp):\\/\\//i;\n\nexport default class XHRLoader extends Loader {\n  constructor(source, options) {\n    super(source, options);\n\n    options = this._options;\n    this._binary = (options.binary === true);\n  }\n\n  load() {\n    return new Promise((resolve, reject) => {\n      if (this._abort) {\n        throw new Error('Loading aborted');\n      }\n\n      const url = this._source;\n      const request = this._agent = new XMLHttpRequest();\n\n      request.addEventListener('load', () => {\n        if (request.status === 200) {\n          resolve(request.response);\n        } else {\n          reject(new Error(`HTTP ${request.status} while fetching ${url}`));\n        }\n      });\n      request.addEventListener('error', () => {\n        reject(new Error('HTTP request failed'));\n      });\n      request.addEventListener('abort', () => {\n        reject(new Error('Loading aborted'));\n      });\n      request.addEventListener('progress', (event) => {\n        this.dispatchEvent(event);\n      });\n\n      request.open('GET', url);\n      if (this._binary) {\n        request.responseType = 'arraybuffer';\n      } else {\n        request.responseType = 'text';\n      }\n      request.send();\n    });\n  }\n\n  static canProbablyLoad(source) {\n    return _.isString(source) && urlStartRegexp.test(source);\n  }\n\n  static extractName(source) {\n    if (source) {\n      const last = (source.indexOf('?') + 1 || source.lastIndexOf('#') + 1 || source.length + 1) - 1;\n      return source.slice(source.lastIndexOf('/', last) + 1, last);\n    }\n    return undefined;\n  }\n}\n\nXHRLoader.types = ['url'];\n","import Loader from './Loader';\n\nexport default class ImmediateLoader extends Loader {\n  load() {\n    return new Promise((resolve) => {\n      if (this._abort) {\n        throw new Error('Loading aborted');\n      }\n      resolve(this._source);\n    });\n  }\n\n  static canProbablyLoad(_source) {\n    return false;\n  }\n}\n\nImmediateLoader.types = ['immediate'];\n","import LoaderList from './loaders/LoaderList';\n\nimport FileLoader from './loaders/FileLoader';\nimport XHRLoader from './loaders/XHRLoader';\nimport ImmediateLoader from './loaders/ImmediateLoader';\n\nexport default new LoaderList([\n  // note: order might be important\n  FileLoader,\n  XHRLoader,\n  ImmediateLoader,\n]);\n","import EntityList from '../../utils/EntityList';\n\n/**\n * A list of available parsers.\n * @extends EntityList\n */\nclass ParserList extends EntityList {\n  /**\n   * Create a list of parsers.\n   * The parsers are indexed by supported data formats and file extensions (`.formats` and\n   * `.extensions` properties of a Parser subclass).\n   * The parsers can be retrieved later by matching against specs (see {@link ParsrerList#find}).\n   *\n   * @param {!Array<function(new:Parser)>=} someParsers A list of {@link Parser} subclasses to\n   *   automatically register at creation time.\n   * @see ParserList#register\n   */\n  constructor(someParsers = []) {\n    super(someParsers, ['formats', 'extensions']);\n  }\n\n  /**\n   * Find a suitable parser for data.\n   *\n   * @param {Object} specs Parser specifications.\n   * @param {string=} specs.format Supported data format.\n   * @param {string=} specs.ext Supported filename extension.\n   * @param {*=} specs.data Data to parse.\n   */\n  find(specs) {\n    let list = [];\n    if (specs.format) {\n      list = this._dict.formats[specs.format.toLowerCase()] || [];\n    } else if (specs.ext) {\n      list = this._dict.extensions[specs.ext.toLowerCase()] || [];\n    }\n    // autodetect only if no format is forced\n    if (list.length === 0 && !specs.format && specs.data) {\n      return this._list.filter((SomeParser) => SomeParser.canProbablyParse && SomeParser.canProbablyParse(specs.data));\n    }\n    return [...list];\n  }\n}\n\nexport default ParserList;\n","import makeContextDependent from '../../utils/makeContextDependent';\n\nexport default class Parser {\n  constructor(data, options) {\n    this._data = data;\n    this._options = options || {};\n    this._abort = false;\n  }\n\n  parseSync() {\n    throw new Error('Parsing this type of data is not implemented');\n  }\n\n  parse() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          if (this._abort) {\n            return reject(new Error('Parsing aborted'));\n          }\n          return resolve(this.parseSync());\n        } catch (error) {\n          return reject(error);\n        }\n      });\n    });\n  }\n\n  // only for volume Parsers\n  getModel() {\n    this.model._parseHeader(this._data);\n    return this.model;\n  }\n\n  abort() {\n    this._abort = true;\n  }\n}\n\nmakeContextDependent(Parser.prototype);\n","import * as THREE from 'three';\n\n/**\n * Parser helper for PDB tag \"REMARK 290\".\n *\n * @exports Remark290\n * @constructor\n */\nclass Remark290 {\n  constructor() {\n    /** @type {THREE.Matrix4[]} */\n    this.matrices = [];\n\n    /** @type {?THREE.Matrix4} */\n    this._matrix = null;\n    /** @type {number} */\n    this._matrixIndex = -1;\n  }\n\n  /**\n   * Parse a single line of a stream.\n   * @param {PDBStream} stream - stream to parse\n   */\n\n  parse(stream) {\n    /** @type {?THREE.Matrix4} */\n    let matrix = this._matrix;\n\n    if (stream.readString(12, 18) === '  SMTRY') {\n      const matrixRow = stream.readCharCode(19) - 49; // convert '1', '2', or '3' -> 0, 1, or 2\n      const matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n      const matrixIndex = parseInt(matrixData[0], 10);\n      if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n        // TODO: assert(matrixIndex === this.matrices.length + 1);\n        this._matrixIndex = matrixIndex;\n        this._matrix = matrix = new THREE.Matrix4();\n        this.matrices[this.matrices.length] = matrix;\n      }\n\n      const { elements } = matrix;\n      elements[matrixRow] = parseFloat(matrixData[1]);\n      elements[matrixRow + 4] = parseFloat(matrixData[2]);\n      elements[matrixRow + 8] = parseFloat(matrixData[3]);\n      elements[matrixRow + 12] = parseFloat(matrixData[4]);\n    }\n  }\n}\n\nRemark290.prototype.id = 290;\n\nexport default Remark290;\n","import * as THREE from 'three';\nimport chem from '../../../chem';\n\nconst { Assembly } = chem;\n\n/**\n * Parser helper for PDB tag \"REMARK 350\".\n *\n * @exports Remark350\n * @constructor\n */\nclass Remark350 {\n  constructor(complex) {\n    /** @type {Complex} */\n    this._complex = complex;\n    /** @type {Assembly[]} */\n    this.assemblies = [];\n\n    /** @type {?Assembly} */\n    this._assembly = null;\n    /** @type {?THREE.Matrix4} */\n    this._matrix = null;\n    /** @type {number} */\n    this._matrixIndex = -1;\n  }\n\n  /**\n   * Parse a single line of a stream.\n   * @param {PDBStream} stream - stream to parse\n   */\n\n  parse(stream) {\n    /** @type {?Assembly} */\n    let assembly = this._assembly;\n    /** @type {?THREE.Matrix4} */\n    let matrix = this._matrix;\n\n    if (assembly && stream.readString(12, 18) === '  BIOMT') {\n      const matrixRow = stream.readCharCode(19) - 49; // convert '1', '2', or '3' -> 0, 1, or 2\n      const matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n      const matrixIndex = parseInt(matrixData[0], 10);\n      if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n        // TODO: assert(matrixIndex === assembly.matrices.length + 1);\n        this._matrixIndex = matrixIndex;\n        this._matrix = matrix = new THREE.Matrix4();\n        assembly.addMatrix(matrix);\n      }\n\n      const { elements } = matrix;\n      elements[matrixRow] = parseFloat(matrixData[1]);\n      elements[matrixRow + 4] = parseFloat(matrixData[2]);\n      elements[matrixRow + 8] = parseFloat(matrixData[3]);\n      elements[matrixRow + 12] = parseFloat(matrixData[4]);\n    } else if (assembly && stream.readString(35, 41) === 'CHAINS:') {\n      const entries = stream.readString(42, 80).split(',');\n      for (let i = 0, n = entries.length; i < n; ++i) {\n        const chain = entries[i].trim();\n        if (chain.length > 0) {\n          assembly.addChain(chain);\n        }\n      }\n    } else if (stream.readString(12, 23) === 'BIOMOLECULE:') {\n      // assert molIndex === this.assemblies.length + 1\n      this._matrix = null;\n      this._matrixIndex = -1;\n      this._assembly = assembly = new Assembly(this._complex);\n      this.assemblies.push(assembly);\n    }\n  }\n}\n\nRemark350.prototype.id = 350;\n\nexport default Remark350;\n","/** Helper class for stream-like reading input files. */\nclass PDBStream {\n  /**\n   * Create a stream\n   * @param {String} data Input data\n   */\n  constructor(data) {\n    /** @type String */\n    this._data = data; // Input file\n    /** @type Number */\n    this._start = 0; // Starting position of line\n    /** @type Number */\n    this._nextCR = -1; // Position of next CR (0x0D)\n    /** @type Number */\n    this._nextLF = -1; // Position of next LF (0x0A)\n    /** @type Number */\n    this._next = -1; // End position of line\n    /** @type Number */\n    this._end = data.length; // End of data\n\n    this.next();\n  }\n\n  /**\n   * Reading next line.\n   * @returns {String} Next line in data (ending with LF or CR)\n   */\n  readLine() {\n    return this._data.slice(this._start, this._next);\n  }\n\n  /**\n   * Reading character from position.\n   * @param {Number} pos - Position in current line.\n   * @returns {String} Character from position\n   */\n  readChar(pos) {\n    pos = this._start + pos - 1;\n    return pos < this._next ? this._data[pos] : ' ';\n  }\n\n  /**\n   * Reading character code from position.\n   * @param {Number} pos - Position in current line.\n   * @returns {Number} Character code from position\n   */\n  readCharCode(pos) {\n    pos = this._start + pos - 1;\n    return pos < this._next ? this._data.charCodeAt(pos) : 32;\n  }\n\n  /**\n   * Reading string from begin to end points.\n   * For a reason unknown, numbering assumed not to start from 0, but from 1.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {String} String from begin to end\n   */\n  readString(begin, end) {\n    const from = this._start + begin - 1;\n    const to = this._start + end;\n    return this._data.slice(from, to < this._next ? to : this._next);\n  }\n\n  /**\n   * Reading integer from begin to end points.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {Number} Integer from begin to end\n   */\n  readInt(begin, end) {\n    return parseInt(this.readString(begin, end), 10);\n  }\n\n  /**\n   * Reading float from begin to end points.\n   * @param {Number} begin - Begin point in current line.\n   * @param {Number} end - End point in current line.\n   * @returns {Number} Float from begin to end\n   */\n  readFloat(begin, end) {\n    return parseFloat(this.readString(begin, end));\n  }\n\n  /**\n   * Checking for end of data.\n   * @returns {boolean} True if data is ended, false otherwise\n   */\n  end() {\n    return this._start >= this._end;\n  }\n\n  /**\n   * Procedure to re-arrange current pointers in data.\n   */\n  next() {\n    const start = this._next + 1;\n    this._start = start < this._end ? start : this._end;\n\n    // support CR, LF, CR+LF line endings\n    // do not support LF+CR, CR+CR+LF, and other strange combinations\n\n    if (this._start > this._nextCR) {\n      this._nextCR = (this._data.indexOf('\\r', this._start) + 1 || this._end + 1) - 1;\n    }\n    if (this._start > this._nextLF) {\n      this._nextLF = (this._data.indexOf('\\n', this._start) + 1 || this._end + 1) - 1;\n    }\n    this._next = this._nextCR + 1 < this._nextLF ? this._nextCR : this._nextLF;\n  }\n}\n\nexport default PDBStream;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport Remark290 from './pdb/Remark290';\nimport Remark350 from './pdb/Remark350';\nimport PDBStream from './PDBStream';\n\nconst {\n  Complex,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Bond,\n  Molecule,\n} = chem;\n\nconst TAG_LENGTH = 6;\n\nfunction nameToElement(name) {\n  // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n  //\n  // http://www.cgl.ucsf.edu/chimera/docs/UsersGuide/tutorials/pdbintro.html#note1\n  //\n  // Atom names start with element symbols right-justified in columns 13-14\n  // as permitted by the length of the name. For example, the symbol FE for\n  // iron appears in columns 13-14, whereas the symbol C for carbon appears\n  // in column 14 (see Misaligned Atom Names). If an atom name has four\n  // characters, however, it must start in column 13 even if the element\n  // symbol is a single character (for example, see Hydrogen Atoms).\n\n  const veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\n\n// the most frequently used beginnings; although HEADER is mandatory, it is often missing in handmade files\nconst pdbStartRegexp = /^(HEADER\\s|COMPND\\s|REMARK\\s|ATOM {2}|HETATM|MODEL )/i;\n\nconst remarkParsers = {\n  // NOTE: please forget the idea to build the method name in runtime, it can be obfuscated.\n  290: Remark290,\n  350: Remark350,\n};\n\nclass PDBParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n\n    this._complex = null;\n    this._chain = null;\n    this._residue = null;\n    this._sheet = null;\n    this._serialAtomMap = null;\n    this._modelId = 1;\n    this._compaundFound = false;\n    this._biomoleculeFound = false;\n    this._allowedChainsIDs = null;\n    this._lastMolId = -1;\n\n    this._remarks = {};\n    this._remark = null;\n\n    this._molecules = [];\n    this._molecule = null;\n    this._compndCurrToken = '';\n\n    this._options.fileType = 'pdb';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && pdbStartRegexp.test(data);\n  }\n\n  _finalize() {\n    this._fixBondsArray();\n    this._fixChains();\n\n    // keep crystallographic symmetry transformations\n    const remark290 = this._remarks[290];\n    this._complex.symmetry = _.isUndefined(remark290) ? [] : remark290.matrices;\n\n    // add loaded biological assemblies\n    const remark350 = this._remarks[350];\n    this._complex.units = this._complex.units.concat(_.isUndefined(remark350) ? [] : remark350.assemblies);\n\n    // add loaded macromolecules\n    this._finalizeMolecules();\n\n    // create secondary structure etc.\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  _finalizeMolecules() {\n    // get chains from complex\n    const chainDict = {};\n    let i;\n    const chains = this._complex._chains;\n    for (i = 0; i < chains.length; ++i) {\n      const chainObj = chains[i];\n      const chainName = chainObj._name;\n      chainDict[chainName] = chainObj;\n    }\n\n    // aggregate residues from chains\n    for (i = 0; i < this._molecules.length; i++) {\n      const m = this._molecules[i];\n      let residues = [];\n      for (let j = 0; j < m._chains.length; j++) {\n        const name = m._chains[j];\n        const chain = chainDict[name];\n        residues = residues.concat(chain._residues.slice());\n      }\n      const molecule = new Molecule(this._complex, m._name, i + 1);\n      molecule.residues = residues;\n      this._complex._molecules[i] = molecule;\n    }\n  }\n\n  _fixChains() {\n    const idChainMap = {};\n    const complex = this._complex;\n\n    // prepare\n    for (let i = 0; i < complex._chains.length; i++) {\n      const chain = complex._chains[i];\n      idChainMap[chain._name.charCodeAt(0)] = chain;\n    }\n  }\n\n  // FIXME: This function is redundant, CONECT records always follow ATOM and HETATM. Build the map online.\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap = {};\n    const complex = this._complex;\n\n    const atoms = complex._atoms;\n    for (let i = 0, ni = atoms.length; i < ni; ++i) {\n      const atom = atoms[i];\n      serialAtomMap[atom.serial] = atom;\n    }\n\n    const bonds = complex._bonds;\n    const { logger } = this;\n    for (let j = 0, nj = bonds.length; j < nj; ++j) {\n      const bond = bonds[j];\n      if (bond._right < bond._left) {\n        logger.debug('_fixBondsArray: Logic error.');\n      }\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _parseATOM(stream) {\n    if (this._modelId !== 1) {\n      return;\n    }\n\n    /* eslint-disable no-magic-numbers */\n    const het = stream.readCharCode(1) === 0x48;\n\n    // field names according to wwPDB Format\n    // NOTE: Chimera allows (nonstandard) use of columns 6-11 for the integer atom serial number in ATOM records.\n    const serial = het ? stream.readInt(7, 11) : stream.readInt(6, 11);\n    let name = stream.readString(13, 16);\n    const altLoc = stream.readChar(17);\n    const resName = stream.readString(18, 20).trim();\n    const chainID = stream.readChar(22);\n    const resSeq = stream.readInt(23, 26);\n    const iCode = stream.readChar(27);\n    const x = stream.readFloat(31, 38);\n    const y = stream.readFloat(39, 46);\n    const z = stream.readFloat(47, 54);\n    const occupancy = stream.readFloat(55, 60);\n    const tempFactor = stream.readFloat(61, 66);\n    const element = stream.readString(77, 78).trim() || nameToElement(name);\n    const charge = stream.readInt(79, 80) || 0;\n    /* eslint-enable no-magic-numbers */\n    // skip waters (there may be lots of them)\n    if (this.settings.now.nowater) {\n      if (resName === 'HOH' || resName === 'WAT') {\n        return;\n      }\n    }\n\n    // PDB uses positional system for atom names. It helps derive element type from the name\n    // but names may include extra spaces. From this point on we don't need those spaces anymore.\n    name = name.trim();\n\n    const type = Element.getByName(element);\n    const role = Element.Role[name]; // FIXME: Maybe should use type as additional index (\" CA \" vs. \"CA  \")\n\n    // NOTE: Residues of a particular chain are not required to be listed next to each other.\n    // https://github.com/biasmv/pv/commit/7319b898b7473ba380c26699e3b028b2b1a7e1a1\n    let chain = this._chain;\n    if (!chain || chain.getName() !== chainID) {\n      this._chain = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n      this._residue = null;\n    }\n\n    let residue = this._residue;\n    if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n      this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n    }\n\n    const xyz = new THREE.Vector3(x, y, z);\n    residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n  }\n\n  _parseENDMDL() {\n    this._modelId += 1;\n  }\n\n  _parseCONECT(stream) {\n    /* eslint-disable no-magic-numbers */\n    const serial0 = stream.readInt(7, 11);\n    const serial1 = stream.readInt(12, 16);\n    const serial2 = stream.readInt(17, 21);\n    const serial3 = stream.readInt(22, 26);\n    const serial4 = stream.readInt(27, 31);\n    /* eslint-enable no-magic-numbers */\n\n    const complex = this._complex;\n\n    // Keep bonds ordered by atom serial\n    if (serial1 && serial1 > serial0) {\n      complex.addBond(serial0, serial1, 0, Bond.BondType.UNKNOWN, true);\n    }\n    if (serial2 && serial2 > serial0) {\n      complex.addBond(serial0, serial2, 0, Bond.BondType.UNKNOWN, true);\n    }\n    if (serial3 && serial3 > serial0) {\n      complex.addBond(serial0, serial3, 0, Bond.BondType.UNKNOWN, true);\n    }\n    if (serial4 && serial4 > serial0) {\n      complex.addBond(serial0, serial4, 0, Bond.BondType.UNKNOWN, true);\n    }\n  }\n\n  _parseCOMPND(stream) {\n    /* eslint-disable no-magic-numbers */\n    const str = stream.readString(11, 80);\n    const tokenIdx = str.indexOf(':');\n    this._compndCurrToken = tokenIdx > 0 ? str.substring(0, tokenIdx).trim() : this._compndCurrToken;\n    /* eslint-enable no-magic-numbers */\n\n    // start reading new molecule\n    if (this._compndCurrToken === 'MOL_ID') {\n      this._molecule = { _index: '', _chains: [] };\n      this._molecule._index = parseInt(str.substring(tokenIdx + 1, str.indexOf(';')), 10);\n      this._molecules.push(this._molecule);\n      // parse molecule name\n    } else if (this._compndCurrToken === 'MOLECULE' && this._molecule != null) {\n      this._molecule._name = str.substring(tokenIdx + 1, str.indexOf(';')).trim();\n      // parse molecule chains\n    } else if (this._compndCurrToken === 'CHAIN' && this._molecule != null) {\n      let chainStr = str.substring(tokenIdx + 1, 80).trim();\n      const lastChar = chainStr[chainStr.length - 1];\n      if (lastChar === ';' || lastChar === ',') {\n        chainStr = chainStr.slice(0, -1);\n      }\n      chainStr = chainStr.replace(/\\s+/g, '');\n      const chains = chainStr.split(',');\n      this._molecule._chains = this._molecule._chains.concat(chains);\n    }\n  }\n\n  _parseREMARK(stream) {\n    /* eslint-disable no-magic-numbers */\n    const remarkNum = stream.readInt(8, 10);\n    /* eslint-enable no-magic-numbers */\n\n    // create remark parser if needed\n    let remark = this._remarks[remarkNum];\n    if (_.isUndefined(remark)) {\n      const RemarkParser = remarkParsers[remarkNum];\n      if (_.isFunction(RemarkParser)) {\n        this._remarks[remarkNum] = remark = new RemarkParser(this._complex);\n      }\n    }\n\n    // delegate parsing\n    if (!_.isUndefined(remark)) {\n      remark.parse(stream);\n    }\n  }\n\n  _parseHELIX(stream) {\n    /* eslint-disable no-magic-numbers */\n    const fields = [20, 22, 32, 34];\n    /* eslint-enable no-magic-numbers */\n    this._parseSTRUCTURE(stream, fields, (obj) => {\n      this._complex.addHelix(obj);\n      this._complex.structures.push(obj);\n    });\n  }\n\n  _parseSHEET(stream) {\n    /* eslint-disable no-magic-numbers */\n    const fields = [22, 23, 33, 34];\n    /* eslint-enable no-magic-numbers */\n    this._parseSTRUCTURE(stream, fields, (obj) => {\n      this._complex.addSheet(obj);\n    });\n  }\n\n  _parseSTRUCTURE(stream, pars, adder) {\n    const startId = 0;\n    const startIndex = 1;\n    const endId = 2;\n    const endIndex = 3;\n\n    // identify fields: debugging and stuff\n    /* eslint-disable no-magic-numbers */\n    const codeOfS = 0x53;\n    const serialNumber = stream.readInt(8, 10);\n    const structureName = stream.readString(12, 14).trim(); // FIXME: LString(3) forbids trim()\n    const comment = stream.readString(41, 70).trim();\n    const helLength = stream.readInt(72, 76);\n    const helixClass = stream.readInt(39, 40);\n    const shWidth = stream.readInt(15, 16);\n    const shCur = stream.readInt(42, 45);\n    const shPrev = stream.readInt(57, 60);\n    /* eslint-enable no-magic-numbers */\n    // file fields\n    const startChainID = stream.readString(pars[startId], pars[endId] + 1).charCodeAt(0);\n    const endChainID = stream.readString(pars[endId], pars[endId] + 1).charCodeAt(0);\n    const startSequenceNumber = stream.readInt(pars[startIndex], pars[startIndex] + 3);\n    let iCodeStr = stream.readString(pars[startIndex] + 4, pars[startIndex] + 4);\n    let startICode = 0;\n\n    if (iCodeStr.length > 0) {\n      startICode = iCodeStr.charCodeAt(0);\n    }\n    const endSequenceNumber = stream.readInt(pars[endIndex], pars[endIndex] + 3);\n    iCodeStr = stream.readString(pars[endIndex] + 4, pars[endIndex] + 4);\n    let endICode = 0;\n    if (iCodeStr.length > 0) {\n      endICode = iCodeStr.charCodeAt(0);\n    }\n\n    let obj;\n    let cs = this._sheet;\n    if (stream.readCharCode(1) === codeOfS) {\n      if (cs !== null && cs.getName() !== structureName) {\n        cs = null;\n        this._sheet = null;\n      }\n      if (cs === null) {\n        this._sheet = obj = new Sheet(structureName, shWidth);\n        adder(obj);\n      } else {\n        obj = cs;\n      }\n      const strand = new Strand(\n        obj,\n        this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode),\n        this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode),\n        helixClass, shCur, shPrev,\n      );\n      obj.addStrand(strand);\n      this._complex.structures.push(strand);\n    } else {\n      obj = new Helix(\n        helixClass,\n        this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode),\n        this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode),\n        serialNumber, structureName, comment, helLength,\n      );\n      adder(obj);\n    }\n  }\n\n  _parseHEADER(stream) {\n    const { metadata } = this._complex;\n    metadata.classification = stream.readString(11, 50).trim();\n    metadata.date = stream.readString(51, 59).trim();\n\n    const id = stream.readString(63, 66).trim();\n    metadata.id = id;\n    if (id) {\n      this._complex.name = id;\n    }\n    metadata.format = 'pdb';\n  }\n\n  _parseTITLE(stream) {\n    const { metadata } = this._complex;\n    metadata.title = metadata.title || [];\n\n    const line = stream.readInt(9, 10) || 1;\n    metadata.title[line - 1] = stream.readString(11, 80).trim();\n  }\n\n  static tagParsers = {\n    HEADER: PDBParser.prototype._parseHEADER,\n    'TITLE ': PDBParser.prototype._parseTITLE,\n    'ATOM  ': PDBParser.prototype._parseATOM,\n    HETATM: PDBParser.prototype._parseATOM,\n    ENDMDL: PDBParser.prototype._parseENDMDL,\n    CONECT: PDBParser.prototype._parseCONECT,\n    COMPND: PDBParser.prototype._parseCOMPND,\n    REMARK: PDBParser.prototype._parseREMARK,\n    // 'SOURCE': PDBParser.prototype._parseSOURCE,\n    'HELIX ': PDBParser.prototype._parseHELIX,\n    'SHEET ': PDBParser.prototype._parseSHEET,\n\n    // nonstandard extension to allow range 100,000 - 999,999\n    'ATOM 1': PDBParser.prototype._parseATOM,\n    'ATOM 2': PDBParser.prototype._parseATOM,\n    'ATOM 3': PDBParser.prototype._parseATOM,\n    'ATOM 4': PDBParser.prototype._parseATOM,\n    'ATOM 5': PDBParser.prototype._parseATOM,\n    'ATOM 6': PDBParser.prototype._parseATOM,\n    'ATOM 7': PDBParser.prototype._parseATOM,\n    'ATOM 8': PDBParser.prototype._parseATOM,\n    'ATOM 9': PDBParser.prototype._parseATOM,\n  };\n\n  parseSync() {\n    const stream = new PDBStream(this._data);\n    const result = this._complex = new Complex();\n\n    // parse PDB line by line\n    while (!stream.end()) {\n      const tag = stream.readString(1, TAG_LENGTH);\n      const func = PDBParser.tagParsers[tag];\n      if (_.isFunction(func)) {\n        func.call(this, stream);\n      }\n      stream.next();\n    }\n\n    // Resolve indices and serials to objects\n    this._finalize();\n\n    // cleanup\n    this._serialAtomMap = null;\n    this._sheet = null;\n    this._residue = null;\n    this._chain = null;\n    this._complex = null;\n\n    if (result.getAtomCount() === 0) {\n      throw new Error('The data does not contain valid atoms');\n    }\n\n    return result;\n  }\n}\n\nPDBParser.formats = ['pdb'];\nPDBParser.extensions = ['.pdb', '.ent'];\n\nexport default PDBParser;\n","import _ from 'lodash';\nimport * as THREE from 'three';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst {\n  Complex,\n  Element,\n  SGroup,\n  Bond,\n} = chem;\n\nconst cOrderCharCodes = {\n  A: 0,\n  S: 1,\n  D: 2,\n  T: 3,\n};\n\nconst cmlStartRegexp = /\\s*<\\?xml\\b[^?>]*\\?>\\s*<(?:cml|molecule)\\b/i;\n\nclass CMLParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._complex = null;\n    this._residue = null;\n    this._serialAtomMap = null;\n    this._modelId = 1;\n    this._lastMolId = -1;\n    this._readOnlyOneMolecule = false;\n    this._options.fileType = 'cml';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && cmlStartRegexp.test(data);\n  }\n\n  _rebuidBondIndexes(atoms, bonds) {\n    const count = atoms.length;\n    for (let i = 0; i < count; i++) {\n      const atomId = atoms[i].id;\n\n      const countBonds = bonds.length;\n      for (let j = 0; j < countBonds; j++) {\n        const idxs = bonds[j].atomRefs2.split(' ');\n        if (idxs[0] === atomId) {\n          bonds[j].start = i;\n        }\n\n        if (idxs[1] === atomId) {\n          bonds[j].end = i;\n        }\n      }\n    }\n  }\n\n  _createSGroup(molecule, moleculeArr) {\n    const newGroup = new SGroup(\n      molecule.id, molecule.fieldData,\n      new THREE.Vector3(parseFloat(molecule.x), parseFloat(molecule.y), 0), molecule.atomRefs, molecule,\n    );\n    if (molecule.placement === 'Relative') {\n      newGroup._center = new THREE.Vector3(0, 0, 0);\n    }\n    if (molecule.fieldName === 'MDLBG_FRAGMENT_CHARGE') {\n      newGroup._charge = parseInt(molecule.fieldData, 10) || 0;\n    }\n    if (molecule.fieldName === 'MDLBG_FRAGMENT_COEFFICIENT') {\n      newGroup._repeat = parseInt(molecule.fieldData, 10) || 1;\n    }\n    moleculeArr.push(newGroup);\n  }\n\n  _extractSGroup(molecule, moleculeArr) {\n    if (!Array.isArray(moleculeArr)) {\n      moleculeArr = [];\n    }\n\n    if (molecule) {\n      if (Array.isArray(molecule)) {\n        const count = molecule.length;\n        for (let i = 0; i < count; i++) {\n          if (molecule[i].molecule) {\n            moleculeArr = moleculeArr.concat(this._extractSGroup(molecule[i].molecule));\n          }\n          this._createSGroup(molecule[i], moleculeArr);\n        }\n      } else {\n        if (molecule.molecule) {\n          if (molecule.molecule) {\n            moleculeArr = moleculeArr.concat(this._extractSGroup(molecule.molecule));\n          }\n        }\n        this._createSGroup(molecule, moleculeArr);\n      }\n    }\n\n    return moleculeArr;\n  }\n\n  _extractSGroups(molecule, atoms) {\n    const moleculeArr = this._extractSGroup(molecule);\n\n    const count = atoms.length;\n    let i;\n    let j;\n\n    for (i = 0; i < count; i++) {\n      const atomId = atoms[i].id;\n      for (j = 0; j < moleculeArr.length; j++) {\n        const firstAtomRef = moleculeArr[j]._atoms.split(' ')[0];\n        if (firstAtomRef === atomId) {\n          if (!atoms[i].sgroupRef) {\n            atoms[i].sgroupRef = [];\n          }\n          atoms[i].sgroupRef.push(moleculeArr[j]);\n        }\n      }\n    }\n    // build sGroups centers\n    let atomMap = {}; // sgrpmap cache\n    let mapEntry = null;\n    const nLimon = 100000000;\n    const bLow = new THREE.Vector3(nLimon, nLimon, nLimon);\n    const bHight = new THREE.Vector3(-nLimon, -nLimon, -nLimon);\n\n    function cycleFuncInner(e) {\n      mapEntry = atomMap[e];\n      if (mapEntry) {\n        moleculeArr[j]._atoms.push(mapEntry.a);\n      }\n    }\n\n    function cycleFunc(e) {\n      mapEntry = atomMap[e];\n      if (mapEntry) {\n        bLow.set(Math.min(bLow.x, mapEntry.x), Math.min(bLow.y, mapEntry.y), Math.min(bLow.z, mapEntry.z));\n        bHight.set(Math.max(bHight.x, mapEntry.x), Math.max(bHight.y, mapEntry.y), Math.max(bHight.z, mapEntry.z));\n        cycleFuncInner(e);\n      }\n    }\n\n    for (i = 0; i < atoms.length; i++) {\n      atomMap[atoms[i].id] = {};\n      atomMap[atoms[i].id].x = atoms[i].x2;\n      if (atoms[i].x3) {\n        atomMap[atoms[i].id].x = atoms[i].x3;\n      }\n      atomMap[atoms[i].id].x = parseFloat(atomMap[atoms[i].id].x);\n      atomMap[atoms[i].id].y = atoms[i].y2;\n      if (atoms[i].y3) {\n        atomMap[atoms[i].id].y = atoms[i].y3;\n      }\n      atomMap[atoms[i].id].y = parseFloat(atomMap[atoms[i].id].y);\n      atomMap[atoms[i].id].z = '0.0';\n      if (atoms[i].z3) {\n        atomMap[atoms[i].id].z = atoms[i].z3;\n      }\n      atomMap[atoms[i].id].z = parseFloat(atomMap[atoms[i].id].z);\n      atomMap[atoms[i].id].a = atoms[i];\n    }\n\n    let atomsRef;\n    for (j = 0; j < moleculeArr.length; j++) {\n      if (moleculeArr[j]._center !== null) {\n        bLow.set(nLimon, nLimon, nLimon);\n        bHight.set(-nLimon, -nLimon, -nLimon);\n        atomsRef = moleculeArr[j]._atoms.split(' ');\n        moleculeArr[j]._atoms = [];\n        atomsRef.forEach(cycleFunc);\n\n        moleculeArr[j]._center.addVectors(bLow, bHight);\n        moleculeArr[j]._center.multiplyScalar(0.5);\n      } else {\n        atomsRef = moleculeArr[j]._atoms.split(' ');\n        moleculeArr[j]._atoms = [];\n        atomsRef.forEach(cycleFuncInner);\n      }\n    }\n    atomMap = null;\n  }\n\n  _traverseData(dom) {\n    function isArray(o) {\n      return Object.prototype.toString.apply(o) === '[object Array]';\n    }\n\n    function parseNode(xmlNode, result) {\n      if (xmlNode.nodeName === '#text' && xmlNode.nodeValue.trim() === '') {\n        return;\n      }\n\n      const jsonNode = {};\n      jsonNode.xmlNode = xmlNode;\n      const existing = result[xmlNode.nodeName];\n      if (existing) {\n        if (!isArray(existing)) {\n          result[xmlNode.nodeName] = [existing, jsonNode];\n        } else {\n          result[xmlNode.nodeName].push(jsonNode);\n        }\n      } else {\n        result[xmlNode.nodeName] = jsonNode;\n      }\n\n      let length;\n      let i;\n      if (xmlNode.attributes) {\n        ({ length } = xmlNode.attributes);\n        for (i = 0; i < length; i++) {\n          const attribute = xmlNode.attributes[i];\n          jsonNode[attribute.nodeName] = attribute.nodeValue;\n        }\n      }\n\n      ({ length } = xmlNode.childNodes);\n      for (i = 0; i < length; i++) {\n        parseNode(xmlNode.childNodes[i], jsonNode);\n      }\n    }\n\n    const result = {};\n    if (dom.childNodes.length) {\n      parseNode(dom.childNodes[0], result);\n    }\n\n    return result;\n  }\n\n  _findSuitableMolecule(data, molSet) {\n    for (const key in data) {\n      if (key === 'xmlNode') {\n        continue;\n      } else if (key === 'molecule') {\n        if (data.molecule) {\n          if (data.molecule.atomArray && data.molecule.atomArray.atom) {\n            molSet.push(data);\n          }\n          if (Array.isArray(data.molecule)) {\n            for (let i = 0; i < data.molecule.length; i++) {\n              if (data.molecule[i].atomArray && data.molecule[i].atomArray.atom) {\n                molSet.push({ molecule: data.molecule[i] });\n              }\n            }\n          }\n        }\n      } else if (data[key] && data[key] !== null && typeof (data[key]) === 'object') {\n        this._findSuitableMolecule(data[key], molSet);\n      }\n    }\n  }\n\n  _selectComponents(text) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(text, 'application/xml');\n    const traversedData = this._traverseData(doc);\n    let rawData;\n    const self = this;\n\n    function prepareComponentCompound(data) {\n      let atoms = [];\n      if (data.molecule && data.molecule.atomArray && data.molecule.atomArray.atom) {\n        if (!Array.isArray(data.molecule.atomArray.atom)) {\n          atoms.push(data.molecule.atomArray.atom);\n        } else {\n          atoms = data.molecule.atomArray.atom;\n        }\n      } else if (!data.molecule) {\n        const ret = {};\n        ret.atomLabels = null;\n        ret.labelsCount = 1;\n        return ret;\n      }\n\n      if (data.molecule.molecule) {\n        self._extractSGroups(data.molecule.molecule, atoms);\n      }\n\n      let atom;\n      let count = atoms.length;\n      for (let i = 0; i < count; i++) {\n        atom = atoms[i];\n        atom.edges = [];\n      }\n\n      let localBond = [];\n      if (data.molecule.bondArray && data.molecule.bondArray.bond) {\n        if (!Array.isArray(data.molecule.bondArray.bond)) {\n          localBond.push(data.molecule.bondArray.bond);\n        } else {\n          localBond = data.molecule.bondArray.bond;\n        }\n      }\n      let bond;\n      count = localBond.length;\n      self._rebuidBondIndexes(atoms, localBond);\n\n      function addCurrBond(index) {\n        bond = localBond[index];\n        atom = atoms[bond.start];\n        if (!atom) {\n          return false;\n        }\n        atom.edges.push(bond.end);\n        atom = atoms[bond.end];\n        if (!atom) {\n          return false;\n        }\n        atom.edges.push(bond.start);\n        return true;\n      }\n\n      for (let i = 0; i < count; i++) {\n        if (!addCurrBond(i)) {\n          // ignore invalid bond\n          continue;\n        }\n        const orderAttr = bond.xmlNode.getAttribute('order');\n        const tc = parseInt(orderAttr, 10);\n        // the default bond order is unknown\n        localBond[i].order = 0;\n        localBond[i].type = Bond.BondType.UNKNOWN;\n        if (tc > 1) {\n          localBond[i].order = tc;\n        } else {\n          // another option - bond order is a string\n          const order = cOrderCharCodes[orderAttr];\n          if (order !== undefined) {\n            localBond[i].order = order;\n            if (orderAttr === 'A') {\n              localBond[i].type = Bond.BondType.AROMATIC;\n            }\n          }\n        }\n      }\n\n      count = atoms.length;\n      for (let i = 0; i < count; i++) {\n        atom = atoms[i];\n        atom.edges.sort();\n      }\n\n      const labels = self._breadWidthSearch(atoms, 0); // for now\n\n      const retStruct = {};\n      retStruct.atoms = atoms;\n      retStruct.bonds = localBond;\n      retStruct.labels = labels.atomLabels;\n      retStruct.count = Math.min(1, labels.labelsCount); // for now\n      retStruct.curr = -1;\n      retStruct.originalCML = doc;\n\n      return retStruct;\n    }\n\n    if (traversedData.cml) {\n      rawData = traversedData.cml;\n    } else {\n      rawData = traversedData;\n    }\n    const retData = [];\n    const filteredData = [];\n    this._findSuitableMolecule(rawData, filteredData);\n    if (this._readOnlyOneMolecule && filteredData.length > 1) {\n      filteredData.splice(1, filteredData.length - 1);\n    }\n    filteredData.forEach((d) => {\n      const rd = prepareComponentCompound(d);\n      if (rd.atoms.length > 0) {\n        retData.push(rd);\n      }\n    });\n    return retData;\n  }\n\n  _packLabel(compId, molId) {\n    const shift = 16;\n    return (molId << shift) + compId;\n  }\n\n  _unpackLabel(l) {\n    const shift = 16;\n    const mask = (1 << shift) - 1;\n    return { molId: l >>> shift, compId: l & mask };\n  }\n\n  _breadWidthSearch(atoms, molID) {\n    const atomLabels = new Array(atoms.length);\n\n    let id;\n    for (id = 0; id < atomLabels.length; id++) {\n      atomLabels[id] = this._packLabel(0, molID);\n    }\n\n    const breadthQueue = [];\n    let componentID = 0;\n    let labeledAtoms = atoms.length;\n\n    while (labeledAtoms > 0) {\n      componentID++;\n\n      let startID = -1;\n      for (id = 0; id < atomLabels.length; id++) {\n        if (this._unpackLabel(atomLabels[id]).compId === 0) {\n          startID = id;\n          break;\n        }\n      }\n\n      if (startID < 0) {\n        break;\n      }\n\n      // Bread first search\n      breadthQueue.push(atoms[startID]);\n      atomLabels[startID] = this._packLabel(componentID, molID);\n      labeledAtoms--;\n\n      while (breadthQueue.length > 0) {\n        const curr = breadthQueue.shift();\n        if (!curr) {\n          continue;\n        }\n\n        for (let i = 0; i < curr.edges.length; i++) {\n          if (atomLabels[curr.edges[i]] !== componentID) {\n            breadthQueue.push(atoms[curr.edges[i]]);\n            atomLabels[curr.edges[i]] = componentID;\n            labeledAtoms--;\n          }\n        }\n      }\n    }\n    const ret = {};\n    ret.atomLabels = atomLabels;\n    ret.labelsCount = componentID;\n    return ret;\n  }\n\n  _parseBond(eAtom, mainAtom, order, type) {\n    if (eAtom >= 0) {\n      const h = [Math.min(eAtom, mainAtom), Math.max(eAtom, mainAtom)];\n      this._complex.addBond(h[0], h[1], order, type, true);\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap = {};\n    const complex = this._complex;\n\n    const atoms = complex._atoms;\n    for (let i = 0, ni = atoms.length; i < ni; ++i) {\n      const atom = atoms[i];\n      serialAtomMap[atom.serial] = atom;\n    }\n\n    const bonds = complex._bonds;\n    const { logger } = this;\n    for (let j = 0, nj = bonds.length; j < nj; ++j) {\n      const bond = bonds[j];\n      if (bond._right < bond._left) {\n        logger.debug('_fixBondsArray: Logic error.');\n      }\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _parseSet(varData) {\n    const complex = this._complex = new Complex();\n    const data = varData;\n    const currentLabel = data.curr;\n    const { atoms, labels } = data;\n    let atom = null;\n    let i;\n    let j;\n    const count = atoms.length;\n\n    function addFunc(a) {\n      a.xmlNodeRef = atom;\n      if (atom.x2) {\n        atom.x3 = atom.x2;\n        delete atom.x2;\n      }\n      if (atom.y2) {\n        atom.y3 = atom.y2;\n        delete atom.y2;\n      }\n      if (!(atom.z3)) {\n        atom.z3 = '0.0';\n      }\n      atom.complexAtom = a;\n    }\n\n    let chains = {};\n    // parse atoms in label order\n    const reorder = [];\n    for (i = 0; i < count; i++) {\n      reorder.push(i);\n    }\n    reorder.sort((a, b) => labels[a] - labels[b]);\n    for (i = 0; i < count; i++) {\n      const atomCharge = 0;\n      const lLabel = labels[reorder[i]];\n      if (this._unpackLabel(lLabel).molId === this._unpackLabel(currentLabel).molId) {\n        atom = atoms[reorder[i]];\n        const atomFullNameStruct = atom.elementType;\n\n        if (atom.sgroupRef) {\n          const countRef = atom.sgroupRef.length;\n          for (let k = 0; k < countRef; ++k) {\n            complex._sgroups.push(atom.sgroupRef[k]);\n          }\n        }\n\n        if (atom.x3 || atom.x2) {\n          const currAtomComp = this._unpackLabel(lLabel).compId;\n          // use ' ' by default instead of synthetic creation of chain names\n          const chainID = ' '; //= String.fromCharCode('A'.charCodeAt(0) + currAtomComp);\n          const resSeq = currAtomComp;\n          const iCode = ' ';\n          let strLabel = currAtomComp.toString();\n          if (strLabel.length === 1) {\n            strLabel = `0${strLabel}`;\n          }\n          const resName = `N${strLabel}`;\n          let chain = chains[chainID];\n          if (!chain || chain.getName() !== chainID) {\n            chains[chainID] = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n            this._residue = null;\n          }\n\n          let residue = this._residue;\n          if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n            this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n          }\n\n          // _x, _y, _z, mname, mindex, atomNameFull, atomName, chainID, serial, isHet, atlLocInd, atomNameToTypeF\n          let xyz = null;\n          if (atom.x3) {\n            xyz = new THREE.Vector3(parseFloat(atom.x3), parseFloat(atom.y3), parseFloat(atom.z3));\n          } else if (atom.x2) {\n            xyz = new THREE.Vector3(parseFloat(atom.x2), parseFloat(atom.y2), 0);\n          }\n          let element = Element.ByName[atom.elementType.toUpperCase()];\n          if (!element) {\n            element = (JSON.parse(JSON.stringify(Element.ByName[\n              Object.keys(Element.ByName)[Object.keys(Element.ByName).length - 1]])));\n            element.number += 1;\n            element.name = atom.elementType.toUpperCase();\n            element.fullName = 'Unknown';\n            Element.ByName[atom.elementType.toUpperCase()] = element;\n          }\n          const atomSerial = parseInt(atom.id.replace(/[^0-9]/, ''), 10);\n          const added = residue.addAtom(\n            atomFullNameStruct, element, xyz, Element.Role.SG,\n            true, atomSerial, ' ', 1.0, 0.0, atomCharge,\n          );\n          if (atom.hydrogenCount) {\n            added.hydrogenCount = parseInt(atom.hydrogenCount, 10);\n          }\n          if (atom.mrvValence) {\n            added.valence = parseInt(atom.mrvValence, 10);\n          }\n          addFunc(added);\n        }\n      }\n    }\n    chains = null;// NOSONAR\n    for (i = 0; i < data.bonds.length; i++) {\n      const cb = data.bonds[i];\n      if (this._unpackLabel(labels[cb.start]).molId === this._unpackLabel(currentLabel).molId\n          && this._unpackLabel(labels[cb.end]).molId === this._unpackLabel(currentLabel).molId) {\n        atom = atoms[cb.start];\n        if (!atom || !(atoms[cb.end])) {\n          continue; // skip invalid\n        }\n        this._parseBond(\n          parseInt(atom.id.replace(/[^0-9]/, ''), 10),\n          parseInt(atoms[cb.end].id.replace(/[^0-9]/, ''), 10), cb.order, cb.type,\n        );\n      }\n    }\n\n    for (i = 0; i < this._complex.getSGroupCount(); i++) {\n      const sGrp = this._complex.getSGroups()[i];\n      for (j = 0; j < sGrp._atoms.length; j++) {\n        sGrp._atoms[j] = sGrp._atoms[j].complexAtom;\n      }\n    }\n    for (i = 0; i < count; i++) {\n      if (this._unpackLabel(labels[i]).molId === this._unpackLabel(currentLabel).molId) {\n        atom = atoms[i];\n        atom.complexAtom = null;\n        delete atom.complexAtom;\n      }\n    }\n    this._complex.originalCML = data.originalCML;\n    this._fixBondsArray();\n    complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n    this._serialAtomMap = null;\n    this._complex = null;\n    return complex;\n  }\n\n  parseSync() {\n    const complexes = [];\n    const self = this;\n    const moleculaSet = this._selectComponents(this._data);\n    moleculaSet.forEach((molSet) => {\n      molSet.curr = 2;\n      if (molSet.count === 0) {\n        molSet.count = 1;\n      }\n      for (let i = 0; i < molSet.count; i++) {\n        molSet.curr = (i + 1);\n        complexes.push(self._parseSet(molSet, false));\n      }\n    });\n\n    let totalAtomsParsed = 0;\n    complexes.forEach((c) => {\n      totalAtomsParsed += c.getAtomCount();\n    });\n    if (totalAtomsParsed <= 0) {\n      throw new Error('The data does not contain valid atoms');\n    }\n\n    if (complexes.length > 1) {\n      const joinedComplex = new Complex();\n      joinedComplex.joinComplexes(complexes);\n      joinedComplex.originalCML = complexes[0].originalCML;\n      return joinedComplex;\n    }\n    if (complexes.length === 1) {\n      return complexes[0];\n    }\n    return new Complex();\n  }\n}\n\nCMLParser.formats = ['cml'];\nCMLParser.extensions = ['.cml'];\n\nexport default CMLParser;\n","!function(r,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"object\"==typeof exports&&\"undefined\"!=typeof module)t(exports);else t(r.MMTF=r.MMTF||{})}(this,function(r){\"use strict\";function t(r,t,n){for(var e=(r.byteLength,0),i=n.length;i>e;e++){var o=n.charCodeAt(e);if(128>o)r.setUint8(t++,o>>>0&127|0);else if(2048>o)r.setUint8(t++,o>>>6&31|192),r.setUint8(t++,o>>>0&63|128);else if(65536>o)r.setUint8(t++,o>>>12&15|224),r.setUint8(t++,o>>>6&63|128),r.setUint8(t++,o>>>0&63|128);else{if(!(1114112>o))throw new Error(\"bad codepoint \"+o);r.setUint8(t++,o>>>18&7|240),r.setUint8(t++,o>>>12&63|128),r.setUint8(t++,o>>>6&63|128),r.setUint8(t++,o>>>0&63|128)}}}function n(r){for(var t=0,n=0,e=r.length;e>n;n++){var i=r.charCodeAt(n);if(128>i)t+=1;else if(2048>i)t+=2;else if(65536>i)t+=3;else{if(!(1114112>i))throw new Error(\"bad codepoint \"+i);t+=4}}return t}function e(r,i,o){var a=typeof r;if(\"string\"===a){var u=n(r);if(32>u)return i.setUint8(o,160|u),t(i,o+1,r),1+u;if(256>u)return i.setUint8(o,217),i.setUint8(o+1,u),t(i,o+2,r),2+u;if(65536>u)return i.setUint8(o,218),i.setUint16(o+1,u),t(i,o+3,r),3+u;if(4294967296>u)return i.setUint8(o,219),i.setUint32(o+1,u),t(i,o+5,r),5+u}if(r instanceof Uint8Array){var u=r.byteLength,s=new Uint8Array(i.buffer);if(256>u)return i.setUint8(o,196),i.setUint8(o+1,u),s.set(r,o+2),2+u;if(65536>u)return i.setUint8(o,197),i.setUint16(o+1,u),s.set(r,o+3),3+u;if(4294967296>u)return i.setUint8(o,198),i.setUint32(o+1,u),s.set(r,o+5),5+u}if(\"number\"===a){if(!isFinite(r))throw new Error(\"Number not finite: \"+r);if(Math.floor(r)!==r)return i.setUint8(o,203),i.setFloat64(o+1,r),9;if(r>=0){if(128>r)return i.setUint8(o,r),1;if(256>r)return i.setUint8(o,204),i.setUint8(o+1,r),2;if(65536>r)return i.setUint8(o,205),i.setUint16(o+1,r),3;if(4294967296>r)return i.setUint8(o,206),i.setUint32(o+1,r),5;throw new Error(\"Number too big 0x\"+r.toString(16))}if(r>=-32)return i.setInt8(o,r),1;if(r>=-128)return i.setUint8(o,208),i.setInt8(o+1,r),2;if(r>=-32768)return i.setUint8(o,209),i.setInt16(o+1,r),3;if(r>=-2147483648)return i.setUint8(o,210),i.setInt32(o+1,r),5;throw new Error(\"Number too small -0x\"+(-r).toString(16).substr(1))}if(null===r)return i.setUint8(o,192),1;if(\"boolean\"===a)return i.setUint8(o,r?195:194),1;if(\"object\"===a){var u,f=0,c=Array.isArray(r);if(c)u=r.length;else{var d=Object.keys(r);u=d.length}var f;if(16>u?(i.setUint8(o,u|(c?144:128)),f=1):65536>u?(i.setUint8(o,c?220:222),i.setUint16(o+1,u),f=3):4294967296>u&&(i.setUint8(o,c?221:223),i.setUint32(o+1,u),f=5),c)for(var l=0;u>l;l++)f+=e(r[l],i,o+f);else for(var l=0;u>l;l++){var v=d[l];f+=e(v,i,o+f),f+=e(r[v],i,o+f)}return f}throw new Error(\"Unknown type \"+a)}function i(r){var t=typeof r;if(\"string\"===t){var e=n(r);if(32>e)return 1+e;if(256>e)return 2+e;if(65536>e)return 3+e;if(4294967296>e)return 5+e}if(r instanceof Uint8Array){var e=r.byteLength;if(256>e)return 2+e;if(65536>e)return 3+e;if(4294967296>e)return 5+e}if(\"number\"===t){if(Math.floor(r)!==r)return 9;if(r>=0){if(128>r)return 1;if(256>r)return 2;if(65536>r)return 3;if(4294967296>r)return 5;throw new Error(\"Number too big 0x\"+r.toString(16))}if(r>=-32)return 1;if(r>=-128)return 2;if(r>=-32768)return 3;if(r>=-2147483648)return 5;throw new Error(\"Number too small -0x\"+r.toString(16).substr(1))}if(\"boolean\"===t||null===r)return 1;if(\"object\"===t){var e,o=0;if(Array.isArray(r)){e=r.length;for(var a=0;e>a;a++)o+=i(r[a])}else{var u=Object.keys(r);e=u.length;for(var a=0;e>a;a++){var s=u[a];o+=i(s)+i(r[s])}}if(16>e)return 1+o;if(65536>e)return 3+o;if(4294967296>e)return 5+o;throw new Error(\"Array or object too long 0x\"+e.toString(16))}throw new Error(\"Unknown type \"+t)}function o(r){var t=new ArrayBuffer(i(r)),n=new DataView(t);return e(r,n,0),new Uint8Array(t)}function a(r,t,n){return t?new r(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function u(r){return a(DataView,r)}function s(r){return a(Uint8Array,r)}function f(r){return a(Int8Array,r)}function c(r){return a(Int32Array,r,4)}function d(r){return a(Float32Array,r,4)}function l(r,t){var n=r.length/2;t||(t=new Int16Array(n));for(var e=0,i=0;n>e;++e,i+=2)t[e]=r[i]<<8^r[i+1]<<0;return t}function v(r,t){var n=r.length;t||(t=new Uint8Array(2*n));for(var e=u(t),i=0;n>i;++i)e.setInt16(2*i,r[i]);return s(t)}function g(r,t){var n=r.length/4;t||(t=new Int32Array(n));for(var e=0,i=0;n>e;++e,i+=4)t[e]=r[i]<<24^r[i+1]<<16^r[i+2]<<8^r[i+3]<<0;return t}function L(r,t){var n=r.length;t||(t=new Uint8Array(4*n));for(var e=u(t),i=0;n>i;++i)e.setInt32(4*i,r[i]);return s(t)}function h(r,t){var n=r.length;t||(t=new Float32Array(n/4));for(var e=u(t),i=u(r),o=0,a=0,s=n/4;s>o;++o,a+=4)e.setFloat32(a,i.getFloat32(a),!0);return t}function y(r,t,n){var e=r.length,i=1/t;n||(n=new Float32Array(e));for(var o=0;e>o;++o)n[o]=r[o]*i;return n}function m(r,t,n){var e=r.length;n||(n=new Int32Array(e));for(var i=0;e>i;++i)n[i]=Math.round(r[i]*t);return n}function p(r,t){var n,e;if(!t){var i=0;for(n=0,e=r.length;e>n;n+=2)i+=r[n+1];t=new r.constructor(i)}var o=0;for(n=0,e=r.length;e>n;n+=2)for(var a=r[n],u=r[n+1],s=0;u>s;++s)t[o]=a,++o;return t}function U(r){if(0===r.length)return new Int32Array;var t,n,e=2;for(t=1,n=r.length;n>t;++t)r[t-1]!==r[t]&&(e+=2);var i=new Int32Array(e),o=0,a=1;for(t=1,n=r.length;n>t;++t)r[t-1]!==r[t]?(i[o]=r[t-1],i[o+1]=a,a=1,o+=2):++a;return i[o]=r[r.length-1],i[o+1]=a,i}function b(r,t){var n=r.length;t||(t=new r.constructor(n)),n&&(t[0]=r[0]);for(var e=1;n>e;++e)t[e]=r[e]+t[e-1];return t}function I(r,t){var n=r.length;t||(t=new r.constructor(n)),t[0]=r[0];for(var e=1;n>e;++e)t[e]=r[e]-r[e-1];return t}function w(r,t){var n,e,i=r instanceof Int8Array?127:32767,o=-i-1,a=r.length;if(!t){var u=0;for(n=0;a>n;++n)r[n]<i&&r[n]>o&&++u;t=new Int32Array(u)}for(n=0,e=0;a>n;){for(var s=0;r[n]===i||r[n]===o;)s+=r[n],++n;s+=r[n],++n,t[e]=s,++e}return t}function C(r,t){var n,e=t?127:32767,i=-e-1,o=r.length,a=0;for(n=0;o>n;++n){var u=r[n];0===u?++a:a+=u===e||u===i?2:u>0?Math.ceil(u/e):Math.ceil(u/i)}var s=t?new Int8Array(a):new Int16Array(a),f=0;for(n=0;o>n;++n){var u=r[n];if(u>=0)for(;u>=e;)s[f]=e,++f,u-=e;else for(;i>=u;)s[f]=i,++f,u-=i;s[f]=u,++f}return s}function A(r,t){return b(p(r),t)}function x(r){return U(I(r))}function M(r,t,n){return y(p(r,c(n)),t,n)}function F(r,t){return U(m(r,t))}function S(r,t,n){return y(b(r,c(n)),t,n)}function E(r,t,n){return I(m(r,t),n)}function N(r,t,n){return y(w(r,c(n)),t,n)}function O(r,t,n){var e=w(r,c(n));return S(e,t,d(e))}function T(r,t,n){return C(E(r,t),n)}function k(r){var t=u(r),n=t.getInt32(0),e=t.getInt32(4),i=r.subarray(8,12),r=r.subarray(12);return[n,r,e,i]}function j(r,t,n,e){var i=new ArrayBuffer(12+e.byteLength),o=new Uint8Array(i),a=new DataView(i);return a.setInt32(0,r),a.setInt32(4,t),n&&o.set(n,8),o.set(e,12),o}function q(r){var t=r.length,n=s(r);return j(2,t,void 0,n)}function D(r){var t=r.length,n=L(r);return j(4,t,void 0,n)}function P(r,t){var n=r.length/t,e=L([t]),i=s(r);return j(5,n,e,i)}function z(r){var t=r.length,n=L(U(r));return j(6,t,void 0,n)}function B(r){var t=r.length,n=L(x(r));return j(8,t,void 0,n)}function V(r,t){var n=r.length,e=L([t]),i=L(F(r,t));return j(9,n,e,i)}function G(r,t){var n=r.length,e=L([t]),i=v(T(r,t));return j(10,n,e,i)}function R(r){var t={};return rr.forEach(function(n){void 0!==r[n]&&(t[n]=r[n])}),r.bondAtomList&&(t.bondAtomList=D(r.bondAtomList)),r.bondOrderList&&(t.bondOrderList=q(r.bondOrderList)),t.xCoordList=G(r.xCoordList,1e3),t.yCoordList=G(r.yCoordList,1e3),t.zCoordList=G(r.zCoordList,1e3),r.bFactorList&&(t.bFactorList=G(r.bFactorList,100)),r.atomIdList&&(t.atomIdList=B(r.atomIdList)),r.altLocList&&(t.altLocList=z(r.altLocList)),r.occupancyList&&(t.occupancyList=V(r.occupancyList,100)),t.groupIdList=B(r.groupIdList),t.groupTypeList=D(r.groupTypeList),r.secStructList&&(t.secStructList=q(r.secStructList,1)),r.insCodeList&&(t.insCodeList=z(r.insCodeList)),r.sequenceIndexList&&(t.sequenceIndexList=B(r.sequenceIndexList)),t.chainIdList=P(r.chainIdList,4),r.chainNameList&&(t.chainNameList=P(r.chainNameList,4)),t}function H(r){function t(r){for(var t={},n=0;r>n;n++){var e=o();t[e]=o()}return t}function n(t){var n=r.subarray(a,a+t);return a+=t,n}function e(t){var n=r.subarray(a,a+t);a+=t;var e=65535;if(t>e){for(var i=[],o=0;o<n.length;o+=e)i.push(String.fromCharCode.apply(null,n.subarray(o,o+e)));return i.join(\"\")}return String.fromCharCode.apply(null,n)}function i(r){for(var t=new Array(r),n=0;r>n;n++)t[n]=o();return t}function o(){var o,s,f=r[a];if(0===(128&f))return a++,f;if(128===(240&f))return s=15&f,a++,t(s);if(144===(240&f))return s=15&f,a++,i(s);if(160===(224&f))return s=31&f,a++,e(s);if(224===(224&f))return o=u.getInt8(a),a++,o;switch(f){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return s=u.getUint8(a+1),a+=2,n(s);case 197:return s=u.getUint16(a+1),a+=3,n(s);case 198:return s=u.getUint32(a+1),a+=5,n(s);case 202:return o=u.getFloat32(a+1),a+=5,o;case 203:return o=u.getFloat64(a+1),a+=9,o;case 204:return o=r[a+1],a+=2,o;case 205:return o=u.getUint16(a+1),a+=3,o;case 206:return o=u.getUint32(a+1),a+=5,o;case 208:return o=u.getInt8(a+1),a+=2,o;case 209:return o=u.getInt16(a+1),a+=3,o;case 210:return o=u.getInt32(a+1),a+=5,o;case 217:return s=u.getUint8(a+1),a+=2,e(s);case 218:return s=u.getUint16(a+1),a+=3,e(s);case 219:return s=u.getUint32(a+1),a+=5,e(s);case 220:return s=u.getUint16(a+1),a+=3,i(s);case 221:return s=u.getUint32(a+1),a+=5,i(s);case 222:return s=u.getUint16(a+1),a+=3,t(s);case 223:return s=u.getUint32(a+1),a+=5,t(s)}throw new Error(\"Unknown type 0x\"+f.toString(16))}var a=0,u=new DataView(r.buffer);return o()}function W(r,t,n,e){switch(r){case 1:return h(t);case 2:return f(t);case 3:return l(t);case 4:return g(t);case 5:return s(t);case 6:return p(g(t),new Uint8Array(n));case 7:return p(g(t));case 8:return A(g(t));case 9:return M(g(t),g(e)[0]);case 10:return O(l(t),g(e)[0]);case 11:return y(l(t),g(e)[0]);case 12:return N(l(t),g(e)[0]);case 13:return N(f(t),g(e)[0]);case 14:return w(l(t));case 15:return w(f(t))}}function X(r,t){t=t||{};var n=t.ignoreFields,e={};return nr.forEach(function(t){var i=n?-1!==n.indexOf(t):!1,o=r[t];i||void 0===o||(o instanceof Uint8Array?e[t]=W.apply(null,k(o)):e[t]=o)}),e}function J(r){return String.fromCharCode.apply(null,r).replace(/\\0/g,\"\")}function K(r,t,n){n=n||{};var e,i,o,a,u,s,f=n.firstModelOnly,c=t.onModel,d=t.onChain,l=t.onGroup,v=t.onAtom,g=t.onBond,L=0,h=0,y=0,m=0,p=0,U=-1,b=r.chainNameList,I=r.secStructList,w=r.insCodeList,C=r.sequenceIndexList,A=r.atomIdList,x=r.bFactorList,M=r.altLocList,F=r.occupancyList,S=r.bondAtomList,E=r.bondOrderList;for(e=0,i=r.chainsPerModel.length;i>e&&!(f&&L>0);++e){var N=r.chainsPerModel[L];for(c&&c({chainCount:N,modelIndex:L}),o=0;N>o;++o){var O=r.groupsPerChain[h];if(d){var T=J(r.chainIdList.subarray(4*h,4*h+4)),k=null;b&&(k=J(b.subarray(4*h,4*h+4))),d({groupCount:O,chainIndex:h,modelIndex:L,chainId:T,chainName:k})}for(a=0;O>a;++a){var j=r.groupList[r.groupTypeList[y]],q=j.atomNameList.length;if(l){var D=null;I&&(D=I[y]);var P=null;r.insCodeList&&(P=String.fromCharCode(w[y]));var z=null;C&&(z=C[y]),l({atomCount:q,groupIndex:y,chainIndex:h,modelIndex:L,groupId:r.groupIdList[y],groupType:r.groupTypeList[y],groupName:j.groupName,singleLetterCode:j.singleLetterCode,chemCompType:j.chemCompType,secStruct:D,insCode:P,sequenceIndex:z})}for(u=0;q>u;++u){if(v){var B=null;A&&(B=A[m]);var V=null;x&&(V=x[m]);var G=null;M&&(G=String.fromCharCode(M[m]));var R=null;F&&(R=F[m]),v({atomIndex:m,groupIndex:y,chainIndex:h,modelIndex:L,atomId:B,element:j.elementList[u],atomName:j.atomNameList[u],formalCharge:j.formalChargeList[u],xCoord:r.xCoordList[m],yCoord:r.yCoordList[m],zCoord:r.zCoordList[m],bFactor:V,altLoc:G,occupancy:R})}m+=1}if(g){var H=j.bondAtomList;for(u=0,s=j.bondOrderList.length;s>u;++u)g({atomIndex1:m-q+H[2*u],atomIndex2:m-q+H[2*u+1],bondOrder:j.bondOrderList[u]})}y+=1}h+=1}if(p=U+1,U=m-1,g&&S)for(u=0,s=S.length;s>u;u+=2){var W=S[u],X=S[u+1];(W>=p&&U>=W||X>=p&&U>=X)&&g({atomIndex1:W,atomIndex2:X,bondOrder:E?E[u/2]:null})}L+=1}}function Q(r){return o(R(r))}function Y(r,t){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var n;return n=r instanceof Uint8Array?H(r):r,X(n,t)}function Z(r,t,n,e){function i(){try{var r=Y(o.response);n(r)}catch(t){e(t)}}var o=new XMLHttpRequest;o.addEventListener(\"load\",i,!0),o.addEventListener(\"error\",e,!0),o.responseType=\"arraybuffer\",o.open(\"GET\",t+r.toUpperCase()),o.send()}function $(r,t,n){Z(r,or,t,n)}function _(r,t,n){Z(r,ar,t,n)}var rr=[\"mmtfVersion\",\"mmtfProducer\",\"unitCell\",\"spaceGroup\",\"structureId\",\"title\",\"depositionDate\",\"releaseDate\",\"experimentalMethods\",\"resolution\",\"rFree\",\"rWork\",\"bioAssemblyList\",\"ncsOperatorList\",\"entityList\",\"groupList\",\"numBonds\",\"numAtoms\",\"numGroups\",\"numChains\",\"numModels\",\"groupsPerChain\",\"chainsPerModel\"],tr=[\"xCoordList\",\"yCoordList\",\"zCoordList\",\"groupIdList\",\"groupTypeList\",\"chainIdList\",\"bFactorList\",\"atomIdList\",\"altLocList\",\"occupancyList\",\"secStructList\",\"insCodeList\",\"sequenceIndexList\",\"chainNameList\",\"bondAtomList\",\"bondOrderList\"],nr=rr.concat(tr),er=\"v1.1.0dev\",ir=\"//mmtf.rcsb.org/v1.0/\",or=ir+\"full/\",ar=ir+\"reduced/\";r.encode=Q,r.decode=Y,r.traverse=K,r.fetch=$,r.fetchReduced=_,r.version=er,r.fetchUrl=or,r.fetchReducedUrl=ar,r.encodeMsgpack=o,r.encodeMmtf=R,r.decodeMsgpack=H,r.decodeMmtf=X});","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport MMTF from '../../../vendor/js/mmtf';\nimport StructuralElement from '../../chem/StructuralElement';\n\nconst {\n  Complex,\n  Chain,\n  Atom,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Bond,\n  Assembly,\n  Molecule,\n} = chem;\n\nclass ArrayComparator {\n  constructor(original) {\n    this._original = Array.from(original);\n    this._original.sort();\n\n    this._sum = 0;\n    for (let i = 0; i < this._original.length; ++i) {\n      this._sum += this._original[i];\n    }\n  }\n\n  compare(candidate) {\n    const len = candidate.length;\n    if (len !== this._original.length) {\n      return false;\n    }\n\n    let sum = 0;\n    let i;\n    for (i = 0; i < len; ++i) {\n      sum += candidate[i];\n    }\n\n    if (sum !== this._sum) {\n      return false;\n    }\n\n    const sorted = Array.from(candidate);\n    sorted.sort();\n\n    for (i = 0; i < len; ++i) {\n      if (sorted[i] !== this._original[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n\nArrayComparator.prototype.constructor = ArrayComparator;\n\nconst StructuralElementType = StructuralElement.Type;\n\n// see https://github.com/rcsb/mmtf-javascript/blob/master/src/mmtf-traverse.js\nconst secStructToType = [\n  StructuralElementType.HELIX_PI, // 0\n  StructuralElementType.BEND, // 1\n  StructuralElementType.HELIX_ALPHA, // 2\n  StructuralElementType.STRAND, // 3\n  StructuralElementType.HELIX_310, // 4\n  StructuralElementType.BRIDGE, // 5\n  StructuralElementType.TURN, // 6\n  StructuralElementType.COIL, // 7\n];\n\nfunction getFirstByte(buf) {\n  const bytes = new Uint8Array(buf, 0, 1);\n  return bytes[0];\n}\n\nclass MMTFParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'mmtf';\n  }\n\n  static canProbablyParse(data) {\n    // check if it's binary MessagePack format containing a map (dictionary)\n    // see https://github.com/msgpack/msgpack/blob/master/spec.md\n    return _.isArrayBuffer(data) && ((getFirstByte(data) | 1) === 0xDF);\n  }\n\n  _onModel(_modelData) {\n  }\n\n  _onChain(chainData) {\n    if (chainData.modelIndex !== 0) {\n      return;\n    }\n\n    const chain = new Chain(this._complex, chainData.chainName);\n    this._complex._chains[chainData.chainIndex] = chain;\n    chain._index = chainData.chainIndex;\n  }\n\n  _onGroup(groupData) {\n    if (groupData.modelIndex !== 0) {\n      return;\n    }\n\n    if (this.settings.now.nowater) {\n      // skip water\n      if (groupData.groupName === 'HOH' || groupData.groupName === 'WAT') {\n        return;\n      }\n    }\n\n    const chain = this._complex._chains[groupData.chainIndex];\n    const icode = !groupData.insCode.charCodeAt(0) ? '' : groupData.insCode;\n    const residue = chain.addResidue(groupData.groupName, groupData.groupId, icode);\n    residue._index = groupData.groupIndex;\n\n    this._updateSecStructure(this._complex, residue, groupData);\n  }\n\n  _onAtom(atomData) {\n    if (atomData.modelIndex !== 0) {\n      return;\n    }\n\n    const altLoc = !atomData.altLoc.charCodeAt(0) ? '' : atomData.altLoc;\n    const atom = new Atom(\n      atomData.groupIndex, // we store residue index here to replace it later with actual reference\n      atomData.atomName,\n      Element.getByName(atomData.element.toUpperCase()),\n      new THREE.Vector3(atomData.xCoord, atomData.yCoord, atomData.zCoord),\n      Element.Role[atomData.atomName],\n      false, // hetero atoms will be marked later\n      atomData.atomId,\n      altLoc,\n      atomData.occupancy,\n      atomData.bFactor,\n      atomData.formalCharge,\n    );\n\n    this._complex._atoms[atomData.atomIndex] = atom;\n    atom.index = atomData.atomIndex;\n\n    this._serialAtomMap[atomData.atomId] = atom;\n  }\n\n  _onBond(bondData) {\n    const right = Math.max(bondData.atomIndex1, bondData.atomIndex2);\n    if (right >= this._complex._atoms.length) {\n      return;\n    }\n    const left = Math.min(bondData.atomIndex1, bondData.atomIndex2);\n    this._complex.addBond(\n      this._complex._atoms[left], this._complex._atoms[right],\n      bondData.bondOrder, Bond.BondType.UNKNOWN, true,\n    );\n  }\n\n  _updateSecStructure(complex, residue, groupData) {\n    const helixClasses = [3, -1, 1, -1, 5];\n\n    if (!_.isUndefined(groupData) && groupData.secStruct === this._ssType) {\n      residue._secondary = this._ssStruct;\n      if (this._ssStruct) {\n        this._ssStruct.term = residue;\n      }\n      return;\n    }\n\n    if (!_.isUndefined(groupData)) {\n      // start new secondary structure\n      const type = secStructToType[groupData.secStruct];\n      this._ssType = groupData.secStruct;\n      this._ssStart = residue;\n\n      let struct = null;\n      switch (this._ssType) {\n        case -1: // undefined\n        case 7: // coil\n          break;\n        case 0: // pi helix\n        case 2: // alpha helix\n        case 4: // 3-10 helix\n          struct = new Helix(helixClasses[this._ssType], residue, residue, 0, '', '', 0);\n          complex._helices.push(struct);\n          break;\n        case 3: { // extended\n          const sheet = new Sheet('', 0);\n          complex._sheets.push(sheet);\n          struct = new Strand(sheet, residue, residue, 0, null, null);\n          break;\n        }\n        default:\n          if (type !== undefined) {\n            struct = new StructuralElement(type, residue, residue);\n          }\n          break;\n      }\n\n      this._ssStruct = struct;\n      residue._secondary = struct;\n      if (struct) {\n        complex.structures.push(struct);\n      }\n    }\n  }\n\n  _updateMolecules(mmtfData) {\n    const entities = mmtfData.entityList;\n    if (!entities) {\n      return;\n    }\n\n    const chainsInModel0 = mmtfData.chainsPerModel[0];\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities[i];\n      const chains = entity.chainIndexList;\n      let residues = [];\n      for (let j = 0; j < chains.length; j++) {\n        const chainIndex = chains[j];\n        // skip chains in models other than the first one\n        if (chainIndex >= chainsInModel0) {\n          continue;\n        }\n        const chain = this._complex._chains[chainIndex];\n        residues = residues.concat(chain._residues.slice());\n      }\n      const molecule = new Molecule(this._complex, entity.description, i + 1);\n      molecule.residues = residues;\n      this._complex._molecules[i] = molecule;\n    }\n  }\n\n  // populate complex with chains, residues and atoms\n  _traverse(mmtfData) {\n    const self = this;\n\n    // get metadata\n    const { metadata } = this._complex;\n    metadata.id = mmtfData.structureId;\n    metadata.title = [];\n    metadata.title[0] = mmtfData.title;\n    metadata.date = mmtfData.releaseDate;\n    metadata.format = 'mmtf';\n\n    // create event callback functions\n    const eventCallbacks = {\n      onModel(modelData) {\n        self._onModel(modelData);\n      },\n      onChain(chainData) {\n        self._onChain(chainData);\n      },\n      onGroup(groupData) {\n        self._onGroup(groupData);\n      },\n      onAtom(atomData) {\n        self._onAtom(atomData);\n      },\n      onBond(bondData) {\n        self._onBond(bondData);\n      },\n    };\n\n    // temporary variables used during traversal to track secondary structures\n    this._ssType = -1;\n    this._ssStruct = null;\n    this._ssStart = null;\n\n    // traverse the structure and listen to the events\n    MMTF.traverse(mmtfData, eventCallbacks);\n\n    this._updateSecStructure(this._complex);\n    this._updateMolecules(mmtfData);\n  }\n\n  // During traversal atoms and residues don't come sequentially\n  // so a residue for certain atom can be unavailable. Thus we\n  // store residue index in atom.\n  // This function being called after traversal replaces the index\n  // with actual reference, and also populates atom lists in residues.\n  _linkAtomsToResidues() {\n    for (let i = 0; i < this._complex._atoms.length; ++i) {\n      const atom = this._complex._atoms[i];\n      const residue = this._complex._residues[atom.residue];\n      atom.residue = residue;\n      residue._atoms.push(atom);\n    }\n  }\n\n  _findSynonymousChains() {\n    const named = {};\n    for (let i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i];\n      const name = chain.getName();\n      if (!named.hasOwnProperty(name)) {\n        named[name] = [];\n      }\n\n      named[name].push(chain._index);\n    }\n\n    return named;\n  }\n\n  // NOTE: This function relies on original chain indices, so it must be called before any magic happens to chains.\n  _parseAssemblyInfo(mmtfData) {\n    let i;\n    let j;\n    let k;\n    const assemblies = [];\n    const { logger } = this;\n\n    for (i = 0; i < mmtfData.bioAssemblyList.length; ++i) {\n      const baInfo = mmtfData.bioAssemblyList[i];\n      if (baInfo.transformList.length === 0) {\n        continue;\n      }\n\n      const chains = baInfo.transformList[0].chainIndexList;\n      const chainListCheck = new ArrayComparator(chains);\n\n      // build list of chain names\n      const chainNames = {};\n      for (j = 0; j < chains.length; ++j) {\n        chainNames[this._complex._chains[chains[j]].getName()] = 1;\n      }\n\n      // all chains with the same name should belong to assembly if one of them belongs\n      const allChains = [];\n      let name;\n      for (name in chainNames) {\n        if (chainNames.hasOwnProperty(name)) {\n          // just concat arrays -- there should be no duplicates\n          Array.prototype.push.apply(allChains, this._chainsByName[name]);\n        }\n      }\n      if (!chainListCheck.compare(allChains)) {\n        // assembly is missing some of the chains\n        logger.debug('MMTF: Assembly is missing some of the synonymous chains. Skipping...');\n      }\n\n      const a = new Assembly(this._complex);\n\n      // add chains to assembly\n      for (name in chainNames) {\n        if (chainNames.hasOwnProperty(name)) {\n          a.addChain(name);\n        }\n      }\n\n      // add unique matrices to assembly\n      a.addMatrix(new THREE.Matrix4().fromArray(baInfo.transformList[0].matrix).transpose());\n      for (j = 1; j < baInfo.transformList.length; ++j) {\n        const transform = baInfo.transformList[j];\n\n        if (!chainListCheck.compare(transform.chainIndexList)) {\n          // list of chains for this transform doesn't match that for other transforms\n          // this is illegal in our structure\n          logger.debug('MMTF: Chain lists differ for different transforms in one assembly. Skipping...');\n          continue;\n        }\n\n        const m = new THREE.Matrix4().fromArray(transform.matrix).transpose();\n\n        // check if matrix is already in the list\n        for (k = 0; k < a.matrices.length; ++k) {\n          if (a.matrices[k].equals(m)) {\n            break;\n          }\n        }\n\n        if (k === a.matrices.length) {\n          a.addMatrix(m);\n        }\n      }\n\n      a.finalize();\n      assemblies.push(a);\n    }\n\n    return assemblies;\n  }\n\n  // NOTE: This function relies on original chain indices, so it must be called before any magic happens to chains.\n  _markHeteroAtoms(mmtfData) {\n    const chainsInModel0 = mmtfData.chainsPerModel[0];\n    for (let i = 0; i < mmtfData.entityList.length; ++i) {\n      const entity = mmtfData.entityList[i];\n      if (entity.type !== 'polymer') {\n        for (let j = 0; j < entity.chainIndexList.length; ++j) {\n          const chainIndex = entity.chainIndexList[j];\n          // skip chains in models other than the first one\n          if (chainIndex >= chainsInModel0) {\n            continue;\n          }\n          const chain = this._complex._chains[chainIndex];\n          for (let k = 0; k < chain._residues.length; ++k) {\n            const res = chain._residues[k];\n            for (let m = 0; m < res._atoms.length; ++m) {\n              res._atoms[m].het = true;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // joins chains with the same name into single chain\n  _joinSynonymousChains() {\n    let i;\n    let j;\n\n    const primaryChainsArray = [];\n    const primaryChainsHash = {};\n\n    // join chains\n    for (i = 0; i < this._complex._chains.length; ++i) {\n      const chain = this._complex._chains[i];\n      const name = chain.getName();\n      if (!primaryChainsHash.hasOwnProperty(name)) {\n        // new name -- this is a primary chain\n        primaryChainsHash[name] = chain;\n        chain._index = primaryChainsArray.length; // update index as this array will later replace original chain list\n        primaryChainsArray.push(chain);\n        continue;\n      }\n\n      // this chain should be joined with the primary chain of the same name\n      const primary = primaryChainsHash[name];\n      for (j = 0; j < chain._residues.length; ++j) {\n        const residue = chain._residues[j];\n        primary._residues.push(residue);\n        residue._chain = primary;\n      }\n    }\n\n    // replace chains list with one containing only primary chains\n    // dropping references to all chains but primary\n    this._complex._chains = primaryChainsArray;\n  }\n\n  parseSync() {\n    const mmtfData = MMTF.decode(this._data);\n\n    this._complex = new Complex();\n    this._serialAtomMap = {}; // filled during traversal\n\n    this._traverse(mmtfData);\n    this._linkAtomsToResidues();\n    this._markHeteroAtoms(mmtfData);\n    this._chainsByName = this._findSynonymousChains();\n    Array.prototype.push.apply(this._complex.units, this._parseAssemblyInfo(mmtfData));\n    this._joinSynonymousChains();\n\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n\n    return this._complex;\n  }\n}\n\nMMTFParser.formats = ['mmtf'];\nMMTFParser.extensions = ['.mmtf'];\nMMTFParser.binary = true;\n\nexport default MMTFParser;\n","class ParsingError extends Error {\n  constructor(message, line, column) {\n    super(`data:${line}:${column}: ${message}`);\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ParsingError);\n    }\n\n    this.name = 'ParsingError';\n    this.parseLine = line;\n    this.parseColumn = column;\n  }\n}\n\nexport default ParsingError;\n","import _ from 'lodash';\nimport ParsingError from './ParsingError';\n\n// Implemented and being tested against: https://www.iucr.org/resources/cif/spec/version1.1/cifsyntax\n\nfunction _isWhitespace(ch) {\n  return ch === 32 || ch === 10 || ch === 13 || ch === 9;\n}\n\nfunction _inlineIndexOf(ch0, str, idx) {\n  const len = str.length;\n  let ch = -1;\n  while (idx < len) {\n    ch = str.charCodeAt(idx);\n    if (ch === ch0 || ch === 10) {\n      break;\n    }\n    ++idx;\n  }\n  return ch === ch0 ? idx : -1;\n}\n\nexport default function readCIF(source) {\n  let i = 0;\n  let j = 0;\n  const n = source.length;\n  let code = NaN;\n  let newline = true;\n  let line = 1;\n  let column = 1;\n  let begin;\n  let state = 0; // 0 - start, 1 - block, 2 - item, 3 - loop, 4 - values, 5 - value\n  const result = {};\n  let block = {};\n  let keys = [];\n  let keysCount = 0;\n  let key = '';\n  let values = [];\n  let valuesCount = 0;\n  let value;\n\n  function _parseValue() {\n    let val;\n    if ((code === 46 || code === 63) && (i + 1 >= n || _isWhitespace(source.charCodeAt(i + 1)))) { // '.' or '?' .....\n      // it's a missing value\n      ++column;\n      ++i;\n      return undefined;\n    }\n    if (newline && code === 59) { // ';' ......................................................................\n      // parse multi-line string\n      j = i;\n      let lines = 0;\n      do {\n        j = _inlineIndexOf(10, source, j + 1); // '\\n'\n        if (j === -1) {\n          throw new ParsingError('Unterminated text block found', line, column);\n        }\n        ++lines;\n      } while ((j + 1 < n && source.charCodeAt(j + 1) !== code) || j + 1 >= n);\n      val = source.substring(i + 1, j).replace(/\\r/g, '');\n      i = j + 2;\n      line += lines;\n      column = 1;\n      newline = false;\n      return val;\n    }\n    if (code === 39 || code === 34) { // ''' or '\"' ...........................................................\n      // parse quoted string\n      j = i;\n      do {\n        j = _inlineIndexOf(code, source, j + 1);\n        if (j === -1) {\n          throw new ParsingError('Unterminated quoted string found', line, column);\n        }\n      } while (j + 1 < n && !_isWhitespace(source.charCodeAt(j + 1)));\n      val = source.substring(i + 1, j);\n      column += j - i + 1;\n      i = j + 1;\n      return val;\n    } // ......................................................................................................\n    // parse until the first whitespace\n    j = i;\n    while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n      ++j;\n    }\n    val = source.substring(i, j);\n    column += j - i;\n    i = j;\n    // try to convert to a number\n    const num = Number(val);\n    if (!Number.isNaN(num)) {\n      return num;\n    }\n    // or leave as an unquoted string\n    return val;\n  }\n\n  function _storeKey(tag) {\n    keys[keysCount++] = tag;\n  }\n\n  function _storeValue(val) {\n    const keyIndex = valuesCount % keysCount;\n    values[keyIndex].push(val);\n    ++valuesCount;\n    return val;\n  }\n\n  while (i <= n) {\n    code = source.charCodeAt(i); // 'NaN' in place of '<eof>'\n    if (code === 13) { // '\\r' .......................................................................................\n      // just ignore\n    } else if (code === 10) { // '\\n' ................................................................................\n      // take note of new lines\n      newline = true;\n      ++line;\n      column = 1;\n    } else {\n      // process inline characters\n      if (code === 32 || code === 9) { // ' ' or '\\t' ................................................................\n        // just ignore\n      } else if (code === 35) { // '#' ...............................................................................\n        // skip the comment until before the end of the line\n        i = _inlineIndexOf(10, source, i + 1); // '\\n'\n        if (i === -1) {\n          break;\n        } else {\n          continue; // don't forget to process the new line\n        }\n      } else if (state === 0) { // start =============================================================================\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') { // 'data_' ..........\n          j = i + 5;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            // add new data block\n            result[source.substring(begin, i)] = block = {};\n            state = 1; // block\n            continue; // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Data block name missing', line, column);\n          }\n        } else if (Number.isNaN(code)) { // <eof> ....................................................................\n          break;\n        } else { // ..................................................................................................\n          throw new ParsingError(`Unexpected character in state ${state}`, line, column);\n        }\n      } else if (state === 1) { // block =============================================================================\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') { // 'data_' ..........\n          state = 0; // start\n          continue; // parse again in a different state\n        } else if (code === 95) { // '_' .............................................................................\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            // start new item\n            key = source.substring(begin, i);\n            state = 2; // item\n            continue; // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') { // 'loop_' ...\n          i += 5;\n          column += 5;\n          if (i < n && !_isWhitespace(source.charCodeAt(i))) {\n            throw new ParsingError(`Unexpected character in state ${state}`, line, column);\n          } else {\n            // start new loop\n            keys = [];\n            keysCount = 0;\n            values = [];\n            valuesCount = 0;\n            state = 3; // loop\n            continue; // don't forget to process the whitespace\n          }\n        } else if (Number.isNaN(code)) { // <eof> ....................................................................\n          break;\n        } else { // ..................................................................................................\n          throw new ParsingError(`Unexpected character in state ${state}`, line, column);\n        }\n      } else if (state === 2) { // item ==============================================================================\n        if (Number.isNaN(code)) {\n          break;\n        }\n        value = _parseValue();\n        _.set(block, key, value);\n        state = 1; // block\n        continue;\n      } else if (state === 3) { // loop ==============================================================================\n        if (code === 95) { // '_' ....................................................................................\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            // add new key\n            _storeKey(source.substring(begin, i));\n            continue; // don't forget to process the whitespace\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else { // ..................................................................................................\n          if (keysCount > 0) {\n            for (let keyIndex = 0; keyIndex < keysCount; ++keyIndex) {\n              value = [];\n              values[keyIndex] = value;\n              _.set(block, keys[keyIndex], value);\n            }\n            state = 4;\n            continue; // parse again in a different state\n          }\n          throw new ParsingError('Data tags are missing inside a loop', line, column);\n        }\n      } else if (state === 4) { // values ============================================================================\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') { // 'data_' ..........\n          state = 0; // start\n        } else if (code === 95) { // '_' .............................................................................\n          state = 1; // block\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') { // 'loop_' ...\n          state = 1; // block\n        } else if (Number.isNaN(code)) { // <eof> ....................................................................\n          state = 0;\n        } else { // ..................................................................................................\n          _storeValue(_parseValue());\n        }\n        continue; // parse again in a different state\n      } else { // ====================================================================================================\n        throw new ParsingError(`Unexpected internal state ${state}`, line, column);\n      }\n\n      newline = false;\n      ++column;\n    }\n    ++i;\n  }\n\n  if (state === 2) { // item\n    throw new ParsingError(`Unexpected end of file in state ${state}`, line, column);\n  }\n\n  return result;\n}\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport StructuralElement from '../../chem/StructuralElement';\nimport readCIF from './readCIF';\n\nconst {\n  Complex,\n  Element,\n  Helix,\n  Sheet,\n  Strand,\n  Assembly,\n  Molecule,\n} = chem;\n\nconst cRequiredAtomFields = [\n  'auth_seq_id',\n  'Cartn_x',\n  'Cartn_y',\n  'Cartn_z',\n  'label_atom_id',\n];\n\nconst cSecondaryCoding = {\n  helx: 'helix',\n  turn: 'turn',\n  strn: 'strand',\n};\n\nfunction getTypeFromId(string) {\n  const typeId = /[A-Za-z]+/.exec(string);\n  if (!typeId) {\n    return null;\n  }\n\n  return cSecondaryCoding[typeId[0].toLowerCase()];\n}\n\n/**\n * Make valid object an array\n * @param arrayLikeObject\n * @return {array, object} array or object\n */\nfunction arrize(arrayLikeObject) {\n  if (arrayLikeObject === null || arrayLikeObject === undefined || _.isArray(arrayLikeObject)) {\n    return arrayLikeObject;\n  }\n  return [arrayLikeObject];\n}\n\nfunction nameToElement(name) {\n  // http://www.wwpdb.org/documentation/file-format-content/format33/sect9.html#ATOM\n  //\n  // http://www.cgl.ucsf.edu/chimera/docs/UsersGuide/tutorials/pdbintro.html#note1\n  //\n  // Atom names start with element symbols right-justified in columns 13-14\n  // as permitted by the length of the name. For example, the symbol FE for\n  // iron appears in columns 13-14, whereas the symbol C for carbon appears\n  // in column 14 (see Misaligned Atom Names). If an atom name has four\n  // characters, however, it must start in column 13 even if the element\n  // symbol is a single character (for example, see Hydrogen Atoms).\n\n  const veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\n\nclass AtomDataError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'AtomDataError';\n    this.message = message;\n  }\n}\n\nfunction _getOperations(operList) {\n  if (!operList) {\n    return null;\n  }\n  const idc = arrize(operList.id);\n  const { matrix, vector } = operList;\n  if (!idc || !matrix || !vector) {\n    return null;\n  }\n\n  const ops = [];\n  for (let i = 0, n = idc.length; i < n; ++i) {\n    const mtx = new THREE.Matrix4();\n    const { elements } = mtx;\n\n    for (let row = 0; row < 3; ++row) {\n      const matrixData = matrix[row + 1];\n      elements[row] = arrize(matrixData[1])[i];\n      elements[row + 4] = arrize(matrixData[2])[i];\n      elements[row + 8] = arrize(matrixData[3])[i];\n      elements[row + 12] = arrize(vector[row + 1])[i];\n    }\n    ops[idc[i]] = mtx;\n  }\n  return ops;\n}\n\nfunction _extractOperations(assemblyGen, opsDict) {\n  assemblyGen = _.isString(assemblyGen) ? assemblyGen : `${assemblyGen}`;\n  const l = assemblyGen.replace(/\\)\\s*\\(/g, '!').replace(/[()']/g, '');\n  const groupStr = l.split('!');\n  const gps = [];\n\n  for (let grIdx = 0, grCount = groupStr.length; grIdx < grCount; ++grIdx) {\n    const gr = groupStr[grIdx].split(',');\n    const gp = [];\n    let idx = 0;\n    for (let i = 0, n = gr.length; i < n; ++i) {\n      const s = gr[i];\n      if (s.includes('-')) {\n        const es = s.split('-');\n        let j = parseInt(es[0], 10);\n        const m = parseInt(es[1], 10);\n        for (; j <= m; ++j) {\n          gp[idx++] = opsDict[j];\n        }\n      } else {\n        gp[idx++] = opsDict[s];\n      }\n    }\n    gps.push(gp);\n  }\n\n  // traverse all groups from the end of array and make all mults\n  const matrices = [];\n  let cnt = 0;\n  function traverse(level, mtx) {\n    for (let ii = 0, nn = gps[level].length; ii < nn; ++ii) {\n      const newMtx = mtx ? mtx.clone() : new THREE.Matrix4();\n      newMtx.multiplyMatrices(gps[level][ii], newMtx);\n      if (level === 0) {\n        matrices[cnt++] = newMtx;\n      } else {\n        traverse(level - 1, newMtx);\n      }\n    }\n  }\n  traverse(gps.length - 1);\n  return matrices;\n}\n\nclass CIFParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this.asymDict = {};\n    this.molecules = [];\n    this._options.fileType = 'cif';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && /^\\s*data_/i.test(data);\n  }\n\n  parseSync() {\n    this.logger.info('Parsing CIF file..');\n    const data = readCIF(this._data);\n    return this._toComplex(data);\n  }\n\n  /**\n   * Convert intermediate structure into our valid Complex object\n   * @param cifData intermediate CIF object\n   * @returns {Complex} complex\n   * @private\n   */\n  _toComplex(cifData) {\n    const complex = new Complex();\n    const complexData = cifData[Object.keys(cifData)[0]];\n    this._extractAtoms(complex, complexData);\n    this._extractSecondary(complex, complexData);\n    this._extractAssemblies(complex, complexData);\n    this._extractMolecules(complex, complexData);\n    this._extractMetadata(complex, complexData);\n    complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n    });\n\n    return complex;\n  }\n\n  /**\n   * Extract metadata\n   * @param complex structure to fill\n   * @param complexData complex data from CIF file\n   * @private\n   */\n\n  _extractMetadata(complex, complexData) {\n    const { metadata } = complex;\n    metadata.id = complexData.entry.id;\n    metadata.classification = complexData.struct_keywords.pdbx_keywords;\n    const databaserev = complexData.database_PDB_rev;\n    metadata.date = (databaserev && databaserev.date_original) ? databaserev.date_original : '';\n    metadata.format = 'cif';\n    metadata.title = [];\n    metadata.title[0] = complexData.struct.title;\n  }\n\n  /**\n   * Extract molecules information from CIF structure (should be called strictly after _extractAtoms)\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractMolecules(complex, complexData) {\n    const molData = complexData.entity;\n    const names = arrize(molData.pdbx_description);\n    const count = names.length;\n    let i;\n\n    // molecules names from cif\n    for (i = 0; i < count; i++) {\n      if (this.molecules[i]) { // molecule was created during atoms processing\n        this.molecules[i].name = names[i];\n      } else { // molecule wasn't created, because there is no atom which is contained\n        this.molecules[i] = { name: names[i], residues: [] };\n      }\n    }\n\n    // reorganize molecules for complex and check chains\n    const molecules = complex.getMolecules();\n    for (i = 0; i < count; i++) {\n      const molecule = this.molecules[i];\n      molecules[i] = new Molecule(complex, molecule.name, i + 1);\n      molecules[i].residues = molecule.residues;\n    }\n  }\n\n  /**\n   * Extract atom information from CIF structure and fill complex\n   * @param {Complex} complex\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractAtoms(complex, complexData) {\n    const atomData = complexData.atom_site;\n    if (!atomData) {\n      throw new AtomDataError('CIF parsing error: atom_site is not specified!');\n    }\n\n    for (let f = 0, n = cRequiredAtomFields.length; f < n; ++f) {\n      if (!atomData[cRequiredAtomFields[f]]) {\n        throw new AtomDataError(`CIF parsing error: requires field ${cRequiredAtomFields[f]} not found!`);\n      }\n    }\n\n    const { asymDict } = this;\n    // required fields\n    const resIdc = arrize(atomData.auth_seq_id);\n    const x = arrize(atomData.Cartn_x);\n    const y = arrize(atomData.Cartn_y);\n    const z = arrize(atomData.Cartn_z);\n    const names = arrize(atomData.label_atom_id);\n    const count = names.length;\n    // optional fields\n    const group = arrize(atomData.group_PDB) || [];\n    const chainIdc = arrize(atomData.auth_asym_id) || [];\n    const chainLabelIdc = arrize(atomData.label_asym_id) || [];\n    const serials = arrize(atomData.id) || [];\n    const iCodes = arrize(atomData.pdbx_PDB_ins_code) || [];\n    const resNames = arrize(atomData.label_comp_id) || [];\n    const elements = arrize(atomData.type_symbol) || [];\n    const tempFactors = arrize(atomData.B_iso_or_equiv) || [];\n    const occupancies = arrize(atomData.occupancy) || [];\n    const charges = arrize(atomData.pdbx_formal_charge) || [];\n    const altLocs = arrize(atomData.label_alt_id) || [];\n    const models = arrize(atomData.pdbx_PDB_model_num) || [];\n    const molecules = arrize(atomData.label_entity_id) || [];\n\n    let chain = null;\n    let residue = null;\n    for (let i = 0; i < count; ++i) {\n      const model = models[i] || 1;\n      if (model !== 1) {\n        continue;\n      }\n      const chainID = String(chainIdc[i] || ' ');\n\n      if (!chain || chain.getName() !== chainID) {\n        chain = complex.getChain(chainID) || complex.addChain(chainID);\n      }\n      asymDict[String(chainLabelIdc[i] || ' ')] = chainID;\n      const resSeq = resIdc[i];\n      const iCode = String(iCodes[i] || ' ');\n      const resName = String(resNames[i] || '');\n      if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n        residue = chain.addResidue(resName, resSeq, iCode);\n\n        // store residue in appropriate molecule\n        const moleculeIdx = molecules[i] - 1;\n        let entity = this.molecules[moleculeIdx];\n        if (!entity) { // create new molecule if it hasn't been created\n          this.molecules[moleculeIdx] = { name: '', residues: [] };\n          entity = this.molecules[moleculeIdx];\n        }\n        entity.residues.push(residue);\n      }\n\n      const name = names[i];\n      const element = elements[i] || nameToElement(name);\n      const type = Element.getByName(element);\n      const role = Element.Role[name.trim()];\n      const xyz = new THREE.Vector3(x[i], y[i], z[i]);\n      const het = group[i] === 'HETATM' || false;\n      const serial = serials[i] || i;\n      const tempFactor = tempFactors[i] || 0.0;\n      const occupancy = occupancies[i] || 0.0;\n      const altLoc = String(altLocs[i] || '');\n      const charge = charges[i] || 0;\n\n      residue.addAtom(\n        name, type, xyz,\n        role, het, serial, altLoc, occupancy, tempFactor, charge,\n      );\n    }\n  }\n\n  /**\n   * Extracts secondary structure information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex - complex to fill\n   * @param complexData - CIF complex data\n   * @private\n   */\n  _extractSecondary(complex, complexData) {\n    if (complexData.struct_conf) {\n      this._extractConfs(complex, complexData.struct_conf);\n    }\n    if (complexData.struct_sheet_range) {\n      this._extractSheets(complex, complexData.struct_sheet_range);\n    }\n  }\n\n  /**\n   * Extracts sheets information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex\n   * @param sheetData\n   * @private\n   */\n  _extractSheets(complex, sheetData) {\n    const { asymDict } = this;\n    if (!sheetData.sheet_id || !sheetData.id || !sheetData.beg_label_seq_id || !sheetData.end_label_seq_id\n      || !sheetData.beg_label_asym_id) {\n      return;\n    }\n    // Strand(sheet, start, end, sense, cur, prev)\n    const sheets = complex._sheets;\n\n    function getSheet(name) {\n      const n = sheets.length;\n      for (let i = 0; i < n; ++i) {\n        if (sheets[i]._name === name) {\n          return sheets[i];\n        }\n      }\n      sheets[n] = new Sheet(name, 0);\n      return sheets[n];\n    }\n\n    const sheetNames = arrize(sheetData.sheet_id);\n    const strandNames = arrize(sheetData.id);\n    const starts = arrize(sheetData.beg_auth_seq_id);\n    const ends = arrize(sheetData.end_auth_seq_id);\n    const chains = arrize(sheetData.beg_label_asym_id);\n    const stICodes = arrize(sheetData.pdbx_beg_PDB_ins_code) || [];\n    const endICodes = arrize(sheetData.pdbx_end_PDB_ins_code) || [];\n\n    for (let i = 0, n = strandNames.length; i < n; ++i) {\n      const chain = complex.getChain(asymDict[chains[i]]);\n      const sheet = getSheet(sheetNames[i]);\n      const startIdx = starts[i];\n      const endIdx = ends[i];\n      const startICode = stICodes[i] || ' ';\n      const endICode = endICodes[i] || ' ';\n\n      const start = chain.findResidue(startIdx, startICode);\n      const end = chain.findResidue(endIdx, endICode);\n\n      // TODO think about last condition\n      if (!start || !end) {\n        continue;\n      }\n\n      const strand = new Strand(sheet, start[0], end[0], 0, null, null);\n      const residues = chain.getResidues();\n      for (let r = start[1]; r <= end[1]; ++r) {\n        residues[r]._secondary = strand;\n      }\n      sheet.addStrand(strand);\n      complex.structures.push(strand);\n    }\n  }\n\n  /**\n   * Extracts helix/turn/strand(?) information from CIF intermediate data\n   * and adds it into complex\n   * @param {Complex} complex\n   * @param helicesData\n   * @private\n   */\n  _extractConfs(complex, helicesData) {\n    const { asymDict } = this;\n    if (!helicesData.conf_type_id || !helicesData.beg_label_seq_id || !helicesData.end_label_seq_id\n      || !helicesData.beg_label_asym_id) {\n      return;\n    }\n\n    const types = arrize(helicesData.conf_type_id);\n    const starts = arrize(helicesData.beg_auth_seq_id);\n    const stICodes = arrize(helicesData.pdbx_beg_PDB_ins_code) || [];\n    const ends = arrize(helicesData.end_auth_seq_id);\n    const endICodes = arrize(helicesData.pdbx_end_PDB_ins_code) || [];\n    const comments = arrize(helicesData.details) || [];\n    const lengths = arrize(helicesData.pdbx_PDB_helix_length) || [];\n    const helixClasses = arrize(helicesData.pdbx_PDB_helix_class) || [];\n    const names = arrize(helicesData.id) || [];\n    const chains = arrize(helicesData.beg_label_asym_id);\n\n    for (let i = 0, n = types.length; i < n; ++i) {\n      const type = getTypeFromId(types[i]);\n      if (!type) {\n        continue;\n      }\n      const name = names[i] || types[i];\n      const chain = complex.getChain(asymDict[chains[i]]);\n\n      const startIdx = starts[i];\n      const endIdx = ends[i];\n      const startICode = stICodes[i] || ' ';\n      const endICode = endICodes[i] || ' ';\n\n      const start = chain.findResidue(startIdx, startICode);\n      const end = chain.findResidue(endIdx, endICode);\n\n      // TODO think about last condition\n      if (!start || !end) {\n        continue;\n      }\n      const comment = comments[i] || '';\n      const length = lengths[i] || 0;\n      const helixClass = helixClasses[i] || ' ';\n      let struct;\n      if (type === 'helix') {\n        const idx = complex._helices.length;\n        struct = new Helix(helixClass, start[0], end[0], idx, name, comment, length);\n        complex.addHelix(struct);\n        complex.structures.push(struct);\n      } else if (type === 'turn') {\n        struct = new StructuralElement(StructuralElement.Type.TURN, start[0], end[0]);\n        complex.structures.push(struct);\n      } else {\n        struct = null;\n      }\n      if (!struct) {\n        continue;\n      }\n      const residues = chain.getResidues();\n      for (let r = start[1]; r <= end[1]; ++r) {\n        residues[r]._secondary = struct;\n      }\n    }\n  }\n\n  /**\n   * Extract biological assemblies information from CIF structure and fill complex\n   * @param {Complex} complex\n   * @param complexData complex data from CIF file\n   * @private\n   */\n  _extractAssemblies(complex, complexData) {\n    const { asymDict } = this;\n    const asmGen = complexData.pdbx_struct_assembly_gen;\n    if (!asmGen) {\n      return;\n    }\n\n    const asmIdx = arrize(asmGen.assembly_id);\n    const asmOper = arrize(asmGen.oper_expression);\n    const asmList = arrize(asmGen.asym_id_list);\n    if (!asmIdx || !asmOper || !asmList) {\n      return;\n    }\n\n    const operList = _getOperations(complexData.pdbx_struct_oper_list);\n    if (!operList) {\n      return;\n    }\n\n    for (let i = 0, n = asmIdx.length; i < n; ++i) {\n      const asm = new Assembly(complex);\n      const assemblyOps = _extractOperations(asmOper[i], operList);\n      const entries = asmList[i].split(',');\n      for (let ii = 0, nn = entries.length; ii < nn; ++ii) {\n        const chain = entries[ii].trim();\n        if (chain.length > 0) {\n          asm.addChain(asymDict[chain]);\n        }\n      }\n      asm.matrices = assemblyOps;\n      complex.units.push(asm);\n    }\n  }\n}\n\nCIFParser.formats = ['cif', 'mmcif'];\nCIFParser.extensions = ['.cif', '.mmcif'];\n\nexport default CIFParser;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Volume from '../../chem/Volume';\n\nexport const valueType = {\n  singular: 0,\n  vector: 1,\n  array: 2,\n  buffer: 3,\n};\n\nclass VolumeModel {\n  _xyz2crs = [];\n\n  _origin = new THREE.Vector3(0, 0, 0);\n\n  constructor() {\n    this._header = {};\n    this._boxSize = new THREE.Vector3();\n    this._boxStart = new THREE.Vector3();\n    this._header.delta = {};\n    this._header.extent = [];\n    this._header.nstart = [];\n    this._header.grid = [];\n    this._header.crs2xyz = [];\n    this._header.cellDims = new THREE.Vector3();\n    this._header.angles = [];\n    this._header.origin = new THREE.Vector3(0, 0, 0);\n    this._header.dmin = 0;\n    this._header.dmean = 0;\n    this._header.dmax = 0;\n  }\n\n  _typedCheck() {\n    if (_.isTypedArray(this._buff)) {\n      this._buff = this._buff.buffer;\n    } else if (!_.isArrayBuffer(this._buff)) {\n      throw new TypeError('Expected ArrayBuffer or TypedArray');\n    }\n  }\n\n  _fillHeader(headerFormat, arrays) {\n    for (const key in headerFormat) {\n      if (headerFormat.hasOwnProperty(key)) {\n        switch (headerFormat[key][0]) {\n          case valueType.singular:\n            this._header[key] = arrays[headerFormat[key][1]][headerFormat[key][2]];\n            break;\n\n          case valueType.array:\n            this._parseArray(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n            break;\n\n          case valueType.vector:\n            this._parseVector(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n            break;\n\n          case valueType.buffer:\n            this._header[key] = new Uint8Array(\n              arrays[headerFormat[key][1]],\n              [headerFormat[key][2]] * 4,\n              [headerFormat[key][3]] * 4,\n            );\n            break;\n\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  _parseVector(vector, arr, pos) {\n    [vector.x, vector.y, vector.z] = [arr[pos], arr[pos + 1], arr[pos + 2]];\n  }\n\n  _parseArray(vector, arr, pos) {\n    vector[0] = arr[pos];\n    vector[1] = arr[pos + 1];\n    vector[2] = arr[pos + 2];\n  }\n\n  _parseHeader(_buffer) {}\n\n  _setAxisIndices() {}\n\n  _setOrigins() {}\n\n  _getAxis() {\n    const header = this._header;\n\n    const xScale = header.cellDims.x / header.grid[0];\n    const yScale = header.cellDims.y / header.grid[1];\n    const zScale = header.cellDims.z / header.grid[2];\n\n    const [alpha, beta, gamma] = header.angles;\n\n    const z1 = Math.cos(beta);\n    const z2 = (Math.cos(alpha) - Math.cos(beta)\n      * Math.cos(gamma)) / Math.sin(gamma);\n    const z3 = Math.sqrt(1.0 - z1 * z1 - z2 * z2);\n\n    const xaxis = new THREE.Vector3(xScale, 0, 0);\n    const yaxis = new THREE.Vector3(Math.cos(gamma) * yScale, Math.sin(gamma) * yScale, 0);\n    const zaxis = new THREE.Vector3(z1 * zScale, z2 * zScale, z3 * zScale);\n\n    return [xaxis, yaxis, zaxis];\n  }\n\n  _getXYZdim() {\n    return [this._header.extent[this._xyz2crs[0]],\n      this._header.extent[this._xyz2crs[1]],\n      this._header.extent[this._xyz2crs[2]]];\n  }\n\n  _getVolumeInfo() {\n    const volInfo = _.pick(this._header, ['dmean', 'dmin', 'dmax', 'sd', 'delta']);\n    volInfo.obtuseAngle = this._header.angles.map((angle) => Number(angle >= (Math.PI / 2)));\n    return volInfo;\n  }\n\n  _setBoxParams(xaxis, yaxis, zaxis) {\n    // if axes are not orthogonal, the origins might not match with box coordinates - need to make shift\n    let shiftX = 0;\n    let shiftY = 0;\n    const [alpha, beta, gamma] = this._header.angles;\n\n    if (gamma >= Math.PI / 2) {\n      shiftX += Math.abs(yaxis.x);\n    }\n    if (beta >= Math.PI / 2) {\n      shiftX += Math.abs(zaxis.x);\n    }\n    if (alpha >= Math.PI / 2) {\n      shiftY += Math.abs(zaxis.y);\n    }\n\n    this._boxStart = new THREE.Vector3(this._origin.x - shiftX, this._origin.y - shiftY, this._origin.z);\n    this._boxSize = new THREE.Vector3(\n      Math.abs(xaxis.x) + Math.abs(yaxis.x) + Math.abs(zaxis.x),\n      Math.abs(yaxis.y) + Math.abs(zaxis.y),\n      Math.abs(zaxis.z),\n    );\n\n    const delta = (axe, proj) => (Math.abs(axe[proj]) / this._boxSize[proj]);\n    this._header.delta.x = delta(yaxis, 'x');\n    this._header.delta.y = delta(zaxis, 'x');\n    this._header.delta.z = delta(zaxis, 'y');\n  }\n\n  _getXYZbox() {\n    return new THREE.Box3(this._boxStart.clone(), this._boxStart.clone().add(this._boxSize));\n  }\n\n  _toXYZData() {}\n\n  parse(data) {\n    this._parseHeader(data);\n    this._setOrigins();\n    return new Volume(Float32Array, this._getXYZdim(), this._getXYZbox(), 1, this._toXYZData(), this._getVolumeInfo());\n  }\n}\n\nexport default VolumeModel;\n","import Parser from './Parser';\nimport VolumeModel, { valueType } from './VolumeModel';\n\nconst CCP4Header = {\n  extent: [valueType.array, 'u32', 0],\n  type: [valueType.singular, 'u32', 3],\n  nstart: [valueType.array, 'i32', 4],\n  grid: [valueType.array, 'u32', 7],\n  cellDims: [valueType.vector, 'f32', 10],\n  angles: [valueType.array, 'f32', 13],\n  crs2xyz: [valueType.array, 'i32', 16],\n  dmin: [valueType.singular, 'f32', 19],\n  dmax: [valueType.singular, 'f32', 20],\n  dmean: [valueType.singular, 'f32', 21],\n  ispg: [valueType.singular, 'u32', 22],\n  nsymbt: [valueType.singular, 'u32', 23],\n  lksflg: [valueType.singular, 'u32', 24],\n  customData: [valueType.buffer, 'buffer', 25, 9],\n  origin: [valueType.vector, 'f32', 34],\n  map: [valueType.buffer, 'buffer', 52, 1],\n  machine: [valueType.singular, 'u32', 53],\n  sd: [valueType.singular, 'f32', 54],\n  nlabel: [valueType.singular, 'f32', 55],\n  label: [valueType.buffer, 'buffer', 56, 200],\n};\n\nclass Ccp4Model extends VolumeModel {\n  // read header (http://www.ccp4.ac.uk/html/maplib.html)\n  _parseHeader(_buffer) {\n    this._buff = _buffer;\n    this._typedCheck();\n    const arrays = {};\n    arrays.u32 = new Uint32Array(this._buff, 0, 56);\n    arrays.i32 = new Int32Array(this._buff, 0, 56);\n    arrays.f32 = new Float32Array(this._buff, 0, 56);\n    arrays.buffer = this._buff;\n    const header = this._header;\n\n    this._fillHeader(CCP4Header, arrays);\n\n    // calculate non-orthogonal unit cell coordinates\n    header.angles.forEach((angle, i, a) => { a[i] *= Math.PI / 180.0; });\n  }\n\n  _setAxisIndices() {\n    const header = this._header;\n\n    if (header.cellDims.x === 0.0 && header.cellDims.y === 0.0 && header.cellDims.z === 0.0) {\n      header.cellDims.set(1.0, 1.0, 1.0);\n    }\n    // Apply header conversion\n    // Mapping between CCP4 column, row, section and VMD x, y, z.\n    const { crs2xyz } = this._header;\n    if (crs2xyz[0] === 0 && crs2xyz[1] === 0 && crs2xyz[2] === 0) {\n      crs2xyz[0] = 1;\n      crs2xyz[1] = 2;\n      crs2xyz[2] = 3;\n    }\n\n    const xyz2crs = this._xyz2crs;\n    xyz2crs[crs2xyz[0] - 1] = 0; // column\n    xyz2crs[crs2xyz[1] - 1] = 1; // row\n    xyz2crs[crs2xyz[2] - 1] = 2; // section\n  }\n\n  _setOrigins() {\n    const [xaxis, yaxis, zaxis] = this._getAxis();\n    this._setAxisIndices();\n\n    const header = this._header;\n    const xyz2crs = this._xyz2crs;\n    // Handle both MRC-2000 and older format maps\n    if (header.origin.x === 0.0 && header.origin.y === 0.0 && header.origin.z === 0.0) {\n      this._origin.addScaledVector(xaxis, header.nstart[xyz2crs[0]]);\n      this._origin.addScaledVector(yaxis, header.nstart[xyz2crs[1]]);\n      this._origin.addScaledVector(zaxis, header.nstart[xyz2crs[2]]);\n    } else {\n      this._origin = header.origin;\n      // Use ORIGIN records rather than old n[xyz]start records\n      //   http://www2.mrc-lmb.cam.ac.uk/image2000.html\n      // XXX the ORIGIN field is only used by the EM community, and\n      // has undefined meaning for non-orthogonal maps and/or non-cubic voxels, etc.\n    }\n    xaxis.multiplyScalar(header.extent[xyz2crs[0]] - 1);\n    yaxis.multiplyScalar(header.extent[xyz2crs[1]] - 1);\n    zaxis.multiplyScalar(header.extent[xyz2crs[2]] - 1);\n\n    if (header.type === 2) {\n      this._data = new Float32Array(\n        this._buff,\n        1024 + header.nsymbt,\n        header.extent[0] * header.extent[1] * header.extent[2],\n      );\n    } else {\n      throw new Error(`CCP4: Unsupported format ${header.type}`);\n    }\n\n    this._setBoxParams(xaxis, yaxis, zaxis);\n  }\n\n  _toXYZData() {\n    const header = this._header;\n    const data = this._data;\n    const xyz2crs = this._xyz2crs;\n    const xyzData = new Float32Array(data.length);\n\n    const dim = this._getXYZdim();\n    const xSize = dim[0];\n    const ySize = dim[1];\n\n    let crsIdx = 0;\n    const coord = [];\n    let x;\n    let y;\n    let z;\n    for (coord[2] = 0; coord[2] < header.extent[2]; coord[2]++) { // Site\n      for (coord[1] = 0; coord[1] < header.extent[1]; coord[1]++) { // Row\n        for (coord[0] = 0; coord[0] < header.extent[0]; coord[0]++, crsIdx++) { // Column\n          x = coord[xyz2crs[0]];\n          y = coord[xyz2crs[1]];\n          z = coord[xyz2crs[2]];\n          xyzData[x + xSize * (y + ySize * z)] = data[crsIdx];\n        }\n      }\n    }\n\n    return xyzData;\n  }\n}\n\nclass CCP4Parser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'ccp4';\n    this.model = new Ccp4Model();\n  }\n\n  static canProbablyParse(_data) {\n    return false; // Autodetection is not implemented yet\n  }\n\n  parseSync() {\n    return this.model.parse(this._data);\n  }\n}\n\nCCP4Parser.formats = ['ccp4'];\nCCP4Parser.extensions = ['.ccp4', '.map', '.mrc'];\nCCP4Parser.binary = true;\n\nexport default CCP4Parser;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst { Complex, Element, Molecule } = chem;\n\nclass XYZParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n\n    this._complex = null;\n    this._atomsInf = null;\n\n    this._options.fileType = 'xyz';\n    this._fileName = options.name;\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && /^\\s*\\d+ *\\n[^\\n]*\\n\\s*\\w{1,3}\\s+-?\\d/.test(data);\n  }\n\n  _parseToAtomsInf(source) {\n    const endnAtoms = source.indexOf('\\n');\n    const nAtoms = parseInt(source.substring(0, endnAtoms), 10);\n    const endComment = source.indexOf('\\n', endnAtoms + 1);\n    let comment = source.slice(endnAtoms + 1, endComment).trim();\n    if (comment.length === 0) {\n      comment = this._fileName;\n    }\n\n    const startAtomsInf = endComment + source.substring(endComment).search(/\\S/);\n    this._atomsInf = source.substring(startAtomsInf).split(/[\\s,]*\\n[\\s,]*/);\n    if (!Number.isNaN(nAtoms) && (this._atomsInf.length - 1 !== nAtoms)) {\n      this._complex.error = {\n        message: 'wrong number of atoms',\n      };\n      return;\n    }\n\n    this._complex.metadata.format = 'xyz';\n    this._complex.name = comment;\n  }\n\n  _parseAtomsInf() {\n    const het = true;\n    const altLoc = ' ';\n    const occupancy = 1;\n    const tempFactor = 1;\n    const charge = 0;\n\n    const chain = this._complex.addChain('A');\n    const residue = chain.addResidue('UNK', 1, ' ');\n\n    for (let i = 0; i < this._atomsInf.length - 1; i++) {\n      const words = this._atomsInf[i].split(/[\\s,]+/);\n\n      if (words.length !== 4) {\n        this._complex.error = {\n          message: 'missed parameters',\n        };\n        break;\n      }\n\n      const serial = i + 1;\n      const name = words[0];\n      const xyz = new THREE.Vector3(parseFloat(words[1]), parseFloat(words[2]), parseFloat(words[3]));\n      const type = Element.getByName(name);\n      const role = undefined;\n\n      residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n    }\n\n    const molecule = new Molecule(this._complex, this._complex.name, 1);\n    molecule.residues = residue;\n    this._complex._molecules[0] = molecule;\n  }\n\n  parseSync() {\n    const result = this._complex = new Complex();\n\n    this._parseToAtomsInf(this._data);\n    this._parseAtomsInf();\n\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n\n    this._complex = null;\n    this._atomsInf = null;\n\n    if (result.error) {\n      throw new Error(result.error.message);\n    }\n    return result;\n  }\n\n  static formats = ['xyz'];\n\n  static extensions = ['.xyz'];\n}\n\nexport default XYZParser;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst { Complex, Element } = chem;\n\nclass PubChemParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'pubchem+json';\n  }\n\n  static canProbablyParse(data) {\n    return _.isString(data) && data[0] === '{';\n  }\n\n  parseSync() {\n    this.logger.info('Parsing PubChem JSON file...');\n    return this._toComplex(JSON.parse(this._data));\n  }\n\n  _toComplex(jsonData) {\n    const complex = new Complex();\n    const complexData = jsonData.PC_Compounds && jsonData.PC_Compounds[0];\n    if (complexData) {\n      this._extractAtoms(complex, complexData);\n      complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n      });\n    }\n    return complex;\n  }\n\n  _extractAtoms(complex, complexData) {\n    let aids = complexData.atoms && complexData.atoms.aid;\n    let elements = aids && complexData.atoms.element;\n    if (!elements || aids.length !== elements.length) {\n      throw new Error('Unable to parse atom elements');\n    }\n    elements = _.fromPairs(_.zip(aids, elements));\n    const atoms = {};\n\n    const coords = complexData.coords && complexData.coords[0];\n    const model = coords && coords.conformers && coords.conformers[0];\n    const xs = model && model.x;\n    const ys = model && model.y;\n    const zs = (model && model.z) || [];\n    aids = coords && coords.aid;\n    if (!aids || !xs || !ys) {\n      throw new Error('Coordinates are not found in the file');\n    }\n\n    const chain = complex.addChain(' ');\n    const residue = chain.addResidue('UNK', 1, ' ');\n\n    for (let i = 0, n = aids.length; i < n; ++i) {\n      const aid = aids[i];\n      const element = Element.ByAtomicNumber[elements[aid]];\n      const xyz = new THREE.Vector3(xs[i], ys[i], zs[i] || 0.0);\n      atoms[aid] = residue.addAtom(element.name, element, xyz, undefined, true, aid, ' ', 1.0, 0.0, 0);\n    }\n\n    const aids1 = complexData.bonds && complexData.bonds.aid1;\n    const aids2 = complexData.bonds && complexData.bonds.aid2;\n    const orders = (complexData.bonds && complexData.bonds.order) || [];\n    if (!aids1 || !aids2 || aids1.length !== aids2.length) {\n      return;\n    }\n\n    for (let j = 0, m = aids1.length; j < m; ++j) {\n      complex.addBond(atoms[aids1[j]], atoms[aids2[j]], orders[j] || 1, 0, true);\n    }\n  }\n}\n\nPubChemParser.formats = ['pubchem', 'pubchem+json', 'pc'];\nPubChemParser.extensions = ['.json'];\n\nexport default PubChemParser;\n","import _ from 'lodash';\n\nexport default class SDFStream {\n  constructor(data) {\n    this._strings = data.split(/\\r?\\n|\\r/);\n    this._currentStart = 0;\n    this._currentStringIndx = 0;\n  }\n\n  setStart(start) {\n    if (start >= this._strings.length) {\n      this._currentStart = this._strings.length - 1;\n      this._currentStringIndx = this._strings.length - 1;\n    } else {\n      this._currentStart = start;\n      this._currentStringIndx = start;\n    }\n  }\n\n  getNextString() {\n    return this._strings[++this._currentStringIndx];\n  }\n\n  getCurrentString() {\n    return this._strings[this._currentStringIndx];\n  }\n\n  getStringFromStart(numb) {\n    this._currentStringIndx = this._currentStart + numb;\n    return this._strings[this._currentStart + numb];\n  }\n\n  findNextDataItem() {\n    let curStr = this.getNextString();\n    let res = false;\n    while (!_.isUndefined(curStr) && curStr.trim() !== '$$$$') {\n      if (curStr.match(/>\\s+<(.*)>/)) {\n        res = true;\n        break;\n      }\n      curStr = this.getNextString();\n    }\n\n    return res;\n  }\n\n  findNextCompoundStart() {\n    let curStr = this.getCurrentString();\n    while (!_.isUndefined(curStr) && curStr.trim() !== '$$$$') {\n      curStr = this.getNextString();\n    }\n    this.setStart(++this._currentStringIndx);\n    return this.probablyHaveDataToParse();\n  }\n\n  probablyHaveDataToParse() {\n    return this._currentStringIndx < this._strings.length - 2;\n  }\n}\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport SDFStream from './SDFStream';\nimport Assembly from '../../chem/Assembly';\n\nconst {\n  Complex,\n  Element,\n  Bond,\n  Molecule,\n} = chem;\n\nconst chargeMap = [0, 3, 2, 1, 0, -1, -2, -3];\nconst orderMap = [0, 1, 2, 3, 1, 1, 1, 2];\nconst typeMap = [\n  Bond.BondType.UNKNOWN, // 0 - error\n  Bond.BondType.COVALENT, // 1 - single\n  Bond.BondType.COVALENT, // 2 - double\n  Bond.BondType.COVALENT, // 3 - triple\n  Bond.BondType.AROMATIC, // 4 - aromatic\n  Bond.BondType.UNKNOWN, // 5 - single or double\n  Bond.BondType.AROMATIC, // 6 - single or aromatic\n  Bond.BondType.AROMATIC, // 7 - double or aromatic\n  // 8 - any\n  // 9 - coordination\n  // 10 - hydrogen\n];\n\nconst sdfAndMolRegexp = /.*(M\\s\\sEND).*|.*(^$$$$).*|.*>\\s+<(.+)>.*/;\nconst sdfRegExp = /.*($$$$).*|.*>\\s+<(.+)>.*/;\n\nconst fileFormat = { SDF: 'sdf', MOL: 'mol' };\n\nconst possibleNameTags = ['PUBCHEM_IUPAC_TRADITIONAL_NAME', /PUBCHEM_(.+)_NAME/, /(.+)name/, /(.+)NAME/];\nconst possibleIDTags = ['PUBCHEM_COMPOUND_CID', 'id', 'ID', /.*CID/, /.*ID/, /.*id/];\nconst possibleTitleTags = ['msg', 'MSG', 'message', 'title', 'description', 'desc'];\nconst tagsNames = ['name', 'id', 'title'];\nconst tags = { name: possibleNameTags, id: possibleIDTags, title: possibleTitleTags };\n\nfunction buildChainID(index) {\n  if (!index) {\n    return 'A';\n  }\n\n  const codes = [];\n  while (index) {\n    codes.push(65 + (index % 26));\n    index = Math.trunc(index / 26);\n  }\n  if (codes.length > 1) {\n    codes.reverse();\n    codes[0] -= 1;\n  }\n\n  return String.fromCharCode(...codes);\n}\n\nexport default class SDFParser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._format = 'sdf';\n    this._complex = null;\n    this._chain = null;\n    this._residue = null;\n    this._molecules = null;\n    this._metadata = {};\n    this._metadata.molecules = [];\n    this._currentMolProps = {};\n    this._compoundIndx = -1;\n    this._assemblies = [];\n    this._atomsParsed = 0;\n    this._atomsIndexes = [];\n  }\n\n  canProbablyParse(data) {\n    return _.isString(data) && sdfAndMolRegexp.test(data);\n  }\n\n  _parseHeader(stream) {\n    const molecule = {};\n    molecule.name = stream.getStringFromStart(0);\n    const date = parseInt(stream.getStringFromStart(1).substr(10, 6).trim(), 10);\n    molecule.date = date.toString() || '';\n    molecule.title = stream.getStringFromStart(2);\n    this._metadata.molecules.push(molecule);\n  }\n\n  _parseAtoms(stream, atomsNum) {\n    let curStr;\n    let serial = this._atomsParsed;\n\n    // each molecule = chain\\residue\n    const chainID = buildChainID(this._compoundIndx);\n    const resName = 'UNK';\n    const resSeq = 1;\n\n    this._chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n    this._residue = this._chain.addResidue(resName, resSeq, ' ');\n\n    for (let i = 0; i < atomsNum; i++) {\n      curStr = stream.getNextString();\n      serial++;\n      const x = parseFloat(curStr.substr(0, 10));\n      const y = parseFloat(curStr.substr(10, 10));\n      const z = parseFloat(curStr.substr(20, 10));\n      const charge = chargeMap[parseInt(curStr.substr(36, 3), 10)];\n      const xyz = new THREE.Vector3(x, y, z);\n      let name = curStr.substr(31, 3).trim().toUpperCase();\n      const type = Element.getByName(name);\n      if (!this._atomsIndexes[name]) {\n        this._atomsIndexes[name] = 0;\n      }\n      this._atomsIndexes[name] += 1;\n      name += this._atomsIndexes[name]; // every atom need to have unique name.\n\n      this._residue.addAtom(name, type, xyz, undefined, true, serial, ' ', 1.0, 0.0, charge);\n    }\n  }\n\n  _parseBonds(stream, bondsNum) {\n    let curStr;\n\n    for (let i = 0; i < bondsNum; i++) {\n      curStr = stream.getNextString();\n      let atom1 = parseInt(curStr.substr(0, 3), 10) + this._atomsParsed;\n      let atom2 = parseInt(curStr.substr(3, 3), 10) + this._atomsParsed;\n      const bondType = parseInt(curStr.substr(6, 3), 10);\n\n      if (atom1 > atom2) {\n        [atom1, atom2] = [atom2, atom1];\n      }\n      this._complex.addBond(atom1, atom2,\n        orderMap[bondType] || 1,\n        typeMap[bondType] || Bond.BondType.UNKNOWN,\n        true);\n    }\n  }\n\n  _parseMOL(stream) {\n    this._compoundIndx++;\n\n    this._parseHeader(stream);\n    const countsLine = stream.getStringFromStart(3);\n    const atomsNum = parseInt(countsLine.substr(0, 3), 10);\n    const bondsNum = parseInt(countsLine.substr(3, 3), 10);\n    this._parseAtoms(stream, atomsNum);\n    this._parseBonds(stream, bondsNum);\n\n    this._atomsParsed += atomsNum;\n\n    this._metadata.molecules[this._compoundIndx]._residues = [];\n    this._metadata.molecules[this._compoundIndx]._residues.push(this._residue);\n  }\n\n  _parseDataItem(stream) {\n    const tag = stream.getCurrentString();\n\n    let data = [];\n    let curStr = stream.getNextString();\n\n    // read data\n    while (curStr.trim() !== '') {\n      data.push(curStr);\n      curStr = stream.getNextString();\n    }\n    if (data.length === 1) {\n      [data] = data;\n    }\n    this._currentMolProps[tag.replace(/[<>]/g, '').trim()] = data;\n  }\n\n  _parseCompound(stream) {\n    this._parseMOL(stream);\n\n    // parse data items block\n    if (this._format === fileFormat.SDF) {\n      this._currentMolProps = {};\n      while (stream.findNextDataItem()) {\n        this._parseDataItem(stream);\n      }\n      if (Object.keys(this._currentMolProps).length !== 0) {\n        const molecule = this._metadata.molecules[this._compoundIndx];\n        molecule.props = this._currentMolProps;\n        this._tryToUpdateMoleculeData(molecule);\n      }\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap;\n    const complex = this._complex;\n\n    const bonds = complex._bonds;\n    for (let j = 0; j < bonds.length; j++) {\n      const bond = bonds[j];\n      if (bond._right < bond._left) {\n        console.log('_fixBondsArray: Logic error.');\n      }\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _buildAssemblies() {\n    const chains = this._complex._chains;\n\n    if (chains.length === 1) {\n      return this._assemblies;\n    }\n\n    for (let i = 0; i < chains.length; i++) {\n      const assembly = new Assembly(this._complex);\n      const matrix = new THREE.Matrix4();\n      assembly.addMatrix(matrix);\n      assembly.addChain(chains[i]._name);\n      this._assemblies.push(assembly);\n    }\n\n    return this._assemblies;\n  }\n\n  _buildMolecules() {\n    this._complex._molecules = [];\n    const { molecules } = this._metadata;\n    for (let i = 0; i < molecules.length; i++) {\n      const molecule = new Molecule(this._complex, molecules[i].name, i + 1);\n      molecule.residues = molecules[i]._residues;\n      this._complex._molecules[i] = molecule;\n    }\n\n    return this._complex._molecules;\n  }\n\n  _searchTag(tag, props) {\n    for (let i = 0; i < props.length; i++) {\n      if ((tag instanceof RegExp && tag.test(props[i].tag)) || tag === props[i].tag) {\n        return props[i].data;\n      }\n    }\n    return undefined;\n  }\n\n  _tryToFind(tagsList, props) {\n    for (let j = 0; j < tagsList.length; j++) {\n      const res = this._searchTag(tagsList[j], props);\n      if (res) {\n        return res;\n      }\n    }\n    return undefined;\n  }\n\n  _tryToUpdateMoleculeData(molecule) {\n    let res = false;\n    for (let i = 0; i < tagsNames.length; i++) {\n      const tagPossibleNames = tags[tagsNames[i]];\n      const data = this._tryToFind(tagPossibleNames, molecule.props);\n      if (data) {\n        molecule[tagsNames[i]] = data;\n        res = true;\n      }\n    }\n\n    molecule.name = molecule.name || molecule.id;\n    if (molecule.name.match(/^\\d+$/)) {\n      molecule.name = `CID: ${molecule.name}`;\n    }\n\n    return res;\n  }\n\n  _finalizeMetadata() {\n    const { molecules } = this._metadata;\n    const { metadata } = this._complex;\n    const complex = this._complex;\n\n    if (molecules.length === 1) {\n      complex.name = molecules[0].name;\n      metadata.title = molecules[0].title;\n      metadata.date = molecules[0].date;\n      metadata.properties = molecules[0].props;\n    } else if (molecules.length > 1) {\n      metadata.molecules = [];\n      for (let i = 0; i < molecules.length; i++) {\n        metadata.molecules.push({\n          name: molecules[i].name, date: molecules[i].date, title: molecules[i].title, properties: molecules[i].props,\n        });\n      }\n    }\n  }\n\n  _finalize() {\n    const serialAtomMap = this._serialAtomMap = {};\n    const atoms = this._complex._atoms;\n\n    for (let i = 0; i < atoms.length; i++) {\n      const atom = atoms[i];\n      serialAtomMap[atom.serial] = atom;\n    }\n\n    this._complex._finalizeBonds();\n    this._fixBondsArray();\n    this._finalizeMetadata();\n    this._buildAssemblies();\n    this._complex.units = this._complex.units.concat(this._assemblies);\n    this._buildMolecules();\n    this._complex.finalize({\n      needAutoBonding: false, detectAromaticLoops: false, enableEditing: false, serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  defineFormat(data) {\n    let format;\n    if (sdfRegExp.test(data)) {\n      format = fileFormat.SDF;\n    } else {\n      format = fileFormat.MOL;\n    }\n\n    return format;\n  }\n\n  parseSync() {\n    const result = this._complex = new Complex();\n    const stream = new SDFStream(this._data);\n\n    this._format = this.defineFormat(this._data);\n    result.metadata.format = this._format;\n\n    do {\n      this._parseCompound(stream);\n    } while (stream.findNextCompoundStart());\n\n    this._finalize();\n\n    return result;\n  }\n}\n\nSDFParser.formats = ['mol', 'sdf'];\nSDFParser.extensions = ['.mol', '.sdf'];\n","import * as THREE from 'three';\nimport Parser from './Parser';\nimport VolumeModel, { valueType } from './VolumeModel';\n\n// http://www.uoxray.uoregon.edu/tnt/manual/node104.html\nconst DSN6Header = {\n  nstart: [valueType.array, 'i16', 0],\n  extent: [valueType.array, 'i16', 3],\n  grid: [valueType.array, 'i16', 6],\n  cellDims: [valueType.vector, 'i16', 9],\n  angles: [valueType.array, 'i16', 12],\n  div: [valueType.singular, 'i16', 15],\n  adder: [valueType.singular, 'i16', 16],\n  scaleFactor: [valueType.singular, 'i16', 17],\n};\n\nclass DSN6Model extends VolumeModel {\n  _parseHeader(_buffer) {\n    this._buff = _buffer;\n    this._typedCheck();\n\n    const arrays = {};\n    arrays.i16 = new Int16Array(this._buff);\n\n    // check and reverse if big endian\n    if (arrays.i16[18] !== 100) {\n      for (let i = 0, n = arrays.i16.length; i < n; ++i) {\n        const val = arrays.i16[i];\n        arrays.i16[i] = ((val & 0xff) << 8) | ((val >> 8) & 0xff);\n      }\n    }\n    if (arrays.i16[18] !== 100) {\n      throw new Error('DSN6: Incorrect format ');\n    }\n\n    const header = this._header;\n\n    this._fillHeader(DSN6Header, arrays);\n    header.cellDims.multiplyScalar(1.0 / header.scaleFactor);\n    header.angles.forEach((angle, i, a) => { a[i] *= (Math.PI / 180.0) / header.scaleFactor; });\n    header.div /= 100;\n  }\n\n  _setAxisIndices() {\n    this._xyz2crs[0] = 0;\n    this._xyz2crs[1] = 1;\n    this._xyz2crs[2] = 2;\n  }\n\n  _setOrigins() {\n    const header = this._header;\n    const [xaxis, yaxis, zaxis] = this._getAxis();\n    this._setAxisIndices();\n\n    this._origin.addScaledVector(xaxis, header.nstart[0]);\n    this._origin.addScaledVector(yaxis, header.nstart[1]);\n    this._origin.addScaledVector(zaxis, header.nstart[2]);\n\n    xaxis.multiplyScalar(header.extent[0]);\n    yaxis.multiplyScalar(header.extent[1]);\n    zaxis.multiplyScalar(header.extent[2]);\n\n    this._setBoxParams(xaxis, yaxis, zaxis);\n  }\n\n  _pointCalculate(xyzData, byteBuffer, z, y, x, pos, i) {\n    const header = this._header;\n\n    if (x < header.extent[0] && y < header.extent[1] && z < header.extent[2]) {\n      const idx = x + header.extent[0] * (y + header.extent[1] * z);\n      xyzData[idx] = (byteBuffer[pos.counter] - header.adder) / header.div;\n      ++pos.counter;\n    } else {\n      pos.counter += 8 - i;\n      return false;\n    }\n    return true;\n  }\n\n  _blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos) {\n    for (let k = 0; k < 8; ++k) {\n      const z = 8 * zBlock + k;\n      for (let j = 0; j < 8; ++j) {\n        const y = 8 * yBlock + j;\n        let inRange = true;\n        let i = 0;\n        while (inRange && i < 8) {\n          const x = 8 * xBlock + i;\n          inRange = this._pointCalculate(xyzData, byteBuffer, z, y, x, pos, i);\n          i++;\n        }\n      }\n    }\n  }\n\n  _toXYZData() {\n    const header = this._header;\n    const byteBuffer = new Uint8Array(this._buff);\n    const xyzData = new Float32Array(header.extent[0] * header.extent[1] * header.extent[2]);\n\n    const blocks = new THREE.Vector3(header.extent[0] / 8, header.extent[1] / 8, header.extent[2] / 8);\n\n    const pos = {};\n    pos.counter = 512;\n\n    for (let zBlock = 0; zBlock < blocks.z; ++zBlock) {\n      for (let yBlock = 0; yBlock < blocks.y; ++yBlock) {\n        for (let xBlock = 0; xBlock < blocks.x; ++xBlock) {\n          this._blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos);\n        }\n      }\n    }\n    this._calculateInfoParams(xyzData);\n    return xyzData;\n  }\n\n  _calculateInfoParams(xyzData) {\n    this._header.dmean /= xyzData.length;\n    let dispersion = 0;\n    let minDensity = xyzData[0];\n    let maxDensity = xyzData[0];\n    for (let j = 0; j < xyzData.length; j++) {\n      dispersion += (this._header.dmean - xyzData[j]) ** 2;\n\n      if (xyzData[j] < minDensity) {\n        minDensity = xyzData[j];\n      }\n      if (xyzData[j] > maxDensity) {\n        maxDensity = xyzData[j];\n      }\n    }\n    this._header.sd = Math.sqrt(dispersion / xyzData.length);\n    this._header.dmax = maxDensity;\n    this._header.dmin = minDensity;\n  }\n}\n\nclass DSN6Parser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n    this._options.fileType = 'dsn6';\n    this.model = new DSN6Model();\n  }\n\n  static canParse(data, options) {\n    if (!data) {\n      return false;\n    }\n    return data instanceof ArrayBuffer && Parser.checkDataTypeOptions(options, 'dsn6');\n  }\n\n  static canProbablyParse(_data) {\n    return false;\n  }\n\n  parseSync() {\n    return this.model.parse(this._data);\n  }\n}\n\nDSN6Parser.formats = ['dsn6'];\nDSN6Parser.extensions = ['.dsn6', '.omap'];\nDSN6Parser.binary = true;\n\nexport default DSN6Parser;\n","import PDBStream from './PDBStream';\n\n/**\n * Little helper class for GRO Parser usage.\n * @extends PDBStream\n */\nclass GROReader extends PDBStream {\n  constructor(data) {\n    super(data);\n    /** @type Number */\n    this._next = -1; // End position of line\n    this.next();\n  }\n\n  /**\n   * Getting end of string.\n   * @returns {Number} Pointer to end of string\n   */\n  getNext() {\n    return this._next;\n  }\n}\n\nexport default GROReader;\n","import * as THREE from 'three';\nimport _ from 'lodash';\nimport Parser from './Parser';\nimport chem from '../../chem';\nimport GROReader from './GROReader';\n\nconst {\n  Complex,\n  Element,\n  Molecule,\n} = chem;\n\n/**\n * Gromos87 file format parser.\n * @extends Parser\n */\nclass GROParser extends Parser {\n  /**\n   * Create parser for .gro file format\n   *\n   * @param {String} data Input file\n   * @param {String} options Input options (optional field)\n   */\n  constructor(data, options) {\n    super(data, options);\n    /** @type Date */\n    this._time = null; // Time in ps, optional field for animations\n    /** @type Number */\n    this._numAtoms = null; // Number of atoms in complex\n    /** @type Number */\n    this._residueNumber = null; // Number of exact residue\n    /** @type String */\n    this._residueName = ''; // Scientific name of exact residue\n    /** @type String */\n    this._atomName = ''; // Scientific name of exact atom\n    /** @type Number */\n    this._atomNumber = null; // Sorted number of exact atom\n    /** @type Array */\n    this._atomPosition = []; // Array which contains x, y, z position of exact atom\n    /** @type Array */\n    this._atomVelocity = []; // Array which contains x, y, z velocity of exact atom (optional)\n    /** @type Complex */\n    this._complex = null; // Complex structure for unified molecule representation\n    /** @type Vector3 */\n    this._molecules = []; // Molecules array\n    /** @type Molecule */\n    this._molecule = null; // Single molecule\n    /** @type String */\n    this._options.filetype = 'gro'; // Extension of data file.\n  }\n\n  /**\n   * General check for possibility of parsing.\n   * @param {String} data - Input file\n   * @returns {boolean} true if this file is in ascii, false otherwise\n   */\n  canProbablyParse(data) {\n    return _.isString(this._data) && /^\\s*[^\\n]*\\n\\s*\\d+ *\\n\\s*\\d+[^\\n\\d]{3}\\s*\\w+\\s*\\d+\\s*-?\\d/.test(data);\n  }\n\n  /**\n   * Parsing title of molecule complex.\n   * NOTE: that names are ESTIMATES, there is no strict rules in Gromos87 standard for first line in input file.\n   * @param {GROReader} line - Line containing title and time.\n   */\n  _parseTitle(line) {\n    const { metadata } = this._complex;\n    metadata.id = line.readLine().trim();\n    metadata.name = metadata.id.slice(metadata.id.lastIndexOf('\\\\') + 1, metadata.id.lastIndexOf('.'));\n    metadata.format = 'gro';\n  }\n\n  /**\n   * Parsing line containing number of atoms information.\n   * @param {GROReader} line - Line containing number of atoms.\n   */\n  _parseNumberOfAtoms(line) {\n    this._numAtoms = line.readInt(0, line.getNext());\n    if (Number.isNaN(this._numAtoms)) {\n      throw new Error('Line 2 is not representing atom number. Consider checking input file');\n    }\n  }\n\n  /**\n   * Parsing line containing information about residues, atoms etc. Also information about box vectors.\n   * Format of atoms MUST (by Gromos87 standard) be this: (note that numbering starts not from 0, but from 1!)\n   * ResidueNumber[1 - 5]  ResidueName[6 - 10] AtomName[11 - 15] AtomNumber[16 - 20] Position[21 - 45] Velocity[46 - 69]\n   * @param {GROReader} line - Line containing information about atom.\n   */\n  _parseAtom(line) {\n    this._residueNumber = line.readInt(1, 5);\n    this._residueName = line.readString(6, 10).trim();\n    this._atomName = line.readString(11, 15).trim();\n    this._atomNumber = line.readInt(16, 20);\n    const positionX = line.readFloat(21, 28) * 10;\n    const positionY = line.readFloat(29, 36) * 10;\n    const positionZ = line.readFloat(37, 45) * 10;\n    if (Number.isNaN(positionX) || Number.isNaN(positionY) || Number.isNaN(positionZ)) {\n      this._complex.error = {\n        message: `Atom position is invalid in \"${line.readLine()}\"`,\n      };\n      return;\n    }\n    /* const velocityX = line.readFloat(46, 53);\n    const velocityY = line.readFloat(54, 61);\n    const velocityZ = line.readFloat(62, 69); */\n    /* Adding residue and atom to complex structure */\n    const type = Element.getByName(this._atomName[0]); /* MAGIC 0. REASONS: This name is something like \"CA\", where\n     C - is an element an A is something else. But what about Calcium? */\n    if (type.fullName === 'Unknown') {\n      this._complex.error = {\n        message: `${this._atomName[0]} hasn't been recognised as an atom name.`,\n      };\n      return;\n    }\n    const role = Element.Role[this._atomName];\n    /* Firstly, create a dummy chain */\n    let chain = this._chain;\n    if (!chain) {\n      this._chain = chain = this._complex.addChain('A');\n    }\n    /* Secondly, add residue to that chain */\n    let residue = this._residue;\n    if (!residue || residue.getSequence() !== this._residueNumber) {\n      this._residue = residue = chain.addResidue(this._residueName, this._residueNumber, ' ');\n    }\n    /* Lastly, add atom to that residue */\n    this._atomPosition = new THREE.Vector3(positionX, positionY, positionZ);\n    /* Adding default constants to correct atom addition process */\n    const het = true;\n    const altLoc = ' ';\n    const occupancy = 1;\n    const tempFactor = 1;\n    const charge = 0;\n    residue.addAtom(this._atomName, type, this._atomPosition, role, het, this._atomNumber, altLoc, occupancy, tempFactor, charge);\n  }\n\n  /**\n   * Some finalizing procedures. In '.gro' file format there is only 1 chain and 1 molecule.\n   */\n  _finalize() {\n    const molecule = new Molecule(this._complex, this._complex.metadata.name, 1);\n    // aggregate residues from chain\n    molecule.residues = this._chain._residues;\n    molecule._chains = this._chain;\n    this._complex._molecules[0] = molecule;\n    this._molecules.push(molecule);\n    this._complex.finalize({\n      needAutoBonding: true,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  /**\n   * Main parsing procedure.\n   * @returns {Complex} Complex structure for visualizing.\n   */\n  parseSync() {\n    /* Create \"Complex\" variable */\n    const result = this._complex = new Complex();\n    /* Parse input file line-by-line */\n    const reader = new GROReader(this._data);\n    let counter = 0; /* Simple counter regarding to format of .gro file */\n    /* First two lines - technical information, other lines - Atoms */\n    this._parseTitle(reader);\n    reader.next();\n    this._parseNumberOfAtoms(reader);\n    reader.next();\n    for (counter = 0; counter < this._numAtoms; ++counter) {\n      if (!reader.end()) {\n        this._parseAtom(reader);\n        reader.next();\n      } else break;\n    }\n    /* If number of atoms in second line is less then actual atoms in file */\n    if (counter < this._numAtoms) {\n      this._complex.error = {\n        message: 'File ended unexpectedly.',\n      };\n    }\n    /* Catch errors occurred in parsing process */\n    if (result.error) {\n      throw new Error(result.error.message);\n    }\n\n    /* Finalizing data */\n    this._finalize();\n\n    /* Cleaning up */\n    this._atomPosition = null;\n    this._complex = null;\n    this._molecules = null;\n    this._molecule = null;\n\n    /* Return resulting Complex variable */\n    return result;\n  }\n}\n\nGROParser.formats = ['gro'];\nGROParser.extensions = ['.gro'];\n\nexport default GROParser;\n","import * as THREE from 'three';\nimport Parser from './Parser';\nimport chem from '../../chem';\n\nconst {\n  Complex,\n  Element,\n  Bond,\n  Molecule,\n} = chem;\n\nconst orderMap = {\n  un: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  ar: 1,\n  am: 1,\n  nc: 0,\n  du: 1,\n};\nconst typeMap = {\n  un: Bond.BondType.UNKNOWN, // unknown (cannot be determined from the parameter tables)\n  1: Bond.BondType.COVALENT, // single\n  2: Bond.BondType.COVALENT, // double\n  3: Bond.BondType.COVALENT, // triple\n  ar: Bond.BondType.AROMATIC, // aromatic\n  am: Bond.BondType.COVALENT, // amide\n  nc: Bond.BondType.UNKNOWN, // not connected\n  du: Bond.BondType.COVALENT, // dummy\n};\n\nconst resNumberRegex = /\\d+$/;\nconst spacesRegex = /\\s+/;\n\nfunction splitToFields(str) {\n  return str.trim().split(spacesRegex);\n}\n/* There is no jsdoc documentation because of eslint corrections:\n * not all Parser methods are implemented\n */\n\nclass MOL2Parser extends Parser {\n  constructor(data, options) {\n    super(data, options);\n\n    this._complex = null;\n    this._chain = null;\n    this._residue = null;\n    this._compoundIndx = -1;\n\n    this._molecules = [];\n    this._molecule = null;\n\n    this._currPosIdx = 0;\n    this._currStartIdx = 0;\n\n    this._serialAtomMap = {};\n\n    this._options.fileType = 'mol2';\n  }\n\n  _parseRawStrings(data) {\n    return data.split(/\\r?\\n|\\r/);\n  }\n\n  _toStringFromStart(numb, MOL2Data) {\n    const newPosIdx = this._currStartIdx + numb;\n    this._currPosIdx = (newPosIdx < MOL2Data.length) ? newPosIdx : this._currStartIdx;\n  }\n\n  _toHeaderString(header, MOL2Data) {\n    this._toStringFromStart(0, MOL2Data);\n    while (this._currPosIdx < MOL2Data.length) {\n      if (MOL2Data[this._currPosIdx].match(`@<TRIPOS>${header}`)) {\n        return;\n      }\n      this._currPosIdx++;\n    }\n    this._toStringFromStart(0, MOL2Data);\n  }\n\n  _toStringFromHeader(header, numb, MOL2Data) {\n    this._toHeaderString(header, MOL2Data);\n    const newPosIdx = this._currPosIdx + numb;\n\n    if (MOL2Data[this._currPosIdx].match(`@<TRIPOS>${header}`) && newPosIdx < MOL2Data.length) {\n      this._currPosIdx = newPosIdx;\n    }\n  }\n\n  _setStart(startPos, MOL2Data) {\n    if (startPos >= MOL2Data.length) {\n      this._currStartIdx = this._currPosIdx = MOL2Data.length - 1;\n    } else {\n      this._currStartIdx = this._currPosIdx = startPos;\n    }\n  }\n\n  _probablyHaveDataToParse(MOL2Data) {\n    return this._currPosIdx < MOL2Data.length - 2;\n  }\n\n  _findNextCompoundStart(MOL2Data) {\n    while (this._currPosIdx < MOL2Data.length && MOL2Data[this._currPosIdx].trim() !== '@<TRIPOS>MOLECULE>') {\n      this._currPosIdx++;\n    }\n    this._setStart(++this._currPosIdx, MOL2Data);\n    return this._probablyHaveDataToParse(MOL2Data);\n  }\n\n  _parseMolecule(MOL2Data) {\n    this._toHeaderString('MOLECULE', MOL2Data);\n\n    const { metadata } = this._complex;\n    metadata.name = MOL2Data[++this._currPosIdx];\n    metadata.format = 'mol2';\n\n    this._molecule = { _index: '', _chains: [] };\n    this._molecule._index = this._compoundIndx + 1;\n    this._molecules.push(this._molecule);\n  }\n\n  /* Atom format description:\n   * atomId atomName x y z element [resSeq [resName [charge [statusBit]]]]\n   * statusBits is the internal SYBYL status bits associated with the atom.\n   * These should never be set by the user.\n   * Source: http://chemyang.ccnu.edu.cn/ccb/server/AIMMS/mol2.pdf\n   */\n  _parseAtoms(atomsNum, MOL2Data) {\n    this._toHeaderString('ATOM', MOL2Data);\n\n    for (let i = 0; i < atomsNum; i++) {\n      const parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n\n      if (parsedStr.length < 6) {\n        throw new Error('MOL2 parsing error: Not enough information to create atom!');\n      }\n      const atomId = parseInt(parsedStr[0], 10);\n      const atomName = parsedStr[1];\n\n      const x = parseFloat(parsedStr[2]);\n      const y = parseFloat(parsedStr[3]);\n      const z = parseFloat(parsedStr[4]);\n\n      const element = parsedStr[5].split('.')[0].toUpperCase();\n\n      let charge = 0;\n      if (parsedStr.length >= 9) {\n        charge = parseFloat(parsedStr[8]) || 0.0;\n      }\n\n      let chain = this._chain;\n      if (!chain) {\n        // .mol2 may contain information about multiple molecules, but they can't be visualized\n        // at the same time now. There is no need to create different chain IDs then.\n        this._chain = chain = this._complex.getChain('A') || this._complex.addChain('A');\n        this._residue = null;\n      }\n      if (!this._setResidue(parsedStr)) {\n        continue;\n      }\n\n      // These fields are not listed in mol2 format. Set them default.\n      // Atoms and het atoms doesn't differ in .mol2,\n      // but het atoms have special residues. It can be used in next updates\n      const het = false;\n      const altLoc = ' ';\n      const occupancy = 1.0;\n      const tempFactor = 0.0;\n      const type = Element.getByName(element);\n      const role = Element.Role[atomName];\n\n      const xyz = new THREE.Vector3(x, y, z);\n      this._residue.addAtom(atomName, type, xyz, role, het, atomId, altLoc, occupancy, tempFactor, charge);\n    }\n  }\n\n  _setResidue(parsedStr) {\n    let resSeq = 1;\n    let resName = 'UNK'; // The same meaning has '<0>' in some mol2 files\n\n    if (parsedStr.length >= 7) {\n      resSeq = parseInt(parsedStr[6], 10);\n    }\n    if (parsedStr.length >= 8 && parsedStr[7] !== '<0>') {\n      resName = parsedStr[7].replace(resNumberRegex, '');\n    }\n    if (this.settings.now.nowater) {\n      if (resName === 'HOH' || resName === 'WAT') {\n        return false;\n      }\n    }\n    const residue = this._residue;\n    const chain = this._chain;\n    if (!residue || residue.getSequence() !== resSeq) {\n      this._residue = chain.addResidue(resName, resSeq, 'A');\n    }\n    return true;\n  }\n\n  /* Bond format description\n   * bondId originAtomId targetAtomId bondType [statusBits]\n   */\n  _parseBonds(bondsNum, MOL2Data) {\n    this._toHeaderString('BOND', MOL2Data);\n\n    for (let i = 0; i < bondsNum; i++) {\n      const parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n\n      if (parsedStr.length < 3) {\n        throw new Error('MOL2 parsing error: Missing information about bonds!');\n      }\n\n      let originAtomId = parseInt(parsedStr[1], 10);\n      let targetAtomId = parseInt(parsedStr[2], 10);\n      const bondType = parsedStr[3];\n\n      if (originAtomId > targetAtomId) {\n        [originAtomId, targetAtomId] = [targetAtomId, originAtomId];\n      }\n      this._complex.addBond(originAtomId, targetAtomId,\n        orderMap[bondType] || 0,\n        typeMap[bondType] || Bond.BondType.UNKNOWN,\n        true);\n    }\n  }\n\n  _fixSerialAtoms() {\n    const atoms = this._complex._atoms;\n    for (let i = 0; i < atoms.length; i++) {\n      const atom = atoms[i];\n      this._serialAtomMap[atom.serial] = atom;\n    }\n  }\n\n  _fixBondsArray() {\n    const serialAtomMap = this._serialAtomMap;\n    const complex = this._complex;\n\n    if (Object.keys(serialAtomMap).length === 0) {\n      throw new Error('MOL2 parsing error: Missing atom information!');\n    }\n\n    const bonds = complex._bonds;\n    for (let j = 0; j < bonds.length; j++) {\n      const bond = bonds[j];\n      bond._left = serialAtomMap[bond._left] || null;\n      bond._right = serialAtomMap[bond._right] || null;\n    }\n  }\n\n  _finalizeMolecules() {\n    // Get chain from complex\n    const chain = this._complex._chains[0];\n    this._complex._molecules = [];\n\n    // Aggregate residues from chains\n    // (to be precise from the chain 'A')\n    for (let i = 0; i < this._molecules.length; i++) {\n      const currMolecule = this._molecules[i];\n      const molResidues = chain._residues;\n      const molecule = new Molecule(this._complex, currMolecule._name, i + 1);\n      molecule.residues = molResidues;\n      this._complex._molecules[i] = molecule;\n    }\n  }\n\n  _finalize() {\n    this._complex._finalizeBonds();\n    this._fixSerialAtoms();\n    this._fixBondsArray();\n    this._finalizeMolecules();\n\n    this._complex.finalize({\n      needAutoBonding: false,\n      detectAromaticLoops: this.settings.now.aromatic,\n      enableEditing: this.settings.now.editing,\n      serialAtomMap: this._serialAtomMap,\n    });\n  }\n\n  _parseCompound(MOL2Data) {\n    this._compoundIndx++;\n    this._parseMolecule(MOL2Data);\n\n    // Ignoring comments and everything before @<TRIPOS>MOLECULE block\n    this._toStringFromHeader('MOLECULE', 2, MOL2Data);\n\n    const parsedStr = MOL2Data[this._currPosIdx].trim().split(spacesRegex);\n    const atomsNum = parsedStr[0];\n    const bondsNum = parsedStr[1];\n\n    this._parseAtoms(atomsNum, MOL2Data);\n    this._parseBonds(bondsNum, MOL2Data);\n  }\n\n  parseSync() {\n    const result = this._complex = new Complex();\n    const MOL2Data = this._parseRawStrings(this._data);\n    do {\n      this._parseCompound(MOL2Data);\n    } while (this._findNextCompoundStart(MOL2Data));\n\n    this._finalize();\n\n    return result;\n  }\n}\n\nMOL2Parser.formats = ['mol2'];\nMOL2Parser.extensions = ['.mol2', '.ml2', '.sy2'];\n\nexport default MOL2Parser;\n","import ParserList from './parsers/ParserList';\n\nimport PDBParser from './parsers/PDBParser';\nimport CMLParser from './parsers/CMLParser';\nimport MMTFParser from './parsers/MMTFParser';\nimport CIFParser from './parsers/CIFParser';\nimport CCP4Parser from './parsers/CCP4Parser';\nimport XYZParser from './parsers/XYZParser';\nimport PubChemParser from './parsers/PubChemParser';\nimport SDFParser from './parsers/SDFParser';\nimport DSN6Parser from './parsers/DSN6Parser';\nimport GROParser from './parsers/GROParser';\nimport MOL2Parser from './parsers/MOL2Parser';\n\nexport default new ParserList([\n  // note: order might be important\n  PDBParser,\n  CIFParser,\n  MMTFParser,\n  XYZParser,\n  CMLParser,\n  PubChemParser,\n  SDFParser,\n  CCP4Parser,\n  DSN6Parser,\n  GROParser,\n  MOL2Parser,\n]);\n","import EntityList from '../../utils/EntityList';\n\n/**\n * A list of available exporters.\n * @extends EntityList\n */\nclass ExporterList extends EntityList {\n  /**\n   * Create a list of exporters.\n   * The exporters are indexed by supported data formats (`.formats` and\n   * `.extensions` properties of a Exporter subclass).\n   * The Exporters can be retrieved later by matching against specs (see {@link ExporterList#find}).\n   *\n   * @param {!Array<function(new:Exporter)>=} someExporters A list of {@link Exporter} subclasses to\n   *   automatically register at creation time.\n   * @see ExporterList#register\n   */\n  constructor(someExporters = []) {\n    super(someExporters, ['formats']);\n  }\n\n  /**\n   * Find a suitable exporter for data.\n   *\n   * @param {Object} specs Exporter specifications.\n   * @param {string=} specs.format Supported data format.\n   * @param {*=} specs.data Data to export.\n   */\n  find(specs) {\n    let list = [];\n    if (specs.format) {\n      list = this._dict.formats[specs.format.toLowerCase()] || [];\n    }\n    return [...list];\n  }\n}\n\nexport default ExporterList;\n","import makeContextDependent from '../../utils/makeContextDependent';\n\nexport default class Exporter {\n  constructor(source, options) {\n    this._source = source;\n    this._options = options || {};\n    this._abort = false;\n  }\n\n  exportSync() {\n    throw new Error('Exporting to this source is not implemented');\n  }\n\n  export() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        try {\n          if (this._abort) {\n            return reject(new Error('Export aborted'));\n          }\n          return resolve(this.exportSync());\n        } catch (error) {\n          return reject(error);\n        }\n      });\n    });\n  }\n\n  abort() {\n    this._abort = true;\n  }\n}\n\nmakeContextDependent(Exporter.prototype);\n","import _ from 'lodash';\nimport { Matrix4 } from 'three';\n\nexport default class PDBResult {\n  constructor() {\n    this._resultArray = [];\n    this._currentStr = -1;\n    this._tag = null;\n    this._fixedNumeration = false;\n    this._numeration = false;\n    this._tagStrNum = 0;\n  }\n\n  getResult() {\n    this.writeString('\\n', 81, 81);\n    return this._resultArray.join('');\n  }\n\n  _currentStrLength() {\n    const curStr = this._resultArray[this._currentStr];\n    return curStr ? curStr.length : 0;\n  }\n\n  // numeration can be number or boolean\n  // if numeration is number then just put this number to 8-10 pos in string\n  // if numeration is boolean then increase number for all new strings\n  newTag(tag, numeration) {\n    if (!tag) {\n      this._tag = null;\n    } else {\n      this._tag = tag;\n    }\n    if (!_.isUndefined(numeration)) {\n      if (_.isNumber(numeration)) {\n        this._tagStrNum = numeration;\n        this._numeration = true;\n        this._fixedNumeration = true;\n      } else if (_.isBoolean(numeration)) {\n        this._tagStrNum = 0;\n        this._numeration = numeration;\n        this._fixedNumeration = false;\n      }\n    } else {\n      this._numeration = false;\n      this._fixedNumeration = false;\n      this._tagStrNum = 0;\n    }\n  }\n\n  newString(tag) {\n    this.writeString('\\n', 81, 81);\n    this._currentStr++;\n    this._resultArray.push('');\n\n    if (tag) {\n      this.writeString(tag, 1, 6);\n    } else if (this._tag) {\n      this.writeString(this._tag, 1, 6);\n    }\n\n    if (this._numeration) {\n      if (!this._fixedNumeration) {\n        this._tagStrNum++;\n      }\n      if (this._tagStrNum !== 1) {\n        this.writeString(this._tagStrNum.toString(), 10, 8);\n      }\n    }\n  }\n\n  writeEntireString(string, maxStrPos, concat) {\n    if (!maxStrPos) {\n      maxStrPos = 81;\n    }\n    for (let j = 0; j < string.length; j++) {\n      if (this._currentStrLength() === maxStrPos && j !== string.length - 1) {\n        this.newString();\n        if (concat) { // pretty hardcoddy\n          this.writeString(concat.tag, concat.begin, concat.end);\n        }\n      }\n      if (string[j] === '\\n') {\n        this.newString();\n      } else {\n        this.writeString(string[j]);\n      }\n    }\n  }\n\n  writeString(string, begin, end) {\n    let curStr = this._resultArray[this._currentStr];\n    let str;\n\n    const curStrLength = curStr ? curStr.length : 0;\n\n    if (_.isUndefined(string)) {\n      return;\n    }\n\n    if (!_.isNumber(begin)) {\n      begin = curStrLength + 1;\n    }\n\n    if (!_.isNumber(end)) {\n      end = curStrLength + string.length;\n    }\n\n    if (!_.isString(string)) {\n      str = string.toString();\n    } else {\n      str = string;\n    }\n\n    const finish = begin < end ? end : begin;\n    const start = begin < end ? begin : end;\n\n    if (str.length > Math.abs(begin - end) + 1) {\n      str = str.substr(0, Math.abs(begin - end + 1));\n    }\n\n    // spaces before start of new data\n    if (start > curStrLength + 1) {\n      this._resultArray[this._currentStr] += ' '.repeat(start - curStrLength - 1);\n    } else if (start <= curStrLength) {\n      const cStr = this._resultArray[this._currentStr];\n      this._resultArray[this._currentStr] = cStr.slice(0, start - 1);\n    }\n\n    // if reverse order\n    // reverse order of end and begin means that user wants to align text right\n    if (end < begin) {\n      const len = begin - end + 1;\n      str = ' '.repeat(len - str.length) + str;\n    }\n\n    // some hardcode fix for space between string numeration and data\n    // (see pdb file format description)\n    if (start === 11 && this._numeration && this._tagStrNum !== 1) {\n      str = ` ${str}`;\n    }\n\n    // append new data to string\n    this._resultArray[this._currentStr] += str;\n    curStr = this._resultArray[this._currentStr];\n\n    if (finish > curStr.length) {\n      this._resultArray[this._currentStr] += ' '.repeat(finish - curStr.length);\n    }\n  }\n\n  writeBondsArray(bonds, atom) {\n    const bondsArrays = this._getSubArrays(bonds, 4);\n\n    for (let k = 0; k < bondsArrays.length; k++) {\n      this.newString();\n      this.writeString(atom.serial, 11, 7);\n\n      for (let j = 0; j < bondsArrays[k].length; j++) {\n        const serial = (bondsArrays[k][j]._left.serial === atom.serial)\n          ? bondsArrays[k][j]._right.serial : bondsArrays[k][j]._left.serial;\n\n        this.writeString(serial, 16 + 5 * j, 12 + 5 * j);\n      }\n    }\n  }\n\n  _getSubArrays(arr, subArraySize) {\n    const subArrays = [];\n    for (let i = 0; i < arr.length; i += subArraySize) {\n      subArrays.push(arr.slice(i, i + subArraySize));\n    }\n    return subArrays;\n  }\n\n  // function for writing matrix in Remark290 and Remark350 tags\n  // (see pdb file description)\n  writeMatrix(matrix, matrixIndx, tag) {\n    for (let j = 0; j < 3; j++) {\n      this.newString();\n      this.writeString(tag, 14, 18);\n      this.writeString((j + 1).toString(), 19, 19);\n      this.writeString(matrixIndx.toString(), 23, 20);\n      for (let k = 0; k < 3; k++) {\n        const numb = parseFloat(matrix.elements[j * 4 + k]).toFixed(6);\n        this.writeString(numb.toString(), 33 + k * 10, 24 + k * 10);\n      }\n\n      const numb = parseFloat(matrix.elements[j * 4 + 3]).toFixed(5);\n      this.writeString(numb.toString(), 68, 55);\n    }\n  }\n\n  writeMatrices(matrices, string) {\n    if (!matrices) {\n      return;\n    }\n    const matrix = new Matrix4();\n    for (let j = 0; j < matrices.length; j++) {\n      matrix.copy(matrices[j]).transpose();\n      this.writeMatrix(matrix, j + 1, string);\n    }\n  }\n}\n","import _ from 'lodash';\nimport Complex from '../../chem/Complex';\nimport Exporter from './Exporter';\nimport PDBResult from './PDBResult';\nimport Assembly from '../../chem/Assembly';\nimport { typeByPDBHelixClass } from '../../chem/Helix';\n\nexport default class PDBExporter extends Exporter {\n  constructor(source, options) {\n    super(source, options);\n    this._tags = ['HEADER', 'TITLE', 'COMPND', 'REMARK', 'HELIX', 'SHEET', 'ATOM and HETATM', 'CONECT'];\n    this._result = null;\n    this._tagExtractors = {\n      HEADER: this._extractHEADER,\n      TITLE: this._extractTITLE,\n      'ATOM and HETATM': this._extractATOM,\n      CONECT: this._extractCONECT,\n      COMPND: this._extractCOMPND,\n      REMARK: this._extractREMARK,\n      HELIX: this._extractHELIX,\n      SHEET: this._extractSHEET,\n    };\n    this._stringForRemark350 = 'COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN\\n'\n                             + 'BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE\\n'\n                             + 'MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS\\n'\n                             + 'GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND\\n'\n                             + 'CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.';\n\n    this._stringForRemark290 = 'CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS\\n'\n                             + 'THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM\\n'\n                             + 'RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY\\n'\n                             + 'RELATED MOLECULES.';\n  }\n\n  exportSync() {\n    const result = new PDBResult();\n    if (!this._source) {\n      return this._result;\n    }\n\n    for (let i = 0; i < this._tags.length; i++) {\n      const tag = this._tags[i];\n      const func = this._tagExtractors[tag];\n      if (_.isFunction(func)) {\n        func.call(this, result);\n      }\n    }\n\n    this._result = result.getResult();\n\n    return this._result;\n  }\n\n  _extractHEADER(result) {\n    if (!this._source.metadata) {\n      return;\n    }\n    const { metadata } = this._source;\n    result.newTag('HEADER');\n    result.newString();\n    if (metadata.classification) {\n      result.writeString(metadata.classification, 11, 50);\n    }\n    if (metadata.date) {\n      result.writeString(metadata.date, 51, 59);\n    }\n    if (metadata.id) {\n      result.writeString(metadata.id, 63, 66);\n    }\n  }\n\n  _extractTITLE(result) {\n    if (!this._source.metadata) {\n      return;\n    }\n    const { metadata } = this._source;\n    if (!metadata.title) {\n      return;\n    }\n    result.newTag('TITLE', true);\n    for (let i = 0; i < metadata.title.length; i++) {\n      result.newString();\n      result.writeString(metadata.title[i], 11, 80);\n    }\n  }\n\n  _extractCONECT(result) {\n    if (!this._source._atoms) {\n      return;\n    }\n\n    const atoms = this._source._atoms;\n    result.newTag('CONECT');\n\n    for (let i = 0; i < atoms.length; i++) {\n      const fixedBonds = atoms[i].bonds.filter((bond) => bond._fixed);\n      if (fixedBonds.length !== 0) {\n        result.writeBondsArray(fixedBonds.reverse(), atoms[i]);\n      }\n    }\n  }\n\n  _extractSHEET(result) {\n    if (!this._source._sheets) {\n      return;\n    }\n\n    result.newTag('SHEET');\n\n    const sheets = this._source._sheets;\n    for (let i = 0; i < sheets.length; i++) {\n      if (sheets[i]._strands) {\n        const strands = sheets[i]._strands;\n        for (let j = 0; j < strands.length; j++) {\n          result.newString();\n          result.writeString(j + 1, 10, 8);\n          result.writeString(sheets[i]._name, 14, 12);\n          result.writeString(strands.length, 16, 15);\n          result.writeString(strands[j].init._type._name, 18, 20);\n          result.writeString(strands[j].init._chain._name, 22, 22);\n          result.writeString(strands[j].init._sequence, 26, 23);\n          result.writeString(strands[j].init._icode, 27, 27);\n          result.writeString(strands[j].term._type._name, 29, 31);\n          result.writeString(strands[j].init._chain._name, 33, 33);\n          result.writeString(strands[j].term._sequence, 37, 34);\n          result.writeString(strands[j].term._icode, 38, 38);\n          result.writeString(strands[j].sense, 40, 39);\n        }\n      }\n    }\n  }\n\n  _extractHELIX(result) {\n    if (!this._source._helices) {\n      return;\n    }\n\n    result.newTag('HELIX');\n    const helices = this._source._helices;\n    for (let i = 0; i < helices.length; i++) {\n      const helix = helices[i];\n      const helixClass = _.invert(typeByPDBHelixClass);\n      result.newString();\n      result.writeString(helix.serial, 10, 8);\n      result.writeString(helix.name, 14, 12);\n      result.writeString(helix.init._type._name, 16, 18);\n      result.writeString(helix.init._chain._name, 20, 20);\n      result.writeString(helix.init._sequence, 25, 22);\n      result.writeString(helix.init._icode, 26, 26);\n      result.writeString(helix.term._type._name, 28, 30);\n      result.writeString(helix.term._chain._name, 32, 32);\n      result.writeString(helix.term._sequence, 37, 34);\n      result.writeString(helix.term._icode, 38, 38);\n      result.writeString(helixClass[helix.type], 40, 39);\n      result.writeString(helix.comment, 41, 70);\n      result.writeString(helix.length, 76, 72);\n    }\n  }\n\n  _extractATOM(result) {\n    if (!this._source._atoms) {\n      return;\n    }\n    const atoms = this._source._atoms;\n\n    for (let i = 0; i < atoms.length; i++) {\n      const tag = atoms[i].het ? 'HETATM' : 'ATOM';\n      result.newString(tag);\n      const startIndx = (atoms[i].element.name.length > 1 || atoms[i].name.length > 3) ? 13 : 14;\n      result.writeString(atoms[i].serial, 11, 7);\n      result.writeString(atoms[i].name, startIndx, 16);\n      result.writeString(String.fromCharCode(atoms[i].location), 17, 17);\n      result.writeString(atoms[i].residue._type._name, 20, 18);\n      result.writeString(atoms[i].residue._chain._name, 22, 22);\n      result.writeString(atoms[i].residue._sequence, 26, 23);\n      result.writeString(atoms[i].residue._icode, 27, 27);\n      result.writeString(atoms[i].position.x.toFixed(3), 38, 31);\n      result.writeString(atoms[i].position.y.toFixed(3), 46, 39);\n      result.writeString(atoms[i].position.z.toFixed(3), 54, 47);\n      result.writeString(atoms[i].occupancy.toFixed(2), 60, 55);\n      result.writeString(atoms[i].temperature.toFixed(2), 66, 61);\n      result.writeString(atoms[i].element.name, 78, 77);\n      if (atoms[i].charge) {\n        result.writeString(atoms[i].charge, 79, 80);\n      }\n    }\n  }\n\n  _extractCOMPND(result) {\n    if (!this._source._molecules) {\n      return;\n    }\n    const molecules = this._source._molecules;\n    result.newTag('COMPND', true);\n\n    for (let i = 0; i < molecules.length; i++) {\n      const chains = this._getMoleculeChains(molecules[i]);\n      result.newString();\n      result.writeString(`MOL_ID: ${molecules[i].index};`, 11, 80);\n      result.newString();\n      result.writeString(`MOLECULE: ${molecules[i].name};`, 11, 80);\n      result.newString();\n      result.writeString('CHAIN: ', 11, 18);\n      const chainsString = `${chains.join(', ')};`;\n      result.writeEntireString(chainsString, 81);\n    }\n  }\n\n  _extractREMARK(result) {\n    this._Remark290(result);\n    this._Remark350(result);\n  }\n\n  _Remark290(result) {\n    if (!this._source.symmetry) {\n      return;\n    }\n\n    if (this._source.symmetry.length !== 0) {\n      const matrices = this._source.symmetry;\n      result.newTag('REMARK', 290);\n      result.newString();\n      result.newString();\n      result.writeEntireString(this._stringForRemark290);\n      result.writeMatrices(matrices, 'SMTRY');\n      result.newString();\n      result.newString();\n      result.writeString('REMARK: NULL', 11, 80);\n    }\n  }\n\n  _Remark350(result) {\n    if (!this._source.units) {\n      return;\n    }\n    const { units } = this._source;\n    let biomolIndx = 0;\n\n    result.newTag('REMARK', 350);\n    result.newString();\n    result.newString();\n    result.writeEntireString(this._stringForRemark350);\n\n    const assemblies = units.filter((unit) => unit instanceof Assembly);\n\n    for (let i = 0; i < assemblies.length; i++) {\n      result.newString();\n      result.newString();\n      biomolIndx++;\n      result.writeString(`BIOMOLECULE: ${biomolIndx}`, 11, 80);\n      const chains = assemblies[i].chains.join(', ');\n      result.newString();\n      result.writeString('APPLY THE FOLLOWING TO CHAINS: ');\n      result.writeEntireString(chains, 69, { tag: 'AND CHAINS: ', begin: 31, end: 42 });\n\n      const { matrices } = assemblies[i];\n      result.writeMatrices(matrices, 'BIOMT');\n    }\n  }\n\n  _getMoleculeChains(molecule) {\n    function getChainName(residue) {\n      return residue._chain._name;\n    }\n    const chainNames = molecule.residues.map(getChainName);\n    return chainNames.filter((item, pos) => chainNames.indexOf(item) === pos);\n  }\n}\n\nPDBExporter.formats = ['pdb'];\nPDBExporter.SourceClass = Complex;\n","import * as THREE from 'three';\n\nconst FBX_POS_SIZE = 3;\nconst FBX_NORM_SIZE = 3;\nconst FBX_COL_SIZE = 4;\n\nfunction copyFbxPoint3(src, srcIdx, dst, dstIdx) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n}\n\nfunction copyFbxPoint4(src, srcIdx, dst, dstIdx, value) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n  dst[dstIdx + 3] = value;\n}\n\nconst vector4 = new THREE.Vector4();\nfunction copyTransformedPoint3(src, srcIdx, dst, dstIdx, opts) {\n  vector4.set(src[srcIdx], src[srcIdx + 1], src[srcIdx + 2], opts.w);\n  vector4.applyMatrix4(opts.matrix);\n  dst[dstIdx] = vector4.x;\n  dst[dstIdx + 1] = vector4.y;\n  dst[dstIdx + 2] = vector4.z;\n}\n\nfunction setSubArray(src, dst, count, copyFunctor, functorOpts) {\n  if ((dst.array.length - dst.start) / dst.stride < count\n    || (src.array.length - src.start) / src.stride < count) {\n    return; // we've got no space\n  }\n  if (src.stride === dst.stride) { // stride is the same\n    dst.array.set(src.array, dst.start);\n  } else {\n    let idx = dst.start;\n    let arridx = src.start;\n    for (let i = 0; i < count; ++i, idx += dst.stride, arridx += src.stride) {\n      copyFunctor(src.array, arridx, dst.array, idx, functorOpts);\n    }\n  }\n}\n\nexport default class FBXModel {\n  constructor() {\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.lastPos = 0;\n    this.lastNorm = 0;\n    this.lastCol = 0;\n    this.lastIdx = 0;\n  }\n\n  init(vertsCount, indsCount) {\n    this.positions = new Float32Array(vertsCount * FBX_POS_SIZE);\n    this.normals = new Float32Array(vertsCount * FBX_NORM_SIZE);\n    this.colors = new Float32Array(vertsCount * FBX_COL_SIZE);\n    this.indices = new Int32Array(indsCount);\n  }\n\n  setPositions(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride,\n    };\n    const dst = {\n      array: this.positions,\n      start: this.lastPos,\n      stride: FBX_POS_SIZE,\n    };\n    setSubArray(src, dst, count, copyFbxPoint3);\n    this.lastPos += count * FBX_POS_SIZE;\n  }\n\n  setTransformedPositions(array, start, count, stride, matrix) {\n    let idx = this.lastPos;\n    let arrIdx = start;\n    const opts = { matrix, w: 1 };\n    for (let i = 0; i < count; ++i, arrIdx += stride, idx += FBX_POS_SIZE) {\n      copyTransformedPoint3(array, arrIdx, this.positions, idx, opts);\n    }\n    this.lastPos += count * FBX_POS_SIZE;\n  }\n\n  setNormals(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride,\n    };\n    const dst = {\n      array: this.normals,\n      start: this.lastNorm,\n      stride: FBX_NORM_SIZE,\n    };\n    setSubArray(src, dst, count, copyFbxPoint3);\n    this.lastNorm += count * FBX_NORM_SIZE;\n  }\n\n  setTransformedNormals(array, start, count, stride, matrix) {\n    let idx = this.lastNorm;\n    let arrIdx = start;\n    const opts = { matrix, w: 0 };\n    for (let i = 0; i < count; ++i, arrIdx += stride, idx += FBX_NORM_SIZE) {\n      copyTransformedPoint3(array, arrIdx, this.normals, idx, opts);\n    }\n    this.lastNorm += count * FBX_NORM_SIZE;\n  }\n\n  setColors(array, start, count, stride) {\n    const src = {\n      array,\n      start,\n      stride,\n    };\n    const dst = {\n      array: this.colors,\n      start: this.lastCol,\n      stride: FBX_COL_SIZE,\n    };\n    setSubArray(src, dst, count, copyFbxPoint4, 1);\n    this.lastCol += count * FBX_COL_SIZE;\n  }\n\n  setIndices(array, start, count) {\n    this.indices.set(array, this.lastIdx);\n    this.lastIdx += count;\n  }\n\n  setShiftedIndices(array, count, shift) {\n    const shifted = array.map((x) => x + shift);\n    this.setIndices(shifted, 0, count);\n  }\n\n  getVerticesNumber() {\n    return this.lastPos / FBX_POS_SIZE;\n  }\n\n  addInstance(matrix, geo) {\n    // add indices at first to take old number of vertices for shift\n    const currentCount = this.getVerticesNumber();\n    this.setShiftedIndices(geo.indices, geo.indices.length, currentCount);\n    // simply write vertices at empty space\n    const size = geo.itemSize;\n    this.setTransformedPositions(geo.positions, 0, geo.vertsCount, size.position, matrix);\n    this.setTransformedNormals(geo.normals, 0, geo.vertsCount, size.normal, matrix);\n    this.setColors(geo.colors, 0, geo.vertsCount, size.color);\n  }\n}\n","/** Base class for fbx geometry contains simply organized attributes: positions+normals+colors, indices. */\nexport default class FBXGeometry {\n  /**\n   * Create a base geo with necessary members.\n   */\n  constructor() {\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.vertsCount = 0;\n    this.itemSize = null;\n  }\n\n  /**\n   * Initialize base geo storing items info from attributes.\n   * @param {Object} geo - THREE.BufferGeometry.\n   */\n  init(geo, _info) {\n    const { attributes } = geo;\n    // save item size\n    this.itemSize = {\n      position: attributes.position.itemSize,\n      normal: attributes.normal.itemSize,\n      color: attributes.color.itemSize,\n    };\n  }\n}\n","import FBXGeometry from './FBXGeometry';\n\n/**\n * Fbx geometry, that copies positions+normals, indexes and creates colors filled with defined value.\n * @extends FBXGeometry\n */\nexport default class FBX1CGeometry extends FBXGeometry {\n  /**\n   * Initialize geo storing positions, normals, indices and create colors.\n   * @param {Object} geo - THREE.BufferGeometry.\n   */\n  init(geo, _info) {\n    super.init(geo, _info);\n    const {\n      attributes: {\n        position,\n        normal,\n      },\n      index,\n    } = geo;\n    // copy vertices attributes\n    this.vertsCount = position.count;\n    this.positions = position.array;\n    this.normals = normal.array;\n    // create color array\n    this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n    // indices\n    this.indices = index.array;\n  }\n\n  /**\n   * Set defined color for all items in color attribute\n   * @param {Object} color - THREE.Color.\n   */\n  setColors(color) {\n    let offset = 0;\n    for (let i = 0, l = this.colors.length, cl = this.itemSize.color; i < l; i += cl) {\n      this.colors[offset++] = color.r;\n      this.colors[offset++] = color.g;\n      this.colors[offset++] = color.b;\n    }\n  }\n}\n","import FBXGeometry from './FBXGeometry';\n\n/**\n * Fbx geometry, that copies positions+normals, indexes from cylinder  geometry and creates colors filled with two\n * defined values.\n * @extends FBXGeometry\n */\nexport default class FBX2CCylinder extends FBXGeometry {\n  constructor() {\n    super();\n    this._cutRawStart = 0;\n    this._cutRawEnd = 0;\n    this._facesPerSlice = 0;\n  }\n\n  /**\n   * Initialize geo by creating new attributes, because we extend number of vertices to make cylinder two-colored.\n   * Indices remain the same. We process open- end close-ended cylinders and consider cylinders od 2 segments\n   * in height ONLY.\n   * NOTE: cylinder consists of 2 height segments and stores parts in the order: tube, topCap, bottomCap\n   * @param {Object} geo - THREE.BufferGeometry.\n   * @param {Object} info - information needed for geo extend\n   */\n  init(geo, info) {\n    super.init(geo, info);\n    const {\n      attributes: {\n        position,\n      },\n      index,\n    } = geo;\n    // extend vertices arrays\n    this.vertsCount = position.count + info.addPerCylinder;\n    this._facesPerSlice = info.addPerCylinder;\n    this.positions = new Float32Array(this.vertsCount * position.itemSize);\n    this.normals = new Float32Array(this.vertsCount * this.itemSize.normal);\n    this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n    this._extendVertices(geo, info);\n    // number of indices stays the same\n    this.indices = new Uint32Array(index.count);\n    this._extendIndices(geo, info);\n  }\n\n  /** Extend vertex attributes to have one more slice to make sharp middle startColor-endColor line. */\n  _extendVertices(geo, info) {\n    const { position } = geo.attributes;\n    const { normal } = geo.attributes;\n    const geoParams = geo.getGeoParams();\n    const cutRaw = 1; // we expect cylinders of 2 segments in height => so half segment = 1\n    this._cutRawStart = cutRaw * geoParams.radialSegments;\n    this._cutRawEnd = this._cutRawStart + info.addPerCylinder;\n    { // write first half of cylinder\n      let temp = position.array.slice(0, this._cutRawEnd * position.itemSize);\n      this.positions.set(temp, 0);\n      temp = normal.array.slice(0, this._cutRawEnd * normal.itemSize);\n      this.normals.set(temp, 0);\n    }\n    { // write second part of cylinder\n      let temp = position.array.slice(this._cutRawStart * position.itemSize, position.array.length);\n      this.positions.set(temp, this._cutRawEnd * position.itemSize);\n      temp = normal.array.slice(this._cutRawStart * normal.itemSize, normal.array.length);\n      this.normals.set(temp, this._cutRawEnd * normal.itemSize);\n    }\n  }\n\n  /** Shift values of second part (+caps) indices by newly added vertices count. Number of faces remains the same. */\n  _extendIndices(geo, info) {\n    const { index } = geo;\n    const indicesPerQuad = 6; // quad = 2 triangles => 6 indices\n    const startToShift = info.addPerCylinder * indicesPerQuad;\n    const shift = info.addPerCylinder;\n    let shifted = index.array.slice(startToShift, index.count);\n    shifted = shifted.map((x) => x + shift); // shift only the endings\n    this.indices.set(index.array, 0);\n    this.indices.set(shifted, startToShift);\n  }\n\n  /**\n   * Set defined colors: (first part + bottom cap), (second part + top cap)\n   * @param {number} start - start color index\n   * @param {number} end - start color index\n   * @param {array} array - array of colors\n   * @param {array} color - color value components\n   */\n  _setColorRange(start, end, array, color) {\n    const colorSize = color.length;\n    for (let i = start; i < end; i += colorSize) {\n      array.set(color, i);\n    }\n  }\n\n  /**\n   * Set defined colors: (first part + bottom cap), (second part + top cap)\n   * @param {Object} color1 - THREE.Color.\n   * @param {Object} color2 - THREE.Color.\n   */\n  setColors(color1, color2) {\n    const colorSize = this.itemSize.color;\n    const part1End = this._cutRawEnd * colorSize;\n    const part2End = part1End * 2;\n    this._setColorRange(0, part1End, this.colors, color1.toArray());\n    this._setColorRange(part1End, part2End, this.colors, color2.toArray());\n    if (part2End < this.colors.length) { // cylinder has caps, lets paint them\n      const capSize = (this._facesPerSlice + 1) * colorSize;\n      const cap1End = part2End + capSize;\n      this._setColorRange(part2End, cap1End, this.colors, color2.toArray());\n      const cap2End = cap1End + capSize; // should be equal to this.colors.length;\n      this._setColorRange(cap1End, cap2End, this.colors, color1.toArray());\n    }\n  }\n}\n","import _ from 'lodash';\nimport * as THREE from 'three';\n\nimport utils from '../../../utils';\nimport gfxutils from '../../../gfx/gfxutils';\nimport logger from '../../../utils/logger';\n\nimport FBXModel from './FBXModel';\nimport ThickLineMesh from '../../../gfx/meshes/ThickLineMesh';\nimport ZSpriteMesh from '../../../gfx/meshes/ZSpriteMesh';\nimport InstancedSpheresGeometry from '../../../gfx/geometries/InstancedSpheresGeometry';\nimport Instanced2CCylindersGeometry from '../../../gfx/geometries/Instanced2CCylindersGeometry';\nimport FBX1CGeometry from './FBX1CGeometry';\nimport FBX2CCylinder from './FBX2CCylinder';\n\nexport default class FBXInfoExtractor {\n  constructor() {\n    this._materials = [];\n    this._models = [];\n  }\n\n  process(data) {\n    this._extractModelsAndMaterials(data);\n    const models = this._flattenModels();\n\n    return {\n      name: data.name,\n      models,\n      materials: this._materials,\n    };\n  }\n\n  /**\n   * Extract fbx object information from ComplexVisual\n   * @param {object} data - complexVisual to get geometry info from\n   */\n  _extractModelsAndMaterials(data) {\n    const layersOfInterest = new THREE.Layers();\n    layersOfInterest.set(gfxutils.LAYERS.DEFAULT);\n    layersOfInterest.enable(gfxutils.LAYERS.TRANSPARENT);\n    data.traverse((object) => {\n      if (object instanceof THREE.Mesh && object.layers.test(layersOfInterest) && this.checkExportAbility(object)) {\n        if (object.geometry.type === 'InstancedBufferGeometry') {\n          this._collectInstancedGeoInfo(object);\n        } else {\n          this._collectGeoInfo(object);\n        }\n      }\n    });\n  }\n\n  /**\n   * Reworking indices buffer, see https://banexdevblog.wordpress.com/2014/06/23/a-quick-tutorial-about-the-fbx-ascii-format/\n   * basically, every triangle in Miew has been represented hat way (e.g.) : 0,1,7, but we must (for FBX) rework that\n   * into: 0,1,-8.\n   * @param {array} indices - belongs to [0, maxVertIndex]\n   */\n  _reworkIndices(indices) {\n    const faceSize = 3;\n    for (let i = faceSize - 1; i < indices.length; i += faceSize) {\n      indices[i] *= -1;\n      indices[i]--;\n    }\n  }\n\n  /**\n   * Combine geometry from several models having the same material into one Model and finally prepare indices\n    * @returns {array} models, combined by material id\n   */\n  _flattenModels() {\n    let overallVertsCount = 0;\n    function shift(x) {\n      return x + overallVertsCount;\n    }\n    const combined = [];\n    // flatten models geometry\n    for (let i = 0, n = this._models.length; i < n; i++) {\n      const models = this._models[i];\n      let indices = [];\n      let positions = [];\n      let normals = [];\n      let colors = [];\n      // reorganize every attributes as array of arrays\n      overallVertsCount = 0;\n      for (let j = 0; j < models.length; j++) {\n        const m = models[j];\n        indices.push(m.indices.map(shift));\n        overallVertsCount += m.getVerticesNumber();\n        positions.push(m.positions);\n        normals.push(m.normals);\n        colors.push(m.colors);\n      }\n      // join all subarrays into one\n      indices = utils.mergeTypedArraysUnsafe(indices);\n      this._reworkIndices(indices);\n      positions = utils.mergeTypedArraysUnsafe(positions);\n      normals = utils.mergeTypedArraysUnsafe(normals);\n      colors = utils.mergeTypedArraysUnsafe(colors);\n      combined.push({\n        indices,\n        positions,\n        normals,\n        colors,\n        verticesCount: overallVertsCount,\n      });\n    }\n    return combined;\n  }\n\n  /**\n   * Check ability to export the kind of mesh.\n   * @param {object} mesh - given mesh to check\n   * @returns {boolean} result of check\n   */\n  checkExportAbility(mesh) {\n    // check mesh on not being empty\n    if (mesh.geometry.attributes.position.count === 0) {\n      return false;\n    }\n    // check type of mesh\n    // if (mesh.geometry.isInstancedBufferGeometry && settings.now.zSprites) {\n    if (mesh instanceof ZSpriteMesh) {\n      logger.warn('Currently we cannot export \\'sprites\\' modes, like BS, WV, LC. Please turn of settings \\'zSprites\\' and try again');\n      return false;\n    }\n    if (mesh instanceof ThickLineMesh) {\n      logger.warn('Currently we cannot export Lines mode');\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Save geometry info from common mesh, like Surface or Cartoon\n   */\n  _collectGeoInfo(mesh) {\n    const {\n      geometry: {\n        attributes: {\n          position,\n          color,\n          normal,\n        },\n        index,\n      },\n      matrix,\n    } = mesh;\n\n    const model = new FBXModel();\n    const vertCount = position.count;\n    model.init(vertCount, index.count);\n    if (matrix.isIdentity()) {\n      model.setPositions(position.array, 0, vertCount, position.itemSize);\n      model.setNormals(normal.array, 0, vertCount, normal.itemSize);\n    } else {\n      model.setTransformedPositions(position.array, 0, vertCount, position.itemSize, matrix);\n      model.setTransformedNormals(normal.array, 0, vertCount, normal.itemSize, matrix);\n    }\n    model.setColors(color.array, 0, vertCount, color.itemSize);\n    model.setIndices(index.array, 0, index.count);\n    const material = this._collectMaterialInfo(mesh);\n    this._addToPool(model, material);\n  }\n\n  /**\n   * Collect instanced spheres geometry and materials.\n   * @param {object} mesh - mesh with instanced spheres info\n   */\n  _collectSpheresInfo(mesh) {\n    const {\n      geometry: {\n        attributes: {\n          position,\n          color,\n        },\n        index,\n      },\n      matrix,\n    } = mesh;\n\n    const model = new FBXModel();\n    const instCount = mesh.geometry.instanceCount;\n    const vertCount = position.count;\n    const indsCount = index.count;\n    model.init(instCount * vertCount, instCount * indsCount);\n    const geo = new FBX1CGeometry();\n    geo.init(mesh.geometry);\n    const instMatrix = new THREE.Matrix4();\n    const objMatrix = new THREE.Matrix4();\n    const sphereColor = new THREE.Color();\n    for (let instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n      // update colors in geometry\n      const colorIdx = instanceIndex * color.itemSize;\n      sphereColor.fromArray(color.array, colorIdx);\n      geo.setColors(sphereColor);\n      // add instance to the model\n      this._getSphereInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n      objMatrix.multiplyMatrices(matrix, instMatrix);\n      model.addInstance(objMatrix, geo);\n    }\n    const material = this._collectMaterialInfo(mesh);\n    this._addToPool(model, material);\n  }\n\n  /**\n   * Getting all instanced cylinders from given mesh.\n   * Divide cylinder (add additional vertexes) for prettiness therefore algorithm is a bit complicated\n   * @param {object} mesh - given mesh with instanced cylinders\n   */\n  _collectCylindersInfo(mesh) {\n    const {\n      geometry: {\n        attributes: {\n          position,\n          color,\n          color2,\n        },\n        index,\n      },\n      matrix,\n    } = mesh;\n\n    const model = new FBXModel();\n    const instCount = mesh.geometry.instanceCount;\n    const oneCCylinder = new FBX1CGeometry();\n    oneCCylinder.init(mesh.geometry);\n    const splittingInfo = this._gatherCylindersColoringInfo(mesh.geometry);\n    let twoCCylinder = null;\n    if (splittingInfo.needToSplit > 0) {\n      twoCCylinder = new FBX2CCylinder();\n      twoCCylinder.init(mesh.geometry, splittingInfo);\n    }\n    const additionalVertsCount = splittingInfo.addPerCylinder * splittingInfo.needToSplit;\n    const vertCount = position.count;\n    const indsCount = index.count;\n    model.init(instCount * vertCount + additionalVertsCount, instCount * indsCount);\n    const instMatrix = new THREE.Matrix4();\n    const objMatrix = new THREE.Matrix4();\n    const colorStart = new THREE.Color();\n    const colorEnd = new THREE.Color();\n    let geo = {};\n    for (let instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n      // update colors in geometry\n      const colorIdx = instanceIndex * color.itemSize;\n      if (splittingInfo.is2Colored[instanceIndex]) {\n        // .color2 contains starting color, and .color contains starting color (see uber.frag ATTR_COLOR2)\n        colorStart.fromArray(color2.array, colorIdx);\n        colorEnd.fromArray(color.array, colorIdx);\n        if (twoCCylinder) {\n          twoCCylinder.setColors(colorStart, colorEnd);\n          geo = twoCCylinder;\n        }\n      } else {\n        // has one color per cylinder\n        colorStart.fromArray(color.array, colorIdx);\n        oneCCylinder.setColors(colorStart);\n        geo = oneCCylinder;\n      }\n      // add instance to the model\n      this._getCylinderInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n      objMatrix.multiplyMatrices(matrix, instMatrix);\n      model.addInstance(objMatrix, geo);\n    }\n    const material = this._collectMaterialInfo(mesh);\n    this._addToPool(model, material);\n  }\n\n  /**\n   * Adding model to pool of models or extend existing ones\n   * @param {object} model - model to add\n   * @param {object} material - material to add\n   */\n  _addToPool(model, material) {\n    const materialIdx = this._checkExistingMaterial(material);\n    if (materialIdx < 0) { // new model-material pair\n      this._models.push([model]);\n      this._materials.push(material);\n    } else { // add model to existing model-material pair\n      const models = this._models[materialIdx];\n      models.push(model);\n    }\n  }\n\n  /**\n   * Checking if given material already was registered in materials pool (no need to create new one)\n   * @param {object} material - given material\n   * @returns {number} number of model-material pair\n   */\n  _checkExistingMaterial(material) {\n    return _.findIndex(this._materials, (m) => _.isEqual(m, material));\n  }\n\n  _gatherCylindersColoringInfo(geo) {\n    const instCount = geo.instanceCount;\n    const color1 = geo.attributes.color.array;\n    const color2 = geo.attributes.color2.array;\n    const stride = geo.attributes.color.itemSize;\n    const is2Colored = new Array(instCount);\n    // analyze color instance attributes\n    let needToSplit = 0;\n    let colIdx = 0;\n    for (let i = 0; i < instCount; i++, colIdx += stride) {\n      const differs = (Math.abs(color1[colIdx] - color2[colIdx]) > 0.0000001) // compare ending colors\n        || (Math.abs(color1[colIdx + 1] - color2[colIdx + 1]) > 0.0000001)\n        || (Math.abs(color1[colIdx + 2] - color2[colIdx + 2]) > 0.0000001);\n      is2Colored[i] = differs;\n      needToSplit += differs; // count number of 2-colored cylinders\n    }\n    // calc number of vertices to add into 2-colored\n    const geoParams = geo.getGeoParams();\n    const addPerCylinder = geoParams.radialSegments;\n    return { is2Colored, needToSplit, addPerCylinder };\n  }\n\n  /**\n   * Collect instanced models and materials.\n   * @param {object} mesh - given mesh with instanced something (spheres or cylinders)\n   */\n  _collectInstancedGeoInfo(mesh) {\n    if (mesh.geometry instanceof InstancedSpheresGeometry) {\n      this._collectSpheresInfo(mesh);\n    } else if (mesh.geometry instanceof Instanced2CCylindersGeometry) {\n      this._collectCylindersInfo(mesh);\n    }\n  }\n\n  /**\n   * Collect Material info from given mesh.\n   * @param {object} mesh - given mesh with material info\n   * @returns {object} material\n   */\n  _collectMaterialInfo(mesh) {\n    const { uberOptions } = mesh.material;\n    return ({\n      diffuse: uberOptions.diffuse.toArray(),\n      opacity: uberOptions.opacity,\n      shininess: uberOptions.shininess,\n      specular: uberOptions.specular.toArray(),\n    });\n  }\n\n  _getCylinderInstanceMatrix(geo, instIdx, matrix) {\n    const matVector1 = geo.attributes.matVector1.array;\n    const matVector2 = geo.attributes.matVector2.array;\n    const matVector3 = geo.attributes.matVector3.array;\n    const idxOffset = instIdx * 4; // used 4 because offset arrays are stored in quads\n    matrix.set(matVector1[idxOffset], matVector1[idxOffset + 1], matVector1[idxOffset + 2], matVector1[idxOffset + 3],\n      matVector2[idxOffset], matVector2[idxOffset + 1], matVector2[idxOffset + 2], matVector2[idxOffset + 3],\n      matVector3[idxOffset], matVector3[idxOffset + 1], matVector3[idxOffset + 2], matVector3[idxOffset + 3],\n      0, 0, 0, 1);\n  }\n\n  _getSphereInstanceMatrix(geo, instIdx, matrix) {\n    const { offset } = geo.attributes;\n    const idx = instIdx * offset.itemSize;\n    const x = offset.array[idx];\n    const y = offset.array[idx + 1];\n    const z = offset.array[idx + 2];\n    const scale = offset.array[idx + 3];\n    matrix.set(\n      scale, 0, 0, x,\n      0, scale, 0, y,\n      0, 0, scale, z,\n      0, 0, 0, 1,\n    );\n  }\n}\n","// Forming default definitions block\nconst defaultDefinitions = `\nDefinitions:  {\n  Version: 100\n  Count: 3\n  ObjectType: \"Model\" {\n    Count: 1\n  }\n  ObjectType: \"Geometry\" {\n    Count: 1\n  }\n  ObjectType: \"Material\" {\n    Count: 1\n  }\n  ObjectType: \"Pose\" {\n    Count: 1\n  }\n  ObjectType: \"GlobalSettings\" {\n    Count: 1\n  }\n} `;\n\n// Default model properties\nconst defaultProperties = `Properties60: {\n      Property: \"QuaternionInterpolate\", \"bool\", \"\",0\n      Property: \"Visibility\", \"Visibility\", \"A\",1\n      Property: \"Lcl Translation\", \"Lcl Translation\", \"A\",0.000000000000000,0.000000000000000,-1789.238037109375000\n      Property: \"Lcl Rotation\", \"Lcl Rotation\", \"A\",0.000009334667643,-0.000000000000000,0.000000000000000\n      Property: \"Lcl Scaling\", \"Lcl Scaling\", \"A\",1.000000000000000,1.000000000000000,1.000000000000000\n      Property: \"RotationOffset\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationPivot\", \"Vector3D\", \"\",0,0,0\n      Property: \"ScalingOffset\", \"Vector3D\", \"\",0,0,0\n      Property: \"ScalingPivot\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationActive\", \"bool\", \"\",0\n      Property: \"TranslationMin\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationMax\", \"Vector3D\", \"\",0,0,0\n      Property: \"TranslationMinX\", \"bool\", \"\",0\n      Property: \"TranslationMinY\", \"bool\", \"\",0\n      Property: \"TranslationMinZ\", \"bool\", \"\",0\n      Property: \"TranslationMaxX\", \"bool\", \"\",0\n      Property: \"TranslationMaxY\", \"bool\", \"\",0\n      Property: \"TranslationMaxZ\", \"bool\", \"\",0\n      Property: \"RotationOrder\", \"enum\", \"\",0\n      Property: \"RotationSpaceForLimitOnly\", \"bool\", \"\",0\n      Property: \"AxisLen\", \"double\", \"\",10\n      Property: \"PreRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"PostRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationActive\", \"bool\", \"\",0\n      Property: \"RotationMin\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationMax\", \"Vector3D\", \"\",0,0,0\n      Property: \"RotationMinX\", \"bool\", \"\",0\n      Property: \"RotationMinY\", \"bool\", \"\",0\n      Property: \"RotationMinZ\", \"bool\", \"\",0\n      Property: \"RotationMaxX\", \"bool\", \"\",0\n      Property: \"RotationMaxY\", \"bool\", \"\",0\n      Property: \"RotationMaxZ\", \"bool\", \"\",0\n      Property: \"RotationStiffnessX\", \"double\", \"\",0\n      Property: \"RotationStiffnessY\", \"double\", \"\",0\n      Property: \"RotationStiffnessZ\", \"double\", \"\",0\n      Property: \"MinDampRangeX\", \"double\", \"\",0\n      Property: \"MinDampRangeY\", \"double\", \"\",0\n      Property: \"MinDampRangeZ\", \"double\", \"\",0\n      Property: \"MaxDampRangeX\", \"double\", \"\",0\n      Property: \"MaxDampRangeY\", \"double\", \"\",0\n      Property: \"MaxDampRangeZ\", \"double\", \"\",0\n      Property: \"MinDampStrengthX\", \"double\", \"\",0\n      Property: \"MinDampStrengthY\", \"double\", \"\",0\n      Property: \"MinDampStrengthZ\", \"double\", \"\",0\n      Property: \"MaxDampStrengthX\", \"double\", \"\",0\n      Property: \"MaxDampStrengthY\", \"double\", \"\",0\n      Property: \"MaxDampStrengthZ\", \"double\", \"\",0\n      Property: \"PreferedAngleX\", \"double\", \"\",0\n      Property: \"PreferedAngleY\", \"double\", \"\",0\n      Property: \"PreferedAngleZ\", \"double\", \"\",0\n      Property: \"InheritType\", \"enum\", \"\",0\n      Property: \"ScalingActive\", \"bool\", \"\",0\n      Property: \"ScalingMin\", \"Vector3D\", \"\",1,1,1\n      Property: \"ScalingMax\", \"Vector3D\", \"\",1,1,1\n      Property: \"ScalingMinX\", \"bool\", \"\",0\n      Property: \"ScalingMinY\", \"bool\", \"\",0\n      Property: \"ScalingMinZ\", \"bool\", \"\",0\n      Property: \"ScalingMaxX\", \"bool\", \"\",0\n      Property: \"ScalingMaxY\", \"bool\", \"\",0\n      Property: \"ScalingMaxZ\", \"bool\", \"\",0\n      Property: \"GeometricTranslation\", \"Vector3D\", \"\",0,0,0\n      Property: \"GeometricRotation\", \"Vector3D\", \"\",0,0,0\n      Property: \"GeometricScaling\", \"Vector3D\", \"\",1,1,1\n      Property: \"LookAtProperty\", \"object\", \"\"\n      Property: \"UpVectorProperty\", \"object\", \"\"\n      Property: \"Show\", \"bool\", \"\",1\n      Property: \"NegativePercentShapeSupport\", \"bool\", \"\",1\n      Property: \"DefaultAttributeIndex\", \"int\", \"\",0\n      Property: \"Color\", \"Color\", \"A+\",0,0,0\n      Property: \"Size\", \"double\", \"\",100\n      Property: \"Look\", \"enum\", \"\",1\n    }`;\n\n// Default materials layer\nconst defaultMaterialLayer = `\n    LayerElementMaterial: 0 {\n      Version: 101\n      Name: \"\"\n      MappingInformationType: \"AllSame\"\n      ReferenceInformationType: \"Direct\"\n      Materials: 0\n    }`;\n\n// Default layers block\nconst defaultLayerBlock = `\n    Layer: 0 {\n      Version: 100\n      LayerElement:  {\n        Type: \"LayerElementNormal\"\n        TypedIndex: 0\n      }\n      LayerElement:  {\n        Type: \"LayerElementColor\"\n        TypedIndex: 0\n      }\n      LayerElement:  {\n        Type: \"LayerElementMaterial\"\n        TypedIndex: 0\n      }\n    }`;\n\n/**\n * globalSettings info in output file.\n */\nconst globalSettings = `GlobalSettings: {\n    Version: 1000\n    Properties60:  {\n      Property: \"UpAxis\", \"int\", \"\",1\n      Property: \"UpAxisSign\", \"int\", \"\",1\n      Property: \"FrontAxis\", \"int\", \"\",2\n      Property: \"FrontAxisSign\", \"int\", \"\",1\n      Property: \"CoordAxis\", \"int\", \"\",0\n      Property: \"CoordAxisSign\", \"int\", \"\",1\n      Property: \"UnitScaleFactor\", \"double\", \"\",1\n    }\n  }`;\n\nexport default class FBXResult {\n  constructor() {\n    this._resultArray = [];\n    this._info = null;\n  }\n\n  getResult(info) {\n    this._info = info;\n    this._resultArray.push(this._writeHeader());\n    this._resultArray.push(this._writeDefinitions());\n    this._resultArray.push(this._writeObjects(info.models, info.materials));\n    this._resultArray.push(this._writeRelations());\n    this._resultArray.push(this._writeConnections()); // connections between models and materials)\n    this._info = null;\n    return this._resultArray.join('');\n  }\n\n  /**\n   * Add FBXHeader info to output file.\n   * Some fields are really confusing, but it seems that all listed fields are very informative\n   */\n  _writeHeader() {\n    const FBXHeaderVersion = 1003; // 1003 is some number which appears to present in many 6.1 ASCII files\n    const FBXVersion = 6100; // Mandatory and only supported version\n    const date = new Date();\n    const timeStampVersion = 1000;\n    const creator = `Miew FBX Exporter v${this._info.version}`; // Supposed to be an engine\n\n    return `; FBX 6.1.0 project file\n; Created by ${creator} Copyright (c) 2015-2020 EPAM Systems, Inc.\n; For support please contact miew@epam.com\n; ----------------------------------------------------\n\nFBXHeaderExtension:  {\n  FBXHeaderVersion: ${FBXHeaderVersion}\n  FBXVersion: ${FBXVersion}\n  CreationTimeStamp:  {\n    Version: ${timeStampVersion}\n    Year: ${date.getFullYear()}\n    Month: ${date.getMonth() + 1} \n    Day: ${date.getDate()}\n    Hour: ${date.getHours()}\n    Minute: ${date.getMinutes()}\n    Second: ${date.getSeconds()}\n    Millisecond: ${date.getMilliseconds()}\n  }\n  Creator: \"${creator}\"\n  OtherFlags:  {\n    FlagPLE: 0\n  }\n}\nCreationTime: \"${date}\"\nCreator: \"${creator}\"  \n`;\n  }\n\n  /**\n   * Add Definitions info to output file.\n   * Not exactly sure if this section is template section (as it is in 7.4+) or it should every time be like this\n   */\n  _writeDefinitions() {\n    return `\n; Object definitions\n;------------------------------------------------------------------\n\n${defaultDefinitions}\n`;\n  }\n\n  /**\n   * Adding gathered information about Models to resulting string.\n   * Reminder - there may be more then 1 model in scene, but we must place materials after ALL models.\n   * @returns {string} string containing all models (vertices, indices, colors, normals etc)\n   */\n  _models() {\n    const modelVersion = 232;\n    let allModels = '';\n    const { models } = this._info;\n    for (let i = 0; i < models.length; ++i) {\n      const model = models[i];\n      const vertCount = model.verticesCount;\n      allModels += `\n  Model: \"Model::${this._info.name}_${i}\", \"Mesh\" {\n    Version: ${modelVersion} \n    ${defaultProperties}\n    ${this._verticesIndices(model.positions, model.indices)}\n    ${this._normalLayer(model.normals)} \n    ${this._colorLayer(model.colors, vertCount)} \n    ${defaultMaterialLayer}  \n    ${defaultLayerBlock}\n  }`;\n    }\n    return allModels;\n  }\n\n  /**\n   * Add Material info to result\n   */\n  _materials() {\n    const materialVersion = 102;\n    let allMaterials = '';\n    const { materials } = this._info;\n    for (let i = 0; i < materials.length; ++i) {\n      const material = materials[i];\n      allMaterials += `\n  Material: \"Material::${this._info.name}_${i}_default\", \"\" {\n    Version: ${materialVersion}\n    ShadingModel: \"lambert\"\n    MultiLayer: 0\n    ${this._materialProperties(material)}\n  }`;\n    }\n    return allMaterials;\n  }\n\n  /**\n   * Add Objects info to output file.\n   */\n  _writeObjects() {\n    return `\n; Object properties\n;------------------------------------------------------------------\n\nObjects:  {\n  ${this._models()}\n  ${this._materials()}\n  ${globalSettings}\n}\n`;\n  }\n\n  /**\n   * Add Relations info to output file.\n   */\n  _writeRelations() {\n    let modelsList = '';\n    for (let i = 0; i < this._info.models.length; ++i) {\n      modelsList += `\n  Model: \"Model::${this._info.name}_${i}\", \"Mesh\" {\n  }`;\n    }\n    let materialList = '';\n    for (let i = 0; i < this._info.materials.length; ++i) {\n      materialList += `\n  Material: \"Material::${this._info.name}_${i}_default\", \"\" {\n  }`;\n    }\n\n    return `\n; Object relations\n;------------------------------------------------------------------\n\nRelations:  {\n  ${modelsList}\n  Model: \"Model::Producer Perspective\", \"Camera\" {\n  }\n  Model: \"Model::Producer Top\", \"Camera\" {\n  }\n  Model: \"Model::Producer Bottom\", \"Camera\" {\n  }\n  Model: \"Model::Producer Front\", \"Camera\" {\n  }\n  Model: \"Model::Producer Back\", \"Camera\" {\n  }\n  Model: \"Model::Producer Right\", \"Camera\" {\n  }\n  Model: \"Model::Producer Left\", \"Camera\" {\n  }\n  Model: \"Model::Camera Switcher\", \"CameraSwitcher\" {\n  }\n  ${materialList}\n}`;\n  }\n\n  /**\n   * Add Connections info to output file.\n   */\n  _writeConnections() {\n    let modelsList = '';\n    const { name } = this._info;\n    for (let i = 0; i < this._info.models.length; ++i) {\n      modelsList += `\n  Connect: \"OO\", \"Model::${name}_${i}\", \"Model::Scene\"`;\n    }\n\n    let materialList = '';\n    for (let i = 0; i < this._info.materials.length; ++i) {\n      materialList += `\n  Connect: \"OO\", \"Material::${name}_${i}_default\", \"Model::${name}_${i}\"`;\n    }\n\n    return `\n; Object connections\n;------------------------------------------------------------------\n\nConnections:  {\n  ${modelsList}\n  ${materialList}\n}`;\n  }\n\n  /**\n   * Write float array to string with limited precision\n   * @param {Float32Array} array - array to be fixed\n   * @returns {String} String with fixed floats\n   */\n  _floatArrayToString(array) {\n    const str = [];\n    for (let i = 0; i < array.length; ++i) {\n      str[i] = array[i].toFixed(6);\n    }\n    return str.join(',');\n  }\n\n  /**\n   * Adding color layer to resulting file\n   * @param {Float32Array} colorArray attribute\n   * @param {number} vertCount - number of vertices in the model\n   * @returns {string} color layer info\n   */\n  _colorLayer(colorArray, vertCount) {\n    const layerElementColorNumber = 0;\n    const layerElementColorVersion = 101;\n    const layerElementColorName = '';\n    const colorsStr = this._floatArrayToString(colorArray);\n    // Mapping Information type and Reference Information type are mandatory for our Miew! Must not be changed\n    // As said [..Array(...)] - fastest and easiest way to produce [0, 1, .....] array\n    const colorIndices = [...Array(vertCount).keys()];\n    return `\n    LayerElementColor: ${layerElementColorNumber} {\n      Version: ${layerElementColorVersion}\n      Name: \"${layerElementColorName}\"\n      MappingInformationType: \"ByVertice\"\n      ReferenceInformationType: \"Direct\"\n      Colors: ${colorsStr}\n      ColorIndex: ${colorIndices}\n    }`;\n  }\n\n  /**\n   * Adding normal layer to resulting file\n   * @param {Float32Array} normalArray attribute\n   * @returns {string} normal layer info\n   */\n  _normalLayer(normalArray) {\n    const layerElementNormalNumber = 0;\n    const layerElementNormalVersion = 101;\n    const layerElementNormalName = '';\n    const normalsStr = this._floatArrayToString(normalArray);\n    // Mapping Information type and Reference Information type are mandatory for our Miew! Must not be changed\n    return `\n    LayerElementNormal: ${layerElementNormalNumber} {\n      Version: ${layerElementNormalVersion}\n      Name: \"${layerElementNormalName}\"\n      MappingInformationType: \"ByVertice\"\n      ReferenceInformationType: \"Direct\" \n      Normals: ${normalsStr}\n    }`;\n  }\n\n  /**\n   * Adding vertices and indices to resulting string\n   * @return {string} resulting string in FBX notation\n   */\n  _verticesIndices(positions, indices) {\n    const multiLayer = 0;\n    const multiTake = 1;\n    const shading = 'Y';\n    const culling = 'CullingOff';\n    const geometryVersion = 124;\n    const vertStr = this._floatArrayToString(positions);\n    /* About _correctArrayNotation: Float32Arrays will contains only Float32 numbers, which implies that it will be floating points with 17 numbers after point.\n    * We cannot (and it's logically incorrect) save all this information, so we convert this Float32Array into Array-like object with numbers with only 6 numbers after point\n    * Reminder - this is big memory loss (as we must save at one moment two arrays with similar information) */\n    return `MultiLayer: ${multiLayer}\n    MultiTake: ${multiTake}\n    Shading: ${shading}\n    Culling: \"${culling}\"\n    Vertices: ${vertStr}\n    PolygonVertexIndex: ${indices}\n    GeometryVersion: ${geometryVersion}`;\n  }\n\n  /**\n   * Forming material properties block.\n   * @param {Object} material - given material of model\n   * @returns {String} material properties string\n   */\n  _materialProperties(material) {\n    return `Properties60:  {\n      Property: \"ShadingModel\", \"KString\", \"\", \"Lambert\"\n      Property: \"MultiLayer\", \"bool\", \"\",0\n      Property: \"EmissiveColor\", \"ColorRGB\", \"\",0,0,0\n      Property: \"EmissiveFactor\", \"double\", \"\",0.0000\n      Property: \"AmbientColor\", \"ColorRGB\", \"\",1,1,1\n      Property: \"AmbientFactor\", \"double\", \"\",0.0000\n      Property: \"DiffuseColor\", \"ColorRGB\", \"\",${material.diffuse}\n      Property: \"DiffuseFactor\", \"double\", \"\",1.0000\n      Property: \"Bump\", \"Vector3D\", \"\",0,0,0\n      Property: \"TransparentColor\", \"ColorRGB\", \"\",1,1,1\n      Property: \"TransparencyFactor\", \"double\", \"\",0.0000\n      Property: \"SpecularColor\", \"ColorRGB\", \"\",${material.specular}\n      Property: \"SpecularFactor\", \"double\", \"\",1.0000\n      Property: \"ShininessExponent\", \"double\", \"\",${material.shininess}\n      Property: \"ReflectionColor\", \"ColorRGB\", \"\",0,0,0\n      Property: \"ReflectionFactor\", \"double\", \"\",1\n      Property: \"Ambient\", \"ColorRGB\", \"\",1,1,1\n      Property: \"Diffuse\", \"ColorRGB\", \"\",${material.diffuse}\n      Property: \"Specular\", \"ColorRGB\", \"\",${material.specular}\n      Property: \"Shininess\", \"double\", \"\",${material.shininess}\n      Property: \"Opacity\", \"double\", \"\",${material.opacity}\n      Property: \"Reflectivity\", \"double\", \"\",0\n    }`;\n  }\n}\n","import Exporter from './Exporter';\nimport FBXInfoExtractor from './fbx/FBXInfoExtractor';\nimport FBXResult from './fbx/FBXResult';\nimport ComplexVisual from '../../ComplexVisual';\n\nexport default class FBXExporter extends Exporter {\n  constructor(source, options) {\n    super(source, options);\n    // Data\n    this._data = source;\n    this._version = options.miewVersion || '0.0-UNSPECIFIED';\n    this._extractor = new FBXInfoExtractor();\n  }\n\n  /**\n   * Entry point to exporter.\n   */\n  exportSync() {\n    // Creating mandatory blocks\n    const result = new FBXResult();\n    if (!this._source) {\n      return this._result;\n    }\n\n    const info = this._extractor.process(this._data);\n    info.version = this._version;\n    this._result = result.getResult(info);\n    return this._result;\n  }\n}\n\nFBXExporter.formats = ['fbx'];\nFBXExporter.SourceClass = ComplexVisual;\n","import ExporterList from './exporters/ExporterList';\n\nimport PDBExporter from './exporters/PDBExporter';\nimport FBXExporter from './exporters/FBXExporter';\n\nexport default new ExporterList([\n  PDBExporter,\n  FBXExporter,\n]);\n","import loaders from './loaders';\nimport parsers from './parsers';\nimport exporters from './exporters';\n\nexport default {\n  loaders,\n  parsers,\n  exporters,\n};\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport * as THREE from 'three';\nimport CSS2DObject from './CSS2DObject';\n\nconst tempColor = new THREE.Color();\n\nclass CSS2DRenderer {\n  constructor() {\n    this._width = 0;\n    this._height = 0;\n    this._widthHalf = 0;\n    this._heightHalf = 0;\n\n    this._vector = new THREE.Vector3();\n    this._viewMatrix = new THREE.Matrix4();\n    this._projectionMatrix = new THREE.Matrix4();\n\n    this._domElement = document.createElement('div');\n    this._domElement.style.overflow = 'hidden';\n    this._domElement.style.position = 'absolute';\n    this._domElement.style.top = '0';\n    this._domElement.style.zIndex = '0'; // start a new Stacking Context to enclose all z-ordered children\n    this._domElement.style.pointerEvents = 'none';\n  }\n\n  getElement() {\n    return this._domElement;\n  }\n\n  reset() {\n    const myNode = this.getElement();\n    while (myNode.firstChild) {\n      myNode.removeChild(myNode.firstChild);\n    }\n  }\n\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n\n    this._widthHalf = this._width / 2;\n    this._heightHalf = this._height / 2;\n\n    this._domElement.style.width = `${width}px`;\n    this._domElement.style.height = `${height}px`;\n  }\n\n  _renderObject(object, camera, scene) {\n    function lerpColorAsHex(a, b, t) {\n      tempColor.setHex(a);\n      tempColor.lerp(b, t);\n      return `#${tempColor.getHexString()}`;\n    }\n\n    function colorAsHex(a) {\n      tempColor.setHex(a);\n      return `#${tempColor.getHexString()}`;\n    }\n\n    if (object instanceof CSS2DObject) {\n      this._vector.setFromMatrixPosition(object.matrixWorld);\n\n      if (object.userData !== undefined && object.userData.offset !== undefined) {\n        const localOffset = new THREE.Vector3(object.userData.offset.x, object.userData.offset.y, 0);\n        this._vector.add(localOffset.multiplyScalar(object.matrixWorld.getMaxScaleOnAxis()));\n      }\n\n      this._vector.applyMatrix4(this._viewMatrix);\n\n      const visibility = this._vector.z > -camera.near ? 'hidden' : 'visible';\n      const zIndex = 10000 * (camera.far - (-this._vector.z)) / (camera.far - camera.near);\n\n      const element = object.getElement();\n      if (typeof scene.fog === 'undefined') {\n        element.style.color = colorAsHex(object.userData.color);\n        if (object.userData.background !== 'transparent') {\n          element.style.background = colorAsHex(object.userData.background);\n        }\n      } else {\n        const fogFactor = THREE.MathUtils.smoothstep(-this._vector.z, scene.fog.near, scene.fog.far);\n        element.style.color = lerpColorAsHex(object.userData.color, scene.fog.color, fogFactor);\n        if (object.userData.background !== 'transparent') {\n          element.style.background = lerpColorAsHex(object.userData.background, scene.fog.color, fogFactor);\n        }\n      }\n\n      this._vector.applyMatrix4(this._projectionMatrix);\n\n      const style = `${object.userData !== {} ? object.userData.translation : 'translate(-50%, -50%) '\n      }translate(${this._vector.x * this._widthHalf + this._widthHalf}px,${\n        -this._vector.y * this._heightHalf + this._heightHalf}px)`;\n      element.style.visibility = visibility;\n      element.style.WebkitTransform = style;\n      element.style.MozTransform = style;\n      element.style.oTransform = style;\n      element.style.transform = style;\n      element.style.zIndex = Number(zIndex).toFixed(0);\n\n      if (element.parentNode !== this._domElement) {\n        this._domElement.appendChild(element);\n      }\n    }\n\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      this._renderObject(object.children[i], camera, scene);\n    }\n  }\n\n  render(scene, camera) {\n    scene.updateMatrixWorld();\n\n    if (camera.parent === null) {\n      camera.updateMatrixWorld();\n    }\n\n    camera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n\n    this._viewMatrix.copy(camera.matrixWorldInverse);\n    this._projectionMatrix.copy(camera.projectionMatrix);\n\n    this._renderObject(scene, camera, scene);\n  }\n}\nexport default CSS2DRenderer;\n","import * as THREE from 'three';\nimport Timer from '../Timer';\nimport settings from '../settings';\nimport EventDispatcher from '../utils/EventDispatcher';\n\nconst VK_LEFT = 37;\nconst VK_UP = 38;\nconst VK_RIGHT = 39;\nconst VK_DOWN = 40;\n\nconst STATE = {\n  NONE: -1, ROTATE: 0, TRANSLATE: 1, SCALE: 2, TRANSLATE_PIVOT: 3,\n};\n\n// pausing for this amount of time before releasing mouse button prevents inertial rotation (seconds)\nconst FULL_STOP_THRESHOLD = 0.1;\n\nconst quaternion = new THREE.Quaternion();\nconst matrix4 = new THREE.Matrix4();\n\n// pivot -- local offset of the rotation pivot point\nfunction ObjectHandler(objects, camera, pivot, options) {\n  this.objects = objects;\n  [this.object] = objects;\n  this.camera = camera;\n  this.pivot = pivot;\n  this.axis = new THREE.Vector3(0, 0, 1);\n  this.options = options;\n\n  this.lastRotation = {\n    axis: new THREE.Vector3(),\n    angle: 0.0,\n  };\n}\n\nObjectHandler.prototype._rotate = (function () {\n  const p = new THREE.Vector3();\n  const q = new THREE.Quaternion();\n  const s = new THREE.Vector3();\n\n  const m = new THREE.Matrix4();\n\n  return function (quat) {\n    const zeroPivot = (this.pivot.x === 0.0 && this.pivot.y === 0.0 && this.pivot.z === 0.0);\n\n    m.copy(this.object.matrix);\n\n    if (zeroPivot) {\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n    } else {\n      m.multiply(matrix4.makeTranslation(this.pivot.x, this.pivot.y, this.pivot.z));\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n      m.multiply(matrix4.makeTranslation(-this.pivot.x, -this.pivot.y, -this.pivot.z));\n    }\n\n    m.decompose(p, q, s);\n\n    // update objects\n    if (!zeroPivot) {\n      for (let i = 0; i < this.objects.length; ++i) {\n        this.objects[i].position.copy(p);\n      }\n    }\n\n    for (let j = 0; j < this.objects.length; ++j) {\n      this.objects[j].quaternion.copy(q);\n      this.objects[j].updateMatrix();\n    }\n  };\n}());\n\nObjectHandler.prototype.setObjects = function (objects) {\n  this.objects = objects;\n  [this.object] = objects;\n};\n\nObjectHandler.prototype.rotate = (function () {\n  const rot = {\n    axis: new THREE.Vector3(),\n    angle: 0.0,\n  };\n\n  return function (quat, mousePrevPos, mouseCurPos, aboutAxis) {\n    this.mouse2rotation(rot, mousePrevPos, mouseCurPos, aboutAxis);\n    quat.setFromAxisAngle(rot.axis, rot.angle);\n\n    if (rot.angle) {\n      this._rotate(quat);\n    }\n\n    this.lastRotation = rot;\n  };\n}());\n\nObjectHandler.prototype.translate = (function () {\n  const dir = new THREE.Vector3();\n  const pivot = new THREE.Vector3();\n\n  return function (delta) {\n    // reverse-project viewport movement to view coords (compensate for screen aspect ratio)\n    dir.set(\n      delta.x / this.camera.projectionMatrix.elements[0],\n      delta.y / this.camera.projectionMatrix.elements[5], 0,\n    );\n    let dist = dir.length();\n    dir.normalize();\n\n    // transform movement direction to object local coords\n    dir.transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n\n    // visible translate distance shouldn't depend on camera-to-object distance\n    pivot.copy(this.pivot);\n    this.object.localToWorld(pivot);\n    dist *= Math.abs(pivot.z - this.camera.position.z);\n\n    // visible translate distance shouldn't depend on object scale\n    dist /= this.object.matrixWorld.getMaxScaleOnAxis();\n\n    // all objects are translated similar to principal object\n    // (we assume they all have identical pivot and scale)\n    for (let i = 0; i < this.objects.length; ++i) {\n      this.objects[i].translateOnAxis(dir, dist);\n    }\n  };\n}());\n\nObjectHandler.prototype.update = (function () {\n  const axis = new THREE.Vector3();\n\n  return function (timeSinceLastUpdate, timeSinceMove) {\n    if (settings.now.autoRotation !== 0.0) {\n      // auto-rotation with constant speed\n\n      // if rotation axis is fixed or hasn't been defined yet\n      if (settings.now.autoRotationAxisFixed || this.lastRotation.axis.length() === 0.0) {\n        // use Y-axis (transformed to local object coords)\n        axis.set(0, 1, 0).transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n      } else {\n        // use axis defined by last user rotation\n        axis.copy(this.lastRotation.axis);\n      }\n\n      this._rotate(quaternion.setFromAxisAngle(axis, settings.now.autoRotation * timeSinceLastUpdate));\n      return true;\n    }\n\n    if (this.options.intertia && this.lastRotation.angle) {\n      // inertial object rotation\n      const angle = this.lastRotation.angle * ((1.0 - this.options.dynamicDampingFactor) ** (40.0 * timeSinceMove));\n\n      if (Math.abs(angle) <= this.options.intertiaThreshold) {\n        this.lastRotation.angle = 0.0;\n      } else {\n        this._rotate(quaternion.setFromAxisAngle(this.lastRotation.axis, angle));\n        return true;\n      }\n    }\n\n    return false;\n  };\n}());\n\nObjectHandler.prototype.stop = function () {\n  this.lastRotation.angle = 0.0;\n};\n\n// calculate (axis, angle) pair from mouse/touch movement\nObjectHandler.prototype.mouse2rotation = (function () {\n  const center = new THREE.Vector3();\n\n  const eye = new THREE.Vector3();\n  const eyeDirection = new THREE.Vector3();\n\n  const cameraUpDirection = new THREE.Vector3();\n  const cameraSidewaysDirection = new THREE.Vector3();\n\n  const moveDirection = new THREE.Vector3();\n\n  const mouseDelta = new THREE.Vector2();\n\n  return function (rot, mousePrev, mouseCur, aboutAxis) {\n    if (aboutAxis) {\n      rot.axis.copy(this.axis);\n      rot.angle = this.options.axisRotateFactor * (mouseCur.y - mousePrev.y);\n\n      /* cool method that allows rotation around Z axis to be \"tied\" to mouse cursor\n\n        res.axis.copy(this.axis);\n\n        var pivot = this.pivot.clone();\n        this.object.localToWorld(pivot);\n        pivot.project(this.camera);\n\n        var v1 = new THREE.Vector3(mousePrev.x, mousePrev.y, this.camera.position.z);\n        v1.sub(pivot);\n        var v2 = new THREE.Vector3(mouseCur.x, mouseCur.y, this.camera.position.z);\n        v2.sub(pivot);\n\n        v1.sub(res.axis.clone().multiplyScalar(v1.dot(res.axis)));\n        v2.sub(res.axis.clone().multiplyScalar(v2.dot(res.axis)));\n\n        var abs = v1.length() * v2.length();\n        if (abs > 0) {\n          res.angle = res.axis.dot(v1.cross(v2)) / abs;\n        }\n      */\n    } else {\n      mouseDelta.subVectors(mouseCur, mousePrev);\n      const angle = mouseDelta.length();\n      if (angle === 0.0) {\n        return;\n      }\n\n      center.copy(this.pivot);\n      this.object.localToWorld(center);\n      eye.subVectors(this.camera.position, center);\n      eyeDirection.copy(eye).normalize();\n\n      cameraUpDirection.copy(this.camera.up).normalize();\n      cameraSidewaysDirection.crossVectors(cameraUpDirection, eyeDirection).normalize();\n\n      cameraUpDirection.setLength(mouseDelta.y);\n      cameraSidewaysDirection.setLength(mouseDelta.x);\n\n      moveDirection.copy(cameraUpDirection.add(cameraSidewaysDirection));\n\n      rot.axis.crossVectors(moveDirection, eye);\n\n      rot.angle = -angle * this.options.rotateFactor;\n    }\n\n    rot.axis.transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n\n    // make sure angle is always positive (thus 'axis' defines both axis and direction of rotation)\n    if (rot.angle < 0.0) {\n      rot.axis.negate();\n      rot.angle = -rot.angle;\n    }\n  };\n}());\n\nfunction ObjectControls(object, objectPivot, camera, domElement, getAltObj) {\n  EventDispatcher.call(this);\n  const self = this;\n\n  this.object = object;\n  this.objectPivot = objectPivot;\n  this.camera = camera;\n  this.domElement = (typeof domElement !== 'undefined') ? domElement : document;\n  this.getAltObj = getAltObj;\n\n  // API\n\n  this.enabled = true;\n  this.hotkeysEnabled = true;\n\n  this.screen = {\n    left: 0, top: 0, width: 0, height: 0,\n  };\n\n  this.options = {\n    rotateFactor: Math.PI, // full screen slide (along short side) would roughly mean 180 deg. rotation\n    axisRotateFactor: 4 * Math.PI, // full screen slide (along short side) would roughly mean 720 deg. rotation\n    intertia: true,\n    dynamicDampingFactor: 0.1,\n    intertiaThreshold: 1e-3,\n  };\n\n  // internals\n\n  this._state = STATE.NONE;\n\n  this._mousePrevPos = new THREE.Vector2();\n  this._mouseCurPos = new THREE.Vector2();\n\n  this._mainObj = new ObjectHandler([this.object], this.camera, new THREE.Vector3(0, 0, 0), this.options);\n  this._altObj = new ObjectHandler([this.object], this.camera, new THREE.Vector3(0, 0, 0), this.options);\n  this._affectedObj = this._mainObj;\n  this._isAltObjFreeRotationAllowed = true;\n  this._isTranslationAllowed = true;\n  this._isKeysTranslatingObj = false;\n\n  this._pressedKeys = [];\n\n  this._clock = new Timer();\n  this._clock.start();\n  this._lastUpdateTime = this._clock.getElapsedTime();\n\n  // events\n  this._listeners = [\n    {\n      obj: self.domElement,\n      type: 'mousedown',\n      handler(e) {\n        self.mousedown(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseup',\n      handler(e) {\n        self.mouseup(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mousemove',\n      handler(e) {\n        self.mousemove(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mousewheel',\n      handler(e) {\n        self.mousewheel(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'DOMMouseScroll',\n      handler(e) {\n        self.mousewheel(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseout',\n      handler(e) {\n        self.mouseup(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchstart',\n      handler(e) {\n        self.touchstartend(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchend',\n      handler(e) {\n        self.touchstartend(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchmove',\n      handler(e) {\n        self.touchmove(e);\n      },\n    },\n    {\n      obj: self.getKeyBindObject(),\n      type: 'keydown',\n      handler(e) {\n        self.keydownup(e);\n      },\n    },\n    {\n      obj: self.getKeyBindObject(),\n      type: 'keyup',\n      handler(e) {\n        self.keydownup(e);\n      },\n    },\n    {\n      obj: window,\n      type: 'resize',\n      handler() {\n        self.handleResize();\n      },\n    },\n    {\n      obj: window,\n      type: 'blur',\n      handler() {\n        self.resetKeys();\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'contextmenu',\n      handler(e) {\n        self.contextmenu(e);\n      },\n    }];\n\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n\n  this.handleResize();\n\n  this.resetKeys();\n\n  // force an update at start\n  this.update();\n}\n\n// methods\n\nObjectControls.prototype = Object.create(EventDispatcher.prototype);\nObjectControls.prototype.constructor = ObjectControls;\n\nObjectControls.prototype.resetKeys = function () {\n  this._pressedKeys[VK_LEFT] = false;\n  this._pressedKeys[VK_UP] = false;\n  this._pressedKeys[VK_RIGHT] = false;\n  this._pressedKeys[VK_DOWN] = false;\n};\n\nObjectControls.prototype.contextmenu = function (e) {\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nObjectControls.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    const box = this.domElement.getBoundingClientRect();\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\n\nObjectControls.prototype.enable = function (enable) {\n  this.enabled = enable;\n};\n\nObjectControls.prototype.enableHotkeys = function (enable) {\n  this.hotkeysEnabled = enable;\n};\n\nObjectControls.prototype.allowTranslation = function (allow) {\n  this._isTranslationAllowed = allow;\n};\n\nObjectControls.prototype.allowAltObjFreeRotation = function (allow) {\n  this._isAltObjFreeRotationAllowed = allow;\n};\n\nObjectControls.prototype.keysTranslateObj = function (on) {\n  this._isKeysTranslatingObj = on;\n};\n\nObjectControls.prototype.isEditingAltObj = function () {\n  return ((this._state === STATE.ROTATE) || (this._state === STATE.TRANSLATE))\n            && (this._affectedObj === this._altObj);\n};\n\n// convert page coords of mouse/touch to uniform coords with smaller side being [-0.5, 0.5]\n// (uniform coords keep direct proportion with screen distance travelled by mouse regardless of screen aspect ratio)\nObjectControls.prototype.convertMouseToOnCircle = function (coords, pageX, pageY) {\n  const screenSize = Math.min(this.screen.width, this.screen.height);\n\n  if (screenSize === 0) {\n    coords.set(0, 0);\n    return;\n  }\n\n  coords.set(\n    ((pageX - this.screen.width * 0.5 - this.screen.left) / screenSize),\n    ((0.5 * this.screen.height + this.screen.top - pageY) / screenSize),\n  );\n};\n\n// convert page coords of mouse/touch to viewport coords with both sides being [-1, 1]\n// (those are non-uniform coords affected by screen aspect ratio)\nObjectControls.prototype.convertMouseToViewport = function (coords, pageX, pageY) {\n  if (this.screen.width === 0 || this.screen.height === 0) {\n    coords.set(0, 0);\n    return;\n  }\n\n  coords.set(\n    (2.0 * (pageX - this.screen.width * 0.5 - this.screen.left) / this.screen.width),\n    (2.0 * (0.5 * this.screen.height + this.screen.top - pageY) / this.screen.height),\n  );\n};\n\nObjectControls.prototype.stop = function () {\n  this._mainObj.stop();\n  this._altObj.stop();\n};\n\n// rotate object based on latest mouse/touch movement\nObjectControls.prototype.rotateByMouse = (function () {\n  const quat = new THREE.Quaternion();\n\n  return function (aboutZAxis) {\n    this._affectedObj.rotate(quat, this._mousePrevPos, this._mouseCurPos, aboutZAxis);\n    this.dispatchEvent({ type: 'change', action: 'rotate', quaternion: quat });\n  };\n}());\n\n// rotate object by specified quaternion\nObjectControls.prototype.rotate = function (quat) {\n  this.object.quaternion.multiply(quat);\n  this.dispatchEvent({ type: 'change', action: 'rotate', quaternion: quat });\n};\n\n// get object's orientation\nObjectControls.prototype.getOrientation = function () {\n  return this.object.quaternion;\n};\n\n// set object's orientation\nObjectControls.prototype.setOrientation = function (quat) {\n  this.object.quaternion.copy(quat);\n};\n\n// translate object based on latest mouse/touch movement\nObjectControls.prototype.translate = (function () {\n  const delta = new THREE.Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this._affectedObj.translate(delta);\n    this.dispatchEvent({ type: 'change', action: 'translate' });\n  };\n}());\n\n// get object scale\nObjectControls.prototype.getScale = function () {\n  return this.object.scale.x;\n};\n\n// set uniform object scale\nObjectControls.prototype.setScale = function (scale) {\n  this.object.scale.set(scale, scale, scale);\n};\n\n// scale object by factor (factor should be greater than zero)\nObjectControls.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    return;\n  }\n  this.setScale(this.object.scale.x * factor);\n  this.dispatchEvent({ type: 'change', action: 'zoom', factor });\n};\n\nObjectControls.prototype.update = (function () {\n  const shift = new THREE.Vector2();\n\n  return function () {\n    const curTime = this._clock.getElapsedTime();\n    const timeSinceLastUpdate = curTime - this._lastUpdateTime;\n\n    // update object handler\n    if (this._state === STATE.NONE) {\n      const timeSinceMove = curTime - this._lastMouseMoveTime;\n      if (this._mainObj.update(timeSinceLastUpdate, timeSinceMove)\n        || this._altObj.update(timeSinceLastUpdate, timeSinceMove)) {\n        this.dispatchEvent({ type: 'change', action: 'auto' });\n      }\n    }\n\n    // apply arrow keys\n    if (this._isKeysTranslatingObj) {\n      const speedX = Number(this._pressedKeys[VK_RIGHT]) - Number(this._pressedKeys[VK_LEFT]);\n      const speedY = Number(this._pressedKeys[VK_UP]) - Number(this._pressedKeys[VK_DOWN]);\n      if (speedX !== 0.0 || speedY !== 0.0) {\n        const delta = timeSinceLastUpdate;\n\n        // update object translation\n        const altObj = this.getAltObj();\n        if (altObj.objects.length > 0) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n\n          shift.set(delta * speedX, delta * speedY);\n          this._altObj.translate(shift);\n          this.dispatchEvent({ type: 'change', action: 'translate' });\n        }\n      }\n    }\n\n    this._lastUpdateTime = curTime;\n  };\n}());\n\nObjectControls.prototype.reset = function () {\n  this._state = STATE.NONE;\n\n  this.object.quaternion.copy(quaternion.set(0, 0, 0, 1));\n};\n\n// listeners\n\nObjectControls.prototype.mousedown = function (event) {\n  if (this.enabled === false || this._state !== STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (this._state === STATE.NONE) {\n    if (event.button === 0) {\n      this._affectedObj.stop(); // can edit only one object at a time\n\n      let workWithAltObj = false;\n\n      if (event.altKey) {\n        const altObj = this.getAltObj();\n        workWithAltObj = (altObj.objects.length > 0);\n        if (workWithAltObj) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n        }\n      }\n\n      this._affectedObj = workWithAltObj ? this._altObj : this._mainObj;\n\n      this._state = (workWithAltObj && event.ctrlKey && this._isTranslationAllowed) ? STATE.TRANSLATE : STATE.ROTATE;\n    } else if (event.button === 2) {\n      this._state = STATE.TRANSLATE_PIVOT;\n    }\n  }\n\n  if (this._state === STATE.ROTATE) {\n    this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n\n  if (this._state === STATE.TRANSLATE || this._state === STATE.TRANSLATE_PIVOT) {\n    this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n};\n\nObjectControls.prototype.mousemove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n      this.rotateByMouse((event.altKey && !this._isAltObjFreeRotationAllowed) || event.shiftKey);\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n\n    case STATE.TRANSLATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translate();\n      break;\n\n    case STATE.TRANSLATE_PIVOT:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translatePivotByMouse();\n      break;\n\n    default: break;\n  }\n};\n\nObjectControls.prototype.mousewheel = function (event) {\n  if (this.enabled === false || !settings.now.zooming || this._state !== STATE.NONE || event.shiftKey) {\n    return;\n  }\n\n  event.preventDefault();\n\n  let delta = 0;\n\n  if (event.wheelDelta) {\n    // WebKit / Opera / Explorer 9\n    delta = event.wheelDelta / 40;\n  } else if (event.detail) {\n    // Firefox\n    delta = -event.detail / 3;\n  }\n\n  let factor = 1.0 + delta * 0.05;\n  factor = Math.max(factor, 0.01);\n  this.scale(factor);\n};\n\nObjectControls.prototype.mouseup = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  this._state = STATE.NONE;\n\n  if (this._clock.getElapsedTime() - this._lastMouseMoveTime > FULL_STOP_THRESHOLD) {\n    this._affectedObj.stop();\n  }\n};\n\nObjectControls.prototype.touchstartend = function (event) {\n  if (this.enabled === false) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  switch (event.touches.length) {\n    case 1:\n      this._state = STATE.ROTATE;\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this._mousePrevPos.copy(this._mouseCurPos);\n      break;\n\n    case 2: {\n      // prevent inertial rotation\n      this._mainObj.stop();\n      this._altObj.stop();\n\n      this._state = STATE.SCALE;\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      this._touchDistanceCur = this._touchDistanceStart = Math.sqrt(dx * dx + dy * dy);\n      this._scaleStart = this.object.scale.x;\n      break;\n    }\n\n    default:\n      this._state = STATE.NONE;\n  }\n};\n\nObjectControls.prototype.touchmove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this.rotateByMouse(false);\n\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n\n    case STATE.SCALE:\n      if (settings.now.zooming) {\n        // update scale\n        const dx = event.touches[0].pageX - event.touches[1].pageX;\n        const dy = event.touches[0].pageY - event.touches[1].pageY;\n        this._touchDistanceCur = Math.sqrt(dx * dx + dy * dy);\n        const newScale = this._scaleStart * this._touchDistanceCur / this._touchDistanceStart;\n        const factor = newScale / this.object.scale.x;\n        this.scale(factor);\n      }\n      break;\n\n    default:\n  }\n};\n\nObjectControls.prototype.keydownup = function (event) {\n  if (this.enabled === false || this.hotkeysEnabled === false) {\n    return;\n  }\n\n  switch (event.keyCode) {\n    case VK_LEFT:\n    case VK_UP:\n    case VK_RIGHT:\n    case VK_DOWN:\n      this._pressedKeys[event.keyCode] = (event.type === 'keydown');\n      event.preventDefault();\n      event.stopPropagation();\n      break;\n    default:\n  }\n};\n\nObjectControls.prototype.getKeyBindObject = function () {\n  return window.top;\n};\n\nObjectControls.prototype.dispose = function () {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\n\nObjectControls.prototype.translatePivotByMouse = (function () {\n  const delta = new THREE.Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this.translatePivotInWorld(settings.now.translationSpeed * delta.x, settings.now.translationSpeed * delta.y, 0);\n  };\n}());\n\n// Translate in WorldCS, translation is scaled with root scale matrix\nObjectControls.prototype.translatePivotInWorld = function (x, y, z) {\n  const pos = this.objectPivot.position;\n  pos.applyMatrix4(this.object.matrixWorld);\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n  pos.applyMatrix4(matrix4.copy(this.object.matrixWorld).invert());\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' });\n};\n\n// Translate in ModelCS, x, y, z are Ang\nObjectControls.prototype.translatePivot = function (x, y, z) {\n  const pos = this.objectPivot.position;\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' });\n};\n\n// Set pivot\nObjectControls.prototype.setPivot = function (newPivot) {\n  this.objectPivot.position.copy(newPivot);\n\n  this.dispatchEvent({ type: 'change', action: 'translatePivot' });\n};\n\nexport default ObjectControls;\n","import * as THREE from 'three';\nimport settings from '../settings';\nimport Timer from '../Timer';\nimport EventDispatcher from '../utils/EventDispatcher';\n\nfunction Picker(gfxObj, camera, domElement) {\n  EventDispatcher.call(this);\n  const self = this;\n\n  this.gfxObj = gfxObj;\n  this.camera = camera;\n  this.domElement = (typeof domElement !== 'undefined') ? domElement : document;\n  this.screen = {\n    left: 0, top: 0, width: 0, height: 0,\n  };\n  this._lastMousePos = new THREE.Vector2(0, 0);\n  this._mouseTotalDist = 0.0;\n  this._lastClickBeginTime = -1000.0;\n  this._lastClickPos = new THREE.Vector2(0, 0);\n  this._clickBeginTime = 0.0;\n\n  this._clock = new Timer();\n  this._clock.start();\n\n  this._listeners = [\n    {\n      obj: self.domElement,\n      type: 'mousedown',\n      handler(e) {\n        self.mousedown(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mouseup',\n      handler(e) {\n        self.mouseup(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'mousemove',\n      handler(e) {\n        self.mousemove(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchstart',\n      handler(e) {\n        self.touchstart(e);\n      },\n    },\n    {\n      obj: self.domElement,\n      type: 'touchend',\n      handler(e) {\n        self.touchend(e);\n      },\n    },\n    {\n      obj: window,\n      type: 'resize',\n      handler() {\n        self.handleResize();\n      },\n    }];\n\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n\n  this.handleResize();\n}\n\nPicker.prototype = Object.create(EventDispatcher.prototype);\nPicker.prototype.constructor = Picker;\n\nPicker.prototype.reset = function () {\n  this.picked = {};\n  this.dispatchEvent({ type: 'newpick', obj: {} });\n};\n\nPicker.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    const box = this.domElement.getBoundingClientRect();\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\n\nPicker.prototype.pickObject = function (screenPos) {\n  if (!this.gfxObj) {\n    this.picked = {};\n    this.dispatchEvent({ type: 'newpick', obj: {} });\n    return;\n  }\n\n  const { gfxObj } = this;\n  const rayCaster = new THREE.Raycaster();\n  rayCaster.ray.origin.setFromMatrixPosition(this.camera.matrixWorld);\n  rayCaster.ray.direction.set(screenPos.x, screenPos.y, 0.5).unproject(this.camera).sub(rayCaster.ray.origin).normalize();\n\n  const clipPlane = (settings.now.draft.clipPlane && this.clipPlaneValue) ? this.clipPlaneValue : Infinity;\n  const fogFarPlane = (settings.now.fog && this.fogFarValue) ? this.fogFarValue : Infinity;\n  const point = rayCaster.intersectVisibleObject(gfxObj, this.camera, clipPlane, fogFarPlane);\n  if (!point) {\n    this.picked = {};\n    this.dispatchEvent({ type: 'newpick', obj: {} });\n    return;\n  }\n\n  let picked = {};\n  if (point.residue || point.atom) {\n    const residue = point.residue || point.atom.residue;\n    if (settings.now.pick === 'chain') {\n      picked = { chain: residue.getChain() };\n    } else if (settings.now.pick === 'molecule') {\n      picked = { molecule: residue.getMolecule() };\n    } else if (point.residue || settings.now.pick === 'residue') {\n      picked = { residue };\n    } else if (point.atom) {\n      picked = { atom: point.atom };\n    }\n  }\n  this.picked = picked;\n  this.dispatchEvent({ type: 'newpick', obj: picked });\n};\n\nPicker.prototype.getMouseInViewport = function (pageX, pageY) {\n  return new THREE.Vector2(\n    (pageX - this.screen.left) / this.screen.width * 2 - 1,\n    -(pageY - this.screen.top) / this.screen.height * 2 + 1,\n  );\n};\n\nPicker.prototype.mousedown = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.button === 0) {\n    this._lastMousePos = this.getMouseInViewport(event.pageX, event.pageY);\n    this._mouseTotalDist = 0.0;\n    this._clickBeginTime = this._clock.getElapsedTime();\n  }\n};\n\nPicker.prototype.mousemove = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  const pos = this.getMouseInViewport(event.pageX, event.pageY);\n  this._mouseTotalDist += pos.sub(this._lastMousePos).length();\n};\n\nPicker.prototype.mouseup = function (event) {\n  const self = this;\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.button === 0) {\n    if (this._mouseTotalDist < 0.01) {\n      const curTime = this._clock.getElapsedTime();\n      const curPos = this.getMouseInViewport(event.pageX, event.pageY);\n\n      const timeSinceLastClickBegin = curTime - this._lastClickBeginTime;\n      if (timeSinceLastClickBegin < 0.7) {\n        const clickDist = new THREE.Vector2().subVectors(curPos, this._lastClickPos);\n        if (clickDist.length() < 0.01) {\n          // it's a double click\n          this.dispatchEvent({ type: 'dblclick', obj: this.picked });\n\n          this._lastClickPos = curPos;\n          this._lastClickBeginTime = -1000; // this click cannot serve as first click in double-click\n          return;\n        }\n      }\n\n      setTimeout(() => {\n        self.pickObject(curPos);\n      }, 0);\n\n      this._lastClickPos = curPos;\n      this._lastClickBeginTime = this._clickBeginTime;\n    }\n  }\n};\n\nPicker.prototype.touchstart = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.touches.length === 1) {\n    this._lastTouchdownPos = this.getMouseInViewport(event.touches[0].pageX, event.touches[0].pageY);\n  }\n};\n\nPicker.prototype.touchend = function (event) {\n  const self = this;\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  if (event.touches.length === 0\n        && event.changedTouches.length === 1) {\n    const pos = this.getMouseInViewport(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    const dist = pos.sub(this._lastTouchdownPos).length();\n    if (dist < 0.01) {\n      setTimeout(() => {\n        self.pickObject(self._lastTouchdownPos);\n      }, 0);\n    }\n  }\n};\n\nPicker.prototype.dispose = function () {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\n\nexport default Picker;\n","import * as THREE from 'three';\n\nclass Axes {\n  constructor(target, targetCamera) {\n    this._target = target;\n    this._targetCamera = targetCamera;\n    this._camera = new THREE.PerspectiveCamera(targetCamera.fov, targetCamera.aspect, 1, 100);\n    this._object = new THREE.AxesHelper(1);\n    this._scene = new THREE.Scene();\n    this._scene.add(this._object);\n    this._full = new THREE.Vector2();\n\n    this._update();\n  }\n\n  _update() {\n    const { fov } = this._targetCamera;\n    const camera = this._camera;\n    camera.aspect = this._targetCamera.aspect;\n    camera.setMinimalFov(fov);\n    camera.setDistanceToFit(1.0, fov);\n    camera.updateProjectionMatrix();\n\n    this._object.quaternion.copy(this._target.quaternion);\n  }\n\n  render(renderer) {\n    this._update();\n\n    renderer.getSize(this._full);\n    const width = this._full.width * 0.25;\n    const height = this._full.height * 0.25;\n\n    const { autoClear } = renderer;\n    renderer.autoClear = false;\n    renderer.setViewport(0.0, 0.0, width, height);\n    renderer.clear(false, true, false);\n    renderer.render(this._scene, this._camera);\n    renderer.setViewport(0, 0, this._full.width, this._full.height);\n    renderer.autoClear = autoClear;\n  }\n}\nexport default Axes;\n","import * as THREE from 'three';\nimport SecondaryStructureColorer from './colorers/SecondaryStructureColorer';\n\nconst cDataOffset = 12;\nconst cFirstMask = 0x0FFFFF00;\nconst cFirstShift = 8;\nconst cSecMask1 = 0x000000FF;\nconst cSecShift1 = 12;\nconst cSecMask2 = 0xFFF00000;\nconst cSecShift2 = 20;\nconst cThirdMask = 0x000FFFFF;\nconst cStrMask = 0xF0000000;\nconst cStrShift = 28;\nconst c219 = 1 << 19;\nconst c220 = 1 << 20;\n\nconst cHelixIdx = 1;\nconst cSheetIdx = 2;\nconst secTypes = ['helix', 'strand'];\nconst cSecNames = ['fs', 'ps', 'ns', 'us'];\n\nfunction _createSecondary(strArray, complex) {\n  const residues = complex._residues;\n  const nRes = residues.length;\n  const resid = new Uint8Array(nRes);\n\n  const atoms = complex._atoms;\n  for (let i = 0, n = strArray.length; i < n; ++i) {\n    const atom = atoms[i];\n    resid[atom.residue._index] = strArray[i];\n  }\n\n  const secondary = [];\n  let rIdx = 0;\n  while (rIdx < nRes) {\n    if (resid[rIdx] !== 0) {\n      const start = rIdx;\n      const val = resid[rIdx];\n      while (rIdx < nRes - 1 && resid[rIdx + 1] === val\n      && residues[rIdx].isConnected(residues[rIdx + 1])) {\n        ++rIdx;\n      }\n      secondary.push({ start, end: rIdx, type: secTypes[val - 1] });\n    }\n    ++rIdx;\n  }\n  return secondary;\n}\n\nfunction fromUInt20ToInt20(uint20) {\n  return uint20 >= c219 ? uint20 - c220 : uint20;\n}\n\nclass FrameInfo {\n  constructor(complex, payload, callbacks) {\n    this._complex = complex;\n    this._secondary = null;\n    this.isLoading = false;\n    this._framesRange = {\n      start: 0,\n      end: -1,\n    };\n    this.frameIsReady = false;\n    this._buffer = null;\n    this._frameRequest = null;\n    this._callbacks = callbacks;\n    if (typeof payload === 'function') {\n      this._framesRequestLength = 1;\n      this._downloadDataFn = payload;\n    } else {\n      this.parseBinaryData(payload, true);\n    }\n    this.reset();\n    this.setFrame(0);\n  }\n\n  _prepareBuffer(framesStart, framesEnd) {\n    if (framesStart === undefined || framesStart === null) {\n      framesStart = 0;\n    }\n    if (framesEnd === undefined || framesEnd === null) {\n      framesEnd = framesStart + this._framesRequestLength;\n    }\n    if (this._framesCount !== undefined) {\n      framesEnd = Math.min(this._framesCount - 1, framesEnd);\n    }\n    if (this._downloadDataFn) {\n      const self = this;\n      const onDone = function (data) {\n        self.isLoading = false;\n        if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n          self._callbacks.onLoadStatusChanged();\n        }\n        self._buffer = {\n          data,\n          state: 'ready',\n          start: framesStart,\n          end: framesEnd,\n        };\n        if (self._frameRequest !== null) {\n          const idx = self._frameRequest;\n          self._frameRequest = null;\n          self.setFrame(idx);\n        }\n      };\n      const onFail = function () {\n        self.isLoading = false;\n        if (self._callbacks && typeof self._callbacks.onError === 'function') {\n          self._callbacks.onError('Streaming failed');\n        }\n      };\n      if (!this._buffer) {\n        this._buffer = {};\n      }\n      this._buffer.state = 'downloading';\n      this.isLoading = true;\n      if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n        self._callbacks.onLoadStatusChanged();\n      }\n      this._downloadDataFn({ start: framesStart, end: framesEnd + 1 }, onDone, onFail);\n    }\n  }\n\n  _parseBuffer() {\n    if (this._buffer && this._buffer.state === 'ready') {\n      this._framesRange = {\n        start: this._buffer.start,\n        end: this._buffer.end,\n      };\n      this.parseBinaryData(this._buffer.data, false);\n      let _bufferRequestStart = (this._buffer.end + 1) % this._framesCount;\n      if (_bufferRequestStart >= this._framesCount) {\n        _bufferRequestStart = 0;\n      }\n      this._buffer = {\n        state: 'none',\n      };\n      this._prepareBuffer(_bufferRequestStart, _bufferRequestStart + this._framesRequestLength);\n      if (this._frameRequest !== null) {\n        const idx = this._frameRequest;\n        this._frameRequest = null;\n        this.setFrame(idx);\n      }\n    }\n  }\n\n  parseBinaryData(arrayBuffer) {\n    const dataView = new DataView(arrayBuffer);\n    let offset = 0;\n    const atomsCount = dataView.getUint32(offset, true);\n    offset += 4;\n    const framesCount = dataView.getUint32(offset, true);\n    this._framesCount = framesCount;\n    this._framesRange.end = this._framesRange.end > 0\n      ? Math.min(this._framesRange.end, framesCount - 1) : framesCount - 1;\n    offset += 4;\n    this._atomsCount = atomsCount;\n    const maxSize = 1024 * 1024; // 1 MB\n    this._framesRequestLength = Math.ceil(maxSize / (atomsCount * 8));\n    const chunkedFramesCount = this._framesRange.end - this._framesRange.start + 1;\n    if (atomsCount !== this._complex._atoms.length\n      || arrayBuffer.byteLength !== cDataOffset + chunkedFramesCount * atomsCount * 8) {\n      throw new Error();\n    }\n    const complex = this._complex;\n    let timeStep = dataView.getUint32(offset, true);\n    let iName = 0;\n    while (timeStep > 1000 && iName < cSecNames.length - 1) {\n      timeStep /= 1000;\n      ++iName;\n    }\n\n    this._timeStep = `${timeStep.toString()} ${cSecNames[iName]}`;\n    offset += 4;\n    const secondary = [];\n    const posData = new Float32Array(chunkedFramesCount * atomsCount * 3);\n    let coordIdx = 0;\n    const secondaryArr = new Int8Array(atomsCount);\n    for (let j = 0; j < chunkedFramesCount; ++j) {\n      for (let i = 0; i < atomsCount; ++i) {\n        const hiWord = dataView.getUint32(offset, true);\n        offset += 4;\n        const loWord = dataView.getUint32(offset, true);\n        offset += 4;\n        const str = (loWord & cStrMask) >>> cStrShift;\n        const x = fromUInt20ToInt20(((loWord & cFirstMask) >>> cFirstShift) >> 0);\n        const y = fromUInt20ToInt20((((loWord & cSecMask1) << cSecShift1)\n          | ((hiWord & cSecMask2) >>> cSecShift2)) >> 0);\n        const z = fromUInt20ToInt20((hiWord & cThirdMask) >> 0);\n        secondaryArr[i] = 0;\n        if (str > 0 && str < 4) {\n          secondaryArr[i] = cHelixIdx;\n        } else if (str === 4) {\n          secondaryArr[i] = cSheetIdx;\n        }\n        posData[coordIdx++] = x / 100;\n        posData[coordIdx++] = y / 100;\n        posData[coordIdx++] = z / 100;\n      }\n      secondary.push(_createSecondary(secondaryArr, complex));\n    }\n    this._secondaryData = secondary;\n    this._data = posData;\n  }\n\n  nextFrame() {\n    this.setFrame((this._currFrame + 1) % this._framesCount);\n  }\n\n  needsColorUpdate(colorer) {\n    return colorer instanceof SecondaryStructureColorer;\n  }\n\n  getAtomColor(colorer, atom) {\n    return colorer.getResidueColor(this._residues[atom.residue._index], this._complex);\n  }\n\n  getResidueColor(colorer, residue) {\n    return colorer.getResidueColor(this._residues[residue._index], this._complex);\n  }\n\n  _updateSecondary() {\n    let i;\n    const myResidues = this._residues;\n    let n = myResidues.length;\n    for (i = 0; i < n; ++i) {\n      myResidues[i]._secondary = null;\n    }\n    const sec = this._secondaryData[this._currFrame - this._framesRange.start];\n    for (i = 0, n = sec.length; i < n; ++i) {\n      const oldSec = sec[i];\n      const { start, end } = oldSec;\n      const nSec = {\n        _start: myResidues[start],\n        _end: myResidues[end],\n        type: oldSec.type,\n        generic: oldSec.generic,\n      };\n      for (let j = start; j <= end; ++j) {\n        myResidues[j]._secondary = nSec;\n      }\n    }\n  }\n\n  reset() {\n    const compRes = this._complex._residues;\n    const n = compRes.length;\n    this._residues = new Array(n);\n    const myResidues = this._residues;\n    const getSec = function () {\n      return this._secondary;\n    };\n    for (let i = 0; i < n; ++i) {\n      myResidues[i] = {\n        _type: compRes[i]._type,\n        _isValid: compRes[i]._isValid,\n        _controlPoint: null,\n        _wingVector: null,\n        _secondary: null,\n        getSecondary: getSec,\n      };\n    }\n  }\n\n  setFrame(frameIdx) {\n    this.frameIsReady = false;\n    if (frameIdx >= this._framesRange.start && frameIdx <= this._framesRange.end) {\n      this._currFrame = frameIdx;\n      this._cachedResidues = false;\n      this._updateSecondary();\n      this.frameIsReady = true;\n    } else {\n      this._frameRequest = frameIdx;\n      if (!this._buffer) {\n        this._prepareBuffer(frameIdx);\n      } else {\n        const self = this;\n        switch (this._buffer.state) {\n          case 'none':\n            this._prepareBuffer(frameIdx);\n            break;\n          case 'ready':\n            self._parseBuffer();\n            break;\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  disableEvents() {\n    this._callbacks = null;\n  }\n\n  /**\n   * Returns link to atom pos vector, clone it if needed\n   */\n\n  static _vec = new THREE.Vector3();\n\n  getAtomPos(atomIdx) {\n    const vec = FrameInfo._vec;\n    const self = this;\n    const data = self._data;\n    const idx = (self._atomsCount * (self._currFrame - self._framesRange.start) + atomIdx) * 3;\n    vec.set(data[idx], data[idx + 1], data[idx + 2]);\n    return vec;\n  }\n\n  getResidues() {\n    if (this._cachedResidues) {\n      return this._residues;\n    }\n    this._complex.updateToFrame(this);\n    return this._residues;\n  }\n}\nexport default FrameInfo;\n","import _ from 'lodash';\nimport settings from '../../settings';\nimport utils from '../../utils';\nimport gfxutils from '../gfxutils';\n\n/**\n * Create new scene object.\n *\n * @param {array=} params - Object required params.\n * @param {object=} opts - Options to override defaults with.\n *\n *   These options are copied locally and not kept by reference, so the created instance will not reflect further\n *   changes to the `opts` object. However, changes in defaults **will** affect the colorer after its creation.\n *\n * @exports SceneObject\n * @this SceneObject\n * @abstract\n * @constructor\n * @classdesc Basic class for all scene objects that are not reps.\n */\nclass SceneObject {\n  constructor(params, opts) {\n    if (this.constructor === SceneObject) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    /**\n     * Object's options inherited (prototyped) from defaults.\n     * @type {object}\n     */\n    this.params = params;\n    this.opts = _.merge(utils.deriveDeep(settings.now.objects[this.type], true), opts);\n    this.needsRebuild = false;\n    this._mesh = null;\n    this.id = null;\n  }\n\n  /**\n   * Get object identification, probably with options.\n   *  @returns {Object} field type contains type information, params - object's formal parameters,\n   * opts - changed options\n   * Options are returned if they were changed during or after object creation.\n   */\n  identify() {\n    const result = {\n      type: this.type,\n      params: this.params,\n    };\n    const diff = utils.objectsDiff(this.opts, settings.now.modes[this.id]);\n    if (!_.isEmpty(diff)) {\n      result.opts = diff;\n    }\n    return result;\n  }\n\n  toString() {\n    const paramsStr = `o=${this.type},${this.params.join(',')}`;\n    const optsStr = utils.compareOptionsWithDefaults(this.opts, settings.defaults.objects[this.type]);\n    return paramsStr + optsStr;\n  }\n\n  getGeometry() {\n    return this._mesh;\n  }\n\n  destroy() {\n    if (this._mesh) {\n      gfxutils.destroyObject(this._mesh);\n    }\n  }\n}\n\n/**\n * Scene object identifier.\n * @type {string}\n */\nSceneObject.prototype.type = '__';\n\nexport default SceneObject;\n","import * as THREE from 'three';\nimport SceneObject from './SceneObject';\nimport meshutils from '../meshutils';\nimport UberMaterial from '../shaders/UberMaterial';\nimport meshes from '../meshes/meshes';\nimport settings from '../../settings';\n\nclass LinesObj extends SceneObject {\n  constructor(params, opts) {\n    super(params, opts);\n    if (params.length < 2) {\n      throw new Error('Wrong number of argumets on line object creation!');\n    }\n    [this._id1, this._id2] = params;\n  }\n\n  _getAtomFromName(complex, atomId) {\n    const err = ' - Wrong atom format it must be \\'#CHAIN_NAME.#RESIDUE_NUMBER.#ATOM_NAME\\' (e.g. \\'A.38.CO1\\')';\n    const atom1 = complex.getAtomByFullname(atomId);\n    if (!atom1) {\n      throw new Error(atomId + err);\n    }\n    return atom1;\n  }\n\n  build(complex) {\n    const geom = new THREE.BufferGeometry();\n    this._atom1 = this._getAtomFromName(complex, this._id1);\n    this._atom2 = this._getAtomFromName(complex, this._id2);\n\n    const p1 = this._atom1.position;\n    const p2 = this._atom2.position;\n    const vertices = new Float32Array([\n      p1.x, p1.y, p1.z,\n      p2.x, p2.y, p2.z,\n    ]);\n\n    geom.setAttribute('position', new THREE.BufferAttribute(vertices, 3));\n    geom.computeBoundingBox();\n\n    this._line = new meshes.Line(geom, new UberMaterial({\n      lights: false,\n      overrideColor: true,\n      dashedLine: true,\n      fogTransparent: settings.now.bg.transparent,\n    }));\n    this._line.computeLineDistances();\n    this._line.material.setUberOptions({\n      fixedColor: new THREE.Color(this.opts.color),\n      dashedLineSize: this.opts.dashSize,\n      dashedLinePeriod: this.opts.dashSize + this.opts.gapSize,\n    });\n    this._line.material.updateUniforms();\n\n    this._line.raycast = function (_raycaster, _intersects) {};\n    this._mesh = this._line;\n    const transforms = complex.getTransforms();\n    if (transforms.length > 0) {\n      this._mesh = new THREE.Group();\n      this._mesh.add(this._line);\n      meshutils.applyTransformsToMeshes(this._mesh, transforms);\n    }\n  }\n\n  updateToFrame(frameData) {\n    if (!this._atom1 || !this._atom2 || !this._line) {\n      return;\n    }\n\n    const geo = this._line.geometry;\n    geo.vertices[0].copy(frameData.getAtomPos(this._atom1.index));\n    geo.vertices[1].copy(frameData.getAtomPos(this._atom2.index));\n    this._line.computeLineDistances();\n    geo.computeBoundingSphere();\n\n    geo.verticesNeedUpdate = true;\n  }\n}\n\nLinesObj.prototype.constructor = LinesObj;\nLinesObj.prototype.type = 'line';\n\nexport default LinesObj;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './Outline.frag';\n\nclass OutlineMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    // add depth outline\n    super(params);\n\n    const settings = {\n      uniforms: {\n        srcTex: { type: 't', value: null },\n        srcDepthTex: { type: 't', value: null },\n        srcTexSize: { type: 'v2', value: new THREE.Vector2(512, 512) },\n        color: { type: 'v3', value: null },\n        threshold: { type: 'f', value: null },\n        opacity: { type: 'f', value: 1.0 },\n        thickness: { type: 'v2', value: new THREE.Vector2(1, 1) },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false,\n    };\n\n    this.setValues(settings);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.depth = source.depth;\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return;\n    }\n\n    // set direct values\n    super.setValues(values);\n    const defines = {};\n\n    if (this.depth) {\n      defines.DEPTH_OUTLINE = 1;\n    }\n\n    // set dependent values\n    this.defines = defines;\n  }\n}\n\nOutlineMaterial.prototype.depth = false;\n\nexport default OutlineMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './FXAA.frag';\n\nclass FXAAMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params);\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        srcTex: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        bgColor: { type: 'c', value: new THREE.Color(0xffffff) },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    this.setValues(params);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.depth = source.depth;\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return;\n    }\n\n    // set direct values\n    super.setValues(values);\n\n    const defines = {};\n\n    if (this.bgTransparent) {\n      defines.BG_TRANSPARENT = 1;\n    }\n    // set dependent values\n    this.defines = defines;\n  }\n}\n\nFXAAMaterial.prototype.bgTransparent = false;\n\nexport default FXAAMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './AO.frag';\nimport noise from '../noiseTexture';\n\nconst _samplesKernel = [\n  // hemisphere samples adopted to sphere\n  new THREE.Vector3(0.295184, 0.077723, 0.068429),\n  new THREE.Vector3(-0.271976, -0.365221, 0.838363),\n  new THREE.Vector3(0.547713, 0.467576, 0.488515),\n  new THREE.Vector3(0.662808, -0.031733, 0.584758),\n  new THREE.Vector3(-0.025717, 0.218955, 0.657094),\n  new THREE.Vector3(-0.310153, -0.365223, 0.370701),\n  new THREE.Vector3(-0.101407, -0.006313, 0.747665),\n  new THREE.Vector3(-0.769138, 0.360399, 0.086847),\n  new THREE.Vector3(-0.271988, -0.275140, 0.905353),\n  new THREE.Vector3(0.096740, -0.566901, 0.700151),\n  new THREE.Vector3(0.562872, -0.735136, 0.094647),\n  new THREE.Vector3(0.379877, 0.359278, 0.190061),\n  new THREE.Vector3(0.519064, -0.023055, 0.405068),\n  new THREE.Vector3(-0.301036, 0.114696, 0.088885),\n  new THREE.Vector3(-0.282922, 0.598305, 0.487214),\n  new THREE.Vector3(-0.181859, 0.251670, 0.679702),\n  new THREE.Vector3(-0.191463, -0.635818, 0.512919),\n  new THREE.Vector3(-0.293655, 0.427423, 0.078921),\n  new THREE.Vector3(-0.267983, 0.680534, 0.132880),\n  new THREE.Vector3(0.139611, 0.319637, 0.477439),\n  new THREE.Vector3(-0.352086, 0.311040, 0.653913),\n  new THREE.Vector3(0.321032, 0.805279, 0.487345),\n  new THREE.Vector3(0.073516, 0.820734, 0.414183),\n  new THREE.Vector3(-0.155324, 0.589983, 0.411460),\n  new THREE.Vector3(0.335976, 0.170782, 0.527627),\n  new THREE.Vector3(0.463460, -0.355658, 0.167689),\n  new THREE.Vector3(0.222654, 0.596550, 0.769406),\n  new THREE.Vector3(0.922138, -0.042070, 0.147555),\n  new THREE.Vector3(-0.727050, -0.329192, 0.369826),\n  new THREE.Vector3(-0.090731, 0.533820, 0.463767),\n  new THREE.Vector3(-0.323457, -0.876559, 0.238524),\n  new THREE.Vector3(-0.663277, -0.372384, 0.342856),\n];\n\nclass AOMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super();\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        noiseTexture: { type: 't', value: noise.noiseTexture },\n        noiseTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight) },\n        diffuseTexture: { type: 't', value: null },\n        normalTexture: { type: 't', value: null },\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        camNearFar: { type: 'v2', value: new THREE.Vector2(1.0, 10.0) },\n        projMatrix: { type: 'mat4', value: new THREE.Matrix4() },\n        aspectRatio: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        samplesKernel: { type: 'v3v', value: _samplesKernel },\n        kernelRadius: { type: 'f', value: 1.0 },\n        depthThreshold: { type: 'f', value: 1.0 },\n        factor: { type: 'f', value: 1.0 },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n  }\n}\n\nexport default AOMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './AOHorBlur.frag';\n\nconst _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0];\n\nclass AOHorBlurMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super();\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        aoMap: { type: 't', value: null },\n        samplesOffsets: { type: 'fv1', value: _kernelOffsets },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n  }\n}\n\nexport default AOHorBlurMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './AOVertBlurWithBlend.frag';\n\nconst _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0];\n\nclass AOVertBlurWithBlendMaterial extends THREE.RawShaderMaterial {\n  constructor(params) {\n    super(params);\n\n    // set default values\n    this.setValues.call(this, {\n      uniforms: {\n        diffuseTexture: { type: 't', value: null },\n        depthTexture: { type: 't', value: null },\n        srcTexelSize: { type: 'v2', value: new THREE.Vector2(1.0 / 512.0, 1.0 / 512.0) },\n        aoMap: { type: 't', value: null },\n        samplesOffsets: { type: 'fv1', value: _kernelOffsets },\n        projMatrix: { type: 'mat4', value: new THREE.Matrix4() },\n        aspectRatio: { type: 'f', value: 0.0 },\n        tanHalfFOV: { type: 'f', value: 0.0 },\n        fogNearFar: { type: 'v2', value: new THREE.Vector2(100.0, 100.0) },\n        fogColor: { type: 'v4', value: new THREE.Vector4(0.0, 0.5, 0.0, 1.0) },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    this.setValues(params);\n  }\n\n  setValues(values) {\n    if (typeof values === 'undefined') {\n      return;\n    }\n\n    // set direct values\n    super.setValues(values);\n\n    const defines = {};\n\n    if (this.useFog) {\n      defines.USE_FOG = 1;\n    }\n    if (this.fogTransparent) {\n      defines.FOG_TRANSPARENT = 1;\n    }\n    // set dependent values\n    this.defines = defines;\n  }\n}\n\nAOVertBlurWithBlendMaterial.prototype.useFog = true;\nAOVertBlurWithBlendMaterial.prototype.fogTransparent = false;\n\nexport default AOVertBlurWithBlendMaterial;\n","/* eslint-disable no-magic-numbers */\n/* eslint-disable guard-for-in */\nimport * as THREE from 'three';\nimport vertexShader from './ScreenQuad.vert';\nimport fragmentShader from './Anaglyph.frag';\n\nclass AnaglyphMaterial extends THREE.RawShaderMaterial {\n  constructor() {\n    super();\n    const settings = {\n      uniforms: {\n        srcL: { type: 't', value: null },\n        srcR: { type: 't', value: null },\n      },\n      vertexShader,\n      fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false,\n    };\n    this.setValues(settings);\n  }\n}\n\nexport default AnaglyphMaterial;\n","import * as THREE from 'three';\nimport settings from '../settings';\n\nclass View {\n  constructor() {\n    this.position = new THREE.Vector3(0, 0, 0);\n    this.scale = 1;\n    this.orientation = new THREE.Quaternion(0, 0, 0, 1);\n  }\n\n  set(position, scale, orientation) {\n    this.position = position;\n    this.scale = scale;\n    this.orientation = orientation;\n  }\n}\n\nconst _transitionTime = 1.5; // in seconds\n\nexport default class ViewInterpolator {\n  setup(startView, endView) {\n    this._startTime = undefined;\n    this._endTime = undefined;\n    this._isPaused = false;\n\n    this._srcView = startView;\n    this._dstView = endView;\n    this._isMoving = false;\n  }\n\n  isMoving() {\n    return this._isMoving;\n  }\n\n  wasStarted() {\n    return typeof this._startTime !== 'undefined' && typeof this._endTime !== 'undefined';\n  }\n\n  start() {\n    this._startTime = Date.now();\n    const transTime = settings.now.interpolateViews ? _transitionTime * 1000 : 0;\n    this._endTime = this._startTime + transTime;\n    this._isMoving = true;\n  }\n\n  getCurrentView() {\n    if (typeof this._srcView === 'undefined' || typeof this._dstView === 'undefined'\n      || !this._isMoving || !this.wasStarted()) {\n      return { success: false };\n    }\n\n    let view = this.createView();\n    const time = Date.now();\n    if (time > this._endTime) {\n      view = this._dstView;\n      this.reset();\n      return { success: true, view };\n    }\n\n    const factor = (time - this._startTime) / (this._endTime - this._startTime);\n    view.position.copy(this._srcView.position);\n    view.position.lerp(this._dstView.position, factor);\n    view.scale = (1 - factor) * this._srcView.scale + factor * this._dstView.scale;\n    view.orientation.copy(this._srcView.orientation);\n    view.orientation.slerp(this._dstView.orientation, factor);\n    return { success: true, view };\n  }\n\n  reset() {\n    this._startTime = this._endTime = 0;\n    this._isMoving = false;\n  }\n\n  pause() {\n    if (!this._isPaused) {\n      this.setup(this.getCurrentView().view, this._dstView);\n      this._isPaused = true;\n    }\n  }\n\n  resume() {\n    this._isPaused = false;\n  }\n\n  createView() {\n    return new View();\n  }\n}\n","import _ from 'lodash';\nimport makeContextDependent from './makeContextDependent';\n\nconst MAX_COOKIE_LEN = 4000;\nconst COUNT_SUFFIX = 'Cnt';\n\nfunction _chunkString(string, chunkLen) {\n  const l = string.length;\n  const chunks = [];\n  for (let c = 0, lc = 0; lc < l; c++, lc += chunkLen) {\n    chunks[c] = string.slice(lc, lc + chunkLen);\n  }\n  return chunks;\n}\n\n/**\n * Create new context dependent Cookie holder object.\n * @param context\n * @param {Object} opts - options\n * @param {string} opts.path - cookie path\n * @constructor\n */\nfunction Cookies(context, opts) {\n  this.context = context;\n  this._opts = _.merge({\n    path: '/',\n  }, opts);\n}\n\nmakeContextDependent(Cookies.prototype);\n\n/**\n * Remove cookie by the name.\n * @param key\n */\nCookies.prototype.removeCookie = function (key) {\n  const cntKey = this._toCount(key);\n  let cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    this._removeSimpleCookie(key);\n    return;\n  }\n  this._removeSimpleCookie(cntKey);\n  cntVal = parseInt(cntVal, 10);\n  for (let i = 0; i < cntVal; ++i) {\n    this._removeSimpleCookie(key + i);\n  }\n};\n\n/**\n * Set new cookie value. Automatically splits\n * values that are too large into multiple cookies.\n * @param key\n * @param value\n */\nCookies.prototype.setCookie = function (key, value) {\n  this.removeCookie(key);\n  value = encodeURIComponent(value);\n  const values = _chunkString(value, MAX_COOKIE_LEN - key.length - 1);\n  const cntVal = values.length;\n  if (cntVal === 1) {\n    this._setSimpleCookie(key, value);\n    return;\n  }\n  const cntKey = this._toCount(key);\n  this._setSimpleCookie(cntKey, cntVal.toString());\n  for (let i = 0; i < cntVal; ++i) {\n    this._setSimpleCookie(key + i, values[i]);\n  }\n};\n\n/**\n * Obtain the value of a compound cookie.\n * @param key\n */\nCookies.prototype.getCookie = function (key) {\n  const cntKey = this._toCount(key);\n  let cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    return this._getSimpleCookie(key);\n  }\n  cntVal = parseInt(cntVal, 10);\n  const value = [];\n  for (let i = 0; i < cntVal; ++i) {\n    value[i] = this._getSimpleCookie(key + i);\n  }\n  return value.join('');\n};\n\nCookies.prototype._toCount = function (key) {\n  return key + COUNT_SUFFIX;\n};\n\nCookies.prototype._removeSimpleCookie = function (key) {\n  document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n};\n\nCookies.prototype._getExpirationDate = function () {\n  const today = new Date();\n  const EXP_PERIOD_YEARS = 10;\n  today.setFullYear(today.getFullYear() + EXP_PERIOD_YEARS);\n  return today;\n};\n\nCookies.prototype._setSimpleCookie = function (key, value) {\n  document.cookie = `${key}=${value\n  };expires=${this._getExpirationDate().toUTCString()\n  };path=${this._opts.path}`;\n};\n\nCookies.prototype._getSimpleCookie = function (key) {\n  const matches = document.cookie.match(new RegExp(`(?:^|; )${key}=([^;]*)`));\n  return matches ? decodeURIComponent(matches[1]) : '';\n};\n\nCookies.prototype._exists = function (key) {\n  return document.cookie.match(new RegExp(`(?:^|; )${key}=([^;]*)`));\n};\n\nexport default Cookies;\n","/*\n * Toggling WebVR is done through button.click because of limitations on calling requestPresent in webVR:\n * VRDisplay::requestPresent should be called from user gesture:\n * https://developer.mozilla.org/en-US/docs/Web/API/VRDisplay/requestPresent\n */\nexport default function (webVRPoC) {\n  function showEnterVR(button) {\n    button.style.display = '';\n    button.style.cursor = 'pointer';\n    button.style.left = 'calc(50% - 50px)';\n    button.style.width = '100px';\n\n    button.textContent = 'ENTER VR';\n\n    let currentSession = null;\n\n    function onSessionEnded(/* event */) {\n      currentSession.removeEventListener('end', onSessionEnded);\n      button.textContent = 'ENTER VR';\n      currentSession = null;\n    }\n\n    function onSessionStarted(session) {\n      session.addEventListener('end', onSessionEnded);\n      webVRPoC._gfx.renderer.xr.setReferenceSpaceType('local');\n      webVRPoC._gfx.renderer.xr.setSession(session);\n      button.textContent = 'EXIT VR';\n      currentSession = session;\n    }\n\n    button.onmouseenter = function () { button.style.opacity = '1.0'; };\n    button.onmouseleave = function () { button.style.opacity = '0.5'; };\n\n    button.onclick = function () {\n      if (currentSession === null) {\n        // WebXR's requestReferenceSpace only works if the corresponding feature\n        // was requested at session creation time. For simplicity, just ask for\n        // the interesting ones as optional features, but be aware that the\n        // requestReferenceSpace call will fail if it turns out to be unavailable.\n        // ('local' is always available for immersive sessions and doesn't need to\n        // be requested separately.)\n\n        const sessionInit = { optionalFeatures: ['local-floor', 'bounded-floor'] };\n        navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        webVRPoC.moveSceneBehindHeadset();\n      } else {\n        currentSession.end();\n      }\n    };\n  }\n\n  function showWebXRNotFound(button) {\n    button.style.display = '';\n    button.style.cursor = 'auto';\n    button.style.left = 'calc(50% - 75px)';\n    button.style.width = '150px';\n    button.textContent = 'VR NOT FOUND';\n    button.onmouseenter = null;\n    button.onmouseleave = null;\n    button.onclick = null;\n  }\n\n  function stylizeElement(element) {\n    element.style.position = 'absolute';\n    element.style.bottom = '20px';\n    element.style.padding = '12px 6px';\n    element.style.border = '1px solid #fff';\n    element.style.borderRadius = '4px';\n    element.style.background = 'transparent';\n    element.style.color = '#fff';\n    element.style.font = 'normal 13px sans-serif';\n    element.style.textAlign = 'center';\n    element.style.opacity = '0.5';\n    element.style.outline = 'none';\n    element.style.zIndex = '999';\n  }\n\n  if ('xr' in navigator) {\n    const button = document.createElement('button');\n    button.style.display = 'none';\n    stylizeElement(button);\n    navigator.xr.isSessionSupported('immersive-vr').then((supported) => (\n      supported ? showEnterVR(button) : showWebXRNotFound(button)\n    ));\n    return button;\n  }\n  const message = document.createElement('a');\n  message.href = 'https://webvr.info';\n  message.innerHTML = 'WEBXR NOT SUPPORTED';\n  message.style.left = 'calc(50% - 90px)';\n  message.style.width = '180px';\n  message.style.textDecoration = 'none';\n  stylizeElement(message);\n  return message;\n}\n","import * as THREE from 'three';\nimport createWebVRButton from './createWebVRButton';\nimport gfxutils from '../gfxutils';\nimport logger from '../../utils/logger';\nimport settings from '../../settings';\nimport UberMaterial from '../shaders/UberMaterial';\n\nexport default class WebVRPoC {\n  constructor(onToggle) {\n    this._mainCamera = new THREE.PerspectiveCamera();\n    this._button = null;\n    this._onToggle = onToggle;\n\n    this._molContainer = new gfxutils.RCGroup();\n    this._user = new gfxutils.RCGroup();\n    this._scalingPivot = new THREE.Object3D();\n    this._user.add(this._scalingPivot);\n\n    this._controller1 = null;\n    this._controller2 = null;\n    this._pressedGripsCounter = 0;\n    this._distance = 0;\n\n    this._gfx = null;\n  }\n\n  startScalingByControllers() {\n    // reset scale\n    this._distance = this._controller1.position.distanceTo(this._controller2.position);\n    gfxutils.getMiddlePoint(this._controller1.position, this._controller2.position, this._scalingPivot.position);\n    this._scalingPivot.scale.set(1, 1, 1);\n    this._scalingPivot.updateMatrix();\n    this._scalingPivot.updateMatrixWorld();\n    // link molecule to pivot\n    this._scalingPivot.addSavingWorldTransform(this._molContainer);\n  }\n\n  stopScalingByControllers() {\n    this._gfx.scene.addSavingWorldTransform(this._molContainer);\n  }\n\n  handleGripsDown(event) {\n    this._pressedGripsCounter++;\n    if (this._pressedGripsCounter === 2) {\n      this.startScalingByControllers();\n    } else if (this._pressedGripsCounter === 1) {\n      event.target.addSavingWorldTransform(this._molContainer);\n    }\n  }\n\n  handleGripsUp(event) {\n    this._pressedGripsCounter--;\n    if (this._pressedGripsCounter === 1) {\n      this.stopScalingByControllers();\n      // reattach molecule to other controller\n      const anotherController = event.target === this._controller1 ? this._controller2 : this._controller1;\n      anotherController.addSavingWorldTransform(this._molContainer);\n    } else if (this._pressedGripsCounter === 0) {\n      this._gfx.scene.addSavingWorldTransform(this._molContainer);\n    }\n  }\n\n  enable(gfx) {\n    if (!gfx) {\n      logger.warn('WebVR couldn\\'t be enabled, because gfx is not defined');\n      return;\n    }\n    this._gfx = gfx;\n    const { renderer, camera } = gfx;\n    if (!renderer) {\n      throw new Error('No renderer is available to toggle WebVR');\n    }\n    if (!camera) {\n      throw new Error('No camera is available to toggle WebVR');\n    }\n\n    // enable xr in renderer\n    renderer.xr.enabled = true;\n    // add button for turning vr mode\n    if (!this._button) {\n      this._button = createWebVRButton(this);\n      document.body.appendChild(this._button);\n    } else {\n      this._button.style.display = 'block';\n    }\n    // store fog setting\n    this._mainFog = settings.now.fog;\n    settings.set('fog', false);\n\n    this._plugVRNodesIntoScene(gfx, renderer);\n    this._setControllersListeners();\n\n    // make some Miew job\n    if (this._onToggle) {\n      this._onToggle(true);\n    }\n  }\n\n  _plugVRNodesIntoScene(gfx, renderer) {\n    // store common scene camera\n    this._mainCamera.copy(gfx.camera);\n    // add hierarchical structure for webVR into scene\n    gfx.scene.add(this._user);\n    // turn on webvr transformation\n    gfx.scene.add(this._molContainer);\n    this._molContainer.add(gfx.root);\n\n    this._controller1 = renderer.xr.getController(0);\n    this._controller2 = renderer.xr.getController(1);\n    const mesh = this._createControllerMesh();\n    this._controller1.add(mesh);\n    this._controller2.add(mesh.clone());\n    this._user.add(this._controller1);\n    this._user.add(this._controller2);\n  }\n\n  _setControllersListeners() {\n    this._controller1.addEventListener('selectstart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller1.addEventListener('selectend', (event) => {\n      this.handleGripsUp(event);\n    });\n    this._controller2.addEventListener('selectstart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller2.addEventListener('selectend', (event) => {\n      this.handleGripsUp(event);\n    });\n\n    this._controller1.addEventListener('squeezestart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller1.addEventListener('squeezeend', (event) => {\n      this.handleGripsUp(event);\n    });\n    this._controller2.addEventListener('squeezestart', (event) => {\n      this.handleGripsDown(event);\n    });\n    this._controller2.addEventListener('squeezeend', (event) => {\n      this.handleGripsUp(event);\n    });\n  }\n\n  disable() {\n    if (!this._gfx) {\n      return;\n    }\n    const { renderer, camera } = this._gfx;\n    if (!renderer) {\n      throw new Error('No renderer is available to toggle WebVR');\n    }\n\n    // nullify webxr callback for animation frame\n    renderer.setAnimationLoop(null);\n    const session = renderer.xr.getSession();\n    if (session) {\n      session.end();\n    }\n    renderer.xr.enabled = false;\n    // remove button of VR entering\n    if (this._button) {\n      this._button.style.display = 'none';\n    }\n    // restore fog param\n    settings.set('fog', this._mainFog);\n\n    this._unplugVRNodesFromScene(camera);\n\n    // make some Miew job\n    if (this._onToggle) {\n      this._onToggle(false);\n    }\n  }\n\n  _unplugVRNodesFromScene(camera) {\n    // restore common camera\n    if (this._mainCamera && camera) {\n      camera.copy(this._mainCamera);\n    }\n    // turn off webvr transformation\n    const root = this._molContainer.children[0];\n    if (root) {\n      this._gfx.scene.add(root);\n    }\n    this._molContainer.parent.remove(this._molContainer);\n    if (this._user) {\n      this._gfx.scene.remove(this._user);\n    }\n    // free scene nodes\n    this._molContainer = null;\n    this._user = null;\n    this._scalingPivot = null;\n    this._user = null;\n    this._controller1 = null;\n    this._controller2 = null;\n  }\n\n  _createControllerMesh() {\n    // visualize controllers with cylinders\n    const geometry = new THREE.CylinderGeometry(0.04, 0.04, 0.3);\n    const material = new UberMaterial({ lights: false, overrideColor: true });\n    material.setUberOptions({ fixedColor: new THREE.Color(0x4444ff) });\n    material.updateUniforms();\n    const cylinder = new THREE.Mesh(geometry, material);\n    cylinder.rotateX(-Math.PI / 2);\n    return cylinder;\n  }\n\n  updateMoleculeScale() {\n    if (!this._controller1 || !this._controller2) {\n      return;\n    }\n\n    const self = this;\n    // update molecule scaling by controllers\n    if (self._pressedGripsCounter === 2) {\n      // recalc scaling pivot\n      gfxutils.getMiddlePoint(self._controller1.position, self._controller2.position, self._scalingPivot.position);\n      // recalc scaler\n      const dist = self._controller1.position.distanceTo(self._controller2.position);\n      const scaler = dist / self._distance;\n      self._scalingPivot.scale.multiplyScalar(scaler);\n      // save cur distance for next frame\n      self._distance = dist;\n    }\n  }\n\n  /**\n   * Reposition molecule right before the camera.\n   * @note The proper way is to initiate headset in the place of common Miew's camera.\n   * But threejs limitations on setting new XRReferenceSpace enforce the molecule repositioning\n   * Hope, something will change.\n   */\n  moveSceneBehindHeadset() {\n    const gfx = this._gfx;\n    const { camera } = gfx;\n\n    // set container position in camera space\n    const container = this._molContainer;\n    container.matrix.identity();\n    container.position.set(0, 0, -4.0);\n    container.updateMatrix();\n\n    // update container world matrix\n    container.matrixWorld.multiplyMatrices(camera.matrixWorld, container.matrix);\n    // readd to scene\n    gfx.scene.addSavingWorldTransform(container);\n    if (this._onToggle) {\n      this._onToggle(true);\n    }\n  }\n\n  getCanvas() {\n    const gfx = this._gfx;\n    return (gfx && gfx.renderer) ? gfx.renderer.domElement : null;\n  }\n}\n","/* global PACKAGE_VERSION:false */\nimport _ from 'lodash';\nimport * as THREE from 'three';\nimport { Spinner } from 'spin.js';\nimport Stats from './gfx/Stats';\nimport utils from './utils';\nimport JobHandle from './utils/JobHandle';\nimport options from './options';\nimport settings from './settings';\nimport chem from './chem';\nimport Visual from './Visual';\nimport ComplexVisual from './ComplexVisual';\nimport Complex from './chem/Complex';\nimport VolumeVisual from './VolumeVisual';\nimport io from './io/io';\nimport modes from './gfx/modes';\nimport colorers from './gfx/colorers';\nimport palettes from './gfx/palettes';\nimport materials from './gfx/materials';\nimport Representation from './gfx/Representation';\nimport CSS2DRenderer from './gfx/CSS2DRenderer';\nimport ObjectControls from './ui/ObjectControls';\nimport Picker from './ui/Picker';\nimport Axes from './gfx/Axes';\nimport gfxutils from './gfx/gfxutils';\nimport meshutils from './gfx/meshutils';\nimport FrameInfo from './gfx/FrameInfo';\nimport meshes from './gfx/meshes/meshes';\nimport LinesObject from './gfx/objects/LinesObj';\nimport UberMaterial from './gfx/shaders/UberMaterial';\nimport OutlineMaterial from './gfx/shaders/OutlineMaterial';\nimport FXAAMaterial from './gfx/shaders/FXAAMaterial';\nimport AOMaterial from './gfx/shaders/AOMaterial';\nimport AOHorBlurMaterial from './gfx/shaders/AOHorBlurMaterial';\nimport AOVertBlurWithBlendMaterial from './gfx/shaders/AOVertBlurWithBlendMaterial';\nimport AnaglyphMaterial from './gfx/shaders/AnaglyphMaterial';\nimport VolumeMaterial from './gfx/shaders/VolumeMaterial';\nimport ViewInterpolator from './gfx/ViewInterpolator';\nimport EventDispatcher from './utils/EventDispatcher';\nimport logger from './utils/logger';\nimport Cookies from './utils/Cookies';\nimport capabilities from './gfx/capabilities';\nimport WebVRPoC from './gfx/vr/WebVRPoC';\nimport vertexScreenQuadShader from './gfx/shaders/ScreenQuad.vert';\nimport fragmentScreenQuadFromDistTex from './gfx/shaders/ScreenQuadFromDistortionTex.frag';\n\nconst {\n  selectors,\n  Atom,\n  Residue,\n  Chain,\n  Molecule,\n} = chem;\n\nconst EDIT_MODE = { COMPLEX: 0, COMPONENT: 1, FRAGMENT: 2 };\n\nconst LOADER_NOT_FOUND = 'Could not find suitable loader for this source';\nconst PARSER_NOT_FOUND = 'Could not find suitable parser for this source';\n\nconst { createElement } = utils;\n\nfunction updateFogRange(fog, center, radius) {\n  fog.near = center - radius * settings.now.fogNearFactor;\n  fog.far = center + radius * settings.now.fogFarFactor;\n}\n\nfunction removeExtension(fileName) {\n  const dot = fileName.lastIndexOf('.');\n  if (dot >= 0) {\n    fileName = fileName.substr(0, dot);\n  }\n  return fileName;\n}\n\nfunction hasValidResidues(complex) {\n  let hasValidRes = false;\n  complex.forEachComponent((component) => {\n    component.forEachResidue((residue) => {\n      if (residue._isValid) {\n        hasValidRes = true;\n      }\n    });\n  });\n  return hasValidRes;\n}\n\nfunction reportProgress(log, action, percent) {\n  const TOTAL_PERCENT = 100;\n  if (percent !== undefined) {\n    log.debug(`${action}... ${Math.floor(percent * TOTAL_PERCENT)}%`);\n  } else {\n    log.debug(`${action}...`);\n  }\n}\n\nfunction chooseFogColor() {\n  return settings.now.fogColorEnable ? settings.now.fogColor : settings.now.bg.color;\n}\n\n// ////////////////////////////////////////////////////////////////////////////\n\n/**\n * Main 3D Molecular Viewer class.\n *\n * @param {object} opts - Viewer options.\n * @param {HTMLElement=} opts.container - DOM element that serves as a viewer container.\n * @param {object=} opts.settings - An object with properties to override default settings.\n * @param {string=} opts.settingsCookie='settings' - The name of the cookie to save current settings to.\n * @param {string=} opts.cookiePath='/' - The path option for cookies. Defaults to root.\n *\n * @exports Miew\n * @constructor\n */\nfunction Miew(opts) {\n  EventDispatcher.call(this);\n  this._opts = _.merge({\n    settingsCookie: 'settings',\n    cookiePath: '/',\n  }, opts);\n  /** @type {?object} */\n  this._gfx = null;\n  /** @type {ViewInterpolator} */\n  this._interpolator = new ViewInterpolator();\n  /** @type {HTMLElement} */\n  this._container = (opts && opts.container)\n    || document.getElementById('miew-container')\n    || _.head(document.getElementsByClassName('miew-container'))\n    || document.body;\n  /** @type {HTMLElement} */\n  this._containerRoot = this._container;\n\n  /** @type {boolean} */\n  this._running = false;\n  /** @type {boolean} */\n  this._halting = false;\n  /** @type {boolean} */\n  this._building = false;\n  /** @type {boolean} */\n  this._needRender = true;\n  /** @type {boolean} */\n  this._hotKeysEnabled = true;\n\n  /** @type {Settings} */\n  this.settings = settings;\n  const log = logger;\n  log.console = DEBUG;\n  log.level = DEBUG ? 'debug' : 'info';\n  /**\n   * @type {Logger}\n   * @example\n   * miew.logger.addEventListener('message', function _onLogMessage(evt) {\n   *   console.log(evt.message);\n   * });\n   */\n  this.logger = log;\n\n  this._cookies = new Cookies(this);\n  this.restoreSettings();\n  if (opts && opts.settings) {\n    this.settings.set(opts.settings);\n  }\n\n  /** @type {?Spinner} */\n  this._spinner = null;\n  /** @type {JobHandle[]} */\n  this._loading = [];\n  /** @type {?number}\n   * @deprecated until Animation system refactoring\n   */\n  this._animInterval = null;\n\n  /** @type {object} */\n  this._visuals = {};\n  /** @type {?string} */\n  this._curVisualName = null;\n\n  /** @type {array} */\n  this._objects = [];\n\n  /** @type {object} */\n  this._sourceWindow = null;\n\n  this.reset();\n\n  if (this._repr) {\n    log.debug(`Selected ${this._repr.mode.name} mode with ${this._repr.colorer.name} colorer.`);\n  }\n\n  const self = this;\n  Miew.registeredPlugins.forEach((plugin) => {\n    plugin.call(self);\n  });\n\n  this._initOnSettingsChanged();\n}\n\nMiew.prototype = Object.create(EventDispatcher.prototype);\nMiew.prototype.constructor = Miew;\n\nMiew.prototype.getMaxRepresentationCount = function () {\n  return ComplexVisual.NUM_REPRESENTATION_BITS;\n};\n\n/**\n * Replace viewer container contents with a DOM element.\n * @param {HTMLElement} container - parent container.\n * @param {HTMLElement} element - DOM element to show.\n * @private\n */\nfunction _setContainerContents(container, element) {\n  const parent = container;\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n  parent.appendChild(element);\n}\n\n/**\n * Update Shadow Camera target position and frustum.\n * @private\n */\nMiew.prototype._updateShadowCamera = (function () {\n  const shadowMatrix = new THREE.Matrix4();\n  const direction = new THREE.Vector3();\n  const OBB = { center: new THREE.Vector3(), halfSize: new THREE.Vector3() };\n\n  return function () {\n    this._gfx.scene.updateMatrixWorld();\n    for (let i = 0; i < this._gfx.scene.children.length; i++) {\n      if (this._gfx.scene.children[i].type === 'DirectionalLight') {\n        const light = this._gfx.scene.children[i];\n        shadowMatrix.copy(light.shadow.camera.matrixWorldInverse);\n        this.getOBB(shadowMatrix, OBB);\n\n        direction.subVectors(light.target.position, light.position);\n        light.position.subVectors(OBB.center, direction);\n        light.target.position.copy(OBB.center);\n\n        light.shadow.bias = 0.09;\n        light.shadow.camera.bottom = -OBB.halfSize.y;\n        light.shadow.camera.top = OBB.halfSize.y;\n        light.shadow.camera.right = OBB.halfSize.x;\n        light.shadow.camera.left = -OBB.halfSize.x;\n        light.shadow.camera.near = direction.length() - OBB.halfSize.z;\n        light.shadow.camera.far = direction.length() + OBB.halfSize.z;\n\n        light.shadow.camera.updateProjectionMatrix();\n      }\n    }\n  };\n}());\n\n/**\n * Initialize the viewer.\n * @returns {boolean} true on success.\n * @throws Forwards exception raised during initialization.\n * @see Miew#term\n */\nMiew.prototype.init = function () {\n  const container = this._container;\n  const elem = utils.createElement('div', { class: 'miew-canvas' });\n  _setContainerContents(container, elem);\n  this._container = elem;\n\n  const frag = document.createDocumentFragment();\n  frag.appendChild(this._msgMode = createElement(\n    'div', { class: 'mode-message overlay' },\n    createElement('p', {}, 'COMPONENT EDIT MODE'),\n  ));\n  frag.appendChild(this._msgAtomInfo = createElement(\n    'div', { class: 'atom-info overlay' },\n    createElement('p', {}, ''),\n  ));\n  container.appendChild(frag);\n\n  if (this._gfx !== null) { // block double init\n    return true;\n  }\n\n  const self = this;\n  this._showMessage('Viewer is being initialized...');\n  try {\n    this._initGfx();\n\n    this._initListeners();\n    this._spinner = new Spinner({\n      lines: 13,\n      length: 28,\n      width: 14,\n      radius: 42,\n      color: '#fff',\n      zIndex: 700,\n    });\n\n    window.top.addEventListener('keydown', (event) => {\n      self._onKeyDown(event);\n    });\n\n    window.top.addEventListener('keyup', (event) => {\n      self._onKeyUp(event);\n    });\n\n    this._objectControls = new ObjectControls(\n      this._gfx.root, this._gfx.pivot,\n      this._gfx.camera, this._gfx.renderer.domElement, (() => self._getAltObj()),\n    );\n    this._objectControls.addEventListener('change', (e) => {\n      if (settings.now.shadow.on) {\n        self._updateShadowCamera();\n      }\n      // route rotate, zoom, translate and translatePivot events to the external API\n      switch (e.action) {\n        case 'rotate':\n          self.dispatchEvent({ type: 'rotate', quaternion: e.quaternion });\n          break;\n        case 'zoom':\n          self.dispatchEvent({ type: 'zoom', factor: e.factor });\n          break;\n        default:\n          self.dispatchEvent({ type: e.action });\n      }\n      self.dispatchEvent({ type: 'transform' });\n      self._needRender = true;\n    });\n\n    const gfx = this._gfx;\n    this._picker = new Picker(gfx.root, gfx.camera, gfx.renderer.domElement);\n    this._picker.addEventListener('newpick', (event) => {\n      self._onPick(event);\n    });\n    this._picker.addEventListener('dblclick', (event) => {\n      self.center(event);\n    });\n  } catch (error) {\n    if (error.name === 'TypeError' && error.message === 'Cannot read property \\'getExtension\\' of null') {\n      this._showMessage('Could not create WebGL context.');\n    } else if (error.message.search(/webgl/i) > 1) {\n      this._showMessage(error.message);\n    } else {\n      this._showMessage('Viewer initialization failed.');\n      throw error;\n    }\n    return false;\n  }\n\n  // automatically load default file\n  const file = this._opts && this._opts.load;\n  if (file) {\n    const type = this._opts && this._opts.type;\n    this.load(file, { fileType: type, keepRepsInfo: true });\n  }\n\n  return true;\n};\n\n/**\n * Terminate the viewer completely.\n * @see Miew#init\n */\nMiew.prototype.term = function () {\n  this._showMessage('Viewer has been terminated.');\n  this._loading.forEach((job) => {\n    job.cancel();\n  });\n  this._loading.length = 0;\n  this.halt();\n  this._gfx = null;\n};\n\n/**\n * Display message inside the viewer container, hiding WebGL canvas.\n * @param {string} msg - Message to show.\n * @private\n */\nMiew.prototype._showMessage = function (msg) {\n  const element = document.createElement('div');\n  element.setAttribute('class', 'miew-message');\n  element.appendChild(document.createElement('p')).appendChild(document.createTextNode(msg));\n  _setContainerContents(this._container, element);\n};\n\n/**\n * Display WebGL canvas inside the viewer container, hiding any message shown.\n * @private\n */\nMiew.prototype._showCanvas = function () {\n  _setContainerContents(this._container, this._gfx.renderer.domElement);\n};\n\nMiew.prototype._requestAnimationFrame = function (callback) {\n  const { xr } = this._gfx.renderer;\n  if (xr && xr.enabled) {\n    this._gfx.renderer.setAnimationLoop(callback);\n    return;\n  }\n  requestAnimationFrame(callback);\n};\n\nfunction arezSpritesSupported(context) {\n  return context.getExtension('EXT_frag_depth');\n}\n\nfunction isAOSupported(context) {\n  return (context.getExtension('WEBGL_depth_texture')\n  && context.getExtension('WEBGL_draw_buffers'));\n}\n\n/**\n * Initialize WebGL and set 3D scene up.\n * @private\n */\nMiew.prototype._initGfx = function () {\n  const gfx = {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight,\n  };\n\n  const webGLOptions = { preserveDrawingBuffer: true, alpha: true, premultipliedAlpha: false };\n  if (settings.now.antialias) {\n    webGLOptions.antialias = true;\n  }\n\n  gfx.renderer2d = new CSS2DRenderer();\n\n  gfx.renderer = new THREE.WebGL1Renderer(webGLOptions);\n  gfx.renderer.shadowMap.enabled = settings.now.shadow.on;\n  gfx.renderer.shadowMap.autoUpdate = false;\n  gfx.renderer.shadowMap.type = THREE.PCFShadowMap;\n  capabilities.init(gfx.renderer);\n\n  // z-sprites and ambient occlusion possibility\n  if (!arezSpritesSupported(gfx.renderer.getContext())) {\n    settings.set('zSprites', false);\n  }\n  if (!isAOSupported(gfx.renderer.getContext())) {\n    settings.set('ao', false);\n  }\n\n  gfx.renderer.autoClear = false;\n  gfx.renderer.setPixelRatio(window.devicePixelRatio);\n  gfx.renderer.setSize(gfx.width, gfx.height);\n  gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n  gfx.renderer.clearColor();\n\n  gfx.renderer2d.setSize(gfx.width, gfx.height);\n\n  gfx.camera = new THREE.PerspectiveCamera(\n    settings.now.camFov, gfx.width / gfx.height,\n    settings.now.camNear, settings.now.camFar,\n  );\n  gfx.camera.setMinimalFov(settings.now.camFov);\n  gfx.camera.position.z = settings.now.camDistance;\n  gfx.camera.updateProjectionMatrix();\n  gfx.camera.layers.set(gfxutils.LAYERS.DEFAULT);\n  gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME);\n  gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME_BFPLANE);\n\n  gfx.stereoCam = new THREE.StereoCamera();\n\n  gfx.scene = new THREE.Scene();\n\n  const color = chooseFogColor();\n  gfx.scene.fog = new THREE.Fog(color, settings.now.camNear, settings.now.camFar);\n\n  gfx.root = new gfxutils.RCGroup();\n  gfx.scene.add(gfx.root);\n\n  gfx.pivot = new gfxutils.RCGroup();\n  gfx.root.add(gfx.pivot);\n\n  gfx.selectionScene = new THREE.Scene();\n  gfx.selectionRoot = new THREE.Group();\n  gfx.selectionRoot.matrixAutoUpdate = false;\n  gfx.selectionScene.add(gfx.selectionRoot);\n\n  gfx.selectionPivot = new THREE.Group();\n  gfx.selectionPivot.matrixAutoUpdate = false;\n  gfx.selectionRoot.add(gfx.selectionPivot);\n\n  const light12 = new THREE.DirectionalLight(0xffffff, 0.45);\n  light12.position.set(0, 0.414, 1);\n  light12.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n  light12.castShadow = true;\n  light12.shadow.bias = 0.09;\n  light12.shadow.radius = settings.now.shadow.radius;\n  light12.shadow.camera.layers.set(gfxutils.LAYERS.SHADOWMAP);\n\n  const pixelRatio = gfx.renderer.getPixelRatio();\n  const shadowMapSize = Math.max(gfx.width, gfx.height) * pixelRatio;\n  light12.shadow.mapSize.width = shadowMapSize;\n  light12.shadow.mapSize.height = shadowMapSize;\n  light12.target.position.set(0.0, 0.0, 0.0);\n  gfx.scene.add(light12);\n  gfx.scene.add(light12.target);\n\n  const light3 = new THREE.AmbientLight(0x666666);\n  light3.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n  gfx.scene.add(light3);\n\n  // add axes\n  gfx.axes = new Axes(gfx.root, gfx.camera);\n  const deviceWidth = gfx.width * pixelRatio;\n  const deviceHeight = gfx.height * pixelRatio;\n\n  gfx.offscreenBuf = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat, depthBuffer: true,\n    },\n  );\n\n  if (gfx.renderer.getContext().getExtension('WEBGL_depth_texture')) {\n    gfx.offscreenBuf.depthTexture = new THREE.DepthTexture();\n    gfx.offscreenBuf.depthTexture.type = THREE.UnsignedShortType;\n  }\n\n  gfx.offscreenBuf2 = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.offscreenBuf3 = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.offscreenBuf4 = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.volBFTex = gfx.offscreenBuf3;\n  gfx.volFFTex = gfx.offscreenBuf4;\n  gfx.volWFFTex = gfx.offscreenBuf;\n\n  // use float textures for volume rendering if possible\n  if (gfx.renderer.getContext().getExtension('OES_texture_float')) {\n    gfx.offscreenBuf5 = new THREE.WebGLRenderTarget(\n      deviceWidth,\n      deviceHeight,\n      {\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter,\n        format: THREE.RGBAFormat,\n        type: THREE.FloatType,\n        depthBuffer: false,\n      },\n    );\n\n    gfx.offscreenBuf6 = new THREE.WebGLRenderTarget(\n      deviceWidth,\n      deviceHeight,\n      {\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter,\n        format: THREE.RGBAFormat,\n        type: THREE.FloatType,\n        depthBuffer: false,\n      },\n    );\n\n    gfx.offscreenBuf7 = new THREE.WebGLRenderTarget(\n      deviceWidth,\n      deviceHeight,\n      {\n        minFilter: THREE.LinearFilter,\n        magFilter: THREE.LinearFilter,\n        format: THREE.RGBAFormat,\n        type: THREE.FloatType,\n        depthBuffer: true,\n      },\n    );\n\n    gfx.volBFTex = gfx.offscreenBuf5;\n    gfx.volFFTex = gfx.offscreenBuf6;\n    gfx.volWFFTex = gfx.offscreenBuf7;\n  } else {\n    this.logger.warn('Device doesn\\'t support OES_texture_float extension');\n  }\n\n  gfx.stereoBufL = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  gfx.stereoBufR = new THREE.WebGLRenderTarget(\n    deviceWidth,\n    deviceHeight,\n    {\n      minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, depthBuffer: false,\n    },\n  );\n\n  this._gfx = gfx;\n  this._showCanvas();\n\n  this._embedWebXR(settings.now.stereo === 'WEBVR');\n\n  this._container.appendChild(gfx.renderer2d.getElement());\n\n  // add FPS counter\n  const stats = new Stats();\n  stats.domElement.style.position = 'absolute';\n  stats.domElement.style.right = '0';\n  stats.domElement.style.bottom = '0';\n  this._container.appendChild(stats.domElement);\n  this._fps = stats;\n  this._fps.show(settings.now.fps);\n};\n\n/**\n * Setup event listeners.\n * @private\n */\nMiew.prototype._initListeners = function () {\n  const self = this;\n  window.addEventListener('resize', () => {\n    self._onResize();\n  });\n};\n\n/**\n * Try to add numbers to the base name to make it unique among visuals\n * @private\n */\nMiew.prototype._makeUniqueVisualName = function (baseName) {\n  if (!baseName) {\n    return Math.random().toString();\n  }\n\n  let name = baseName;\n  let suffix = 1;\n  while (this._visuals.hasOwnProperty(name)) {\n    name = `${baseName} (${suffix.toString()})`;\n    suffix++;\n  }\n\n  return name;\n};\n\n/**\n * Add visual to the viewer\n * @private\n */\nMiew.prototype._addVisual = function (visual) {\n  if (!visual) {\n    return null;\n  }\n\n  // change visual name in order to make it unique\n  const name = this._makeUniqueVisualName(visual.name);\n  visual.name = name;\n\n  this._visuals[name] = visual;\n  this._gfx.pivot.add(visual);\n  if (visual.getSelectionGeo) {\n    this._gfx.selectionPivot.add(visual.getSelectionGeo());\n  }\n\n  return name;\n};\n\n/**\n * Remove visual from the viewer\n * @private\n */\nMiew.prototype._removeVisual = function (visual) {\n  let name = '';\n  let obj = null;\n  if (visual instanceof Visual) {\n    ({ name } = visual);\n    obj = visual;\n  } else if (typeof visual === 'string') {\n    name = visual;\n    obj = this._visuals[name];\n  }\n\n  if (!obj || !this._visuals.hasOwnProperty(name) || this._visuals[name] !== obj) {\n    return;\n  }\n\n  if (name === this._curVisualName) {\n    this._curVisualName = undefined;\n  }\n\n  delete this._visuals[name];\n  obj.release(); // removes nodes from scene\n\n  this._needRender = true;\n};\n\n/**\n * Call specified function for each Visual\n * @private\n */\nMiew.prototype._forEachVisual = function (callback) {\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)) {\n      callback(this._visuals[name]);\n    }\n  }\n};\n\n/**\n * Release (destroy) all visuals in the scene\n * @private\n */\nMiew.prototype._releaseAllVisuals = function () {\n  if (!this._gfx || !this._gfx.pivot) {\n    return;\n  }\n\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)) {\n      this._visuals[name].release();\n    }\n  }\n\n  this._visuals = {};\n};\n\n/**\n * Call specified function for each ComplexVisual\n * @private\n */\nMiew.prototype._forEachComplexVisual = function (callback) {\n  if (!this._gfx || !this._gfx.pivot) {\n    return;\n  }\n\n  for (const name in this._visuals) {\n    if (this._visuals.hasOwnProperty(name)\n          && this._visuals[name] instanceof ComplexVisual) {\n      callback(this._visuals[name]);\n    }\n  }\n};\n\n/**\n * Returns ComplexVisual with specified name, or current (if not found), or any, or null\n * @private\n */\nMiew.prototype._getComplexVisual = function (name) {\n  name = name || this._curVisualName;\n  let any = null;\n  let named = null;\n  this._forEachComplexVisual((visual) => {\n    any = visual;\n    if (visual.name === name) {\n      named = visual;\n    }\n  });\n  return named || any;\n};\n\n/**\n * Returns first found VolumeVisual (no more than one should be present actually)\n * @private\n */\nMiew.prototype._getVolumeVisual = function () {\n  let any = null;\n  this._forEachVisual((visual) => {\n    if (visual instanceof VolumeVisual) {\n      any = visual;\n    }\n  });\n  return any;\n};\n\n/**\n * Returns ComplexVisual corresponding to specified complex\n * @private\n */\nMiew.prototype._getVisualForComplex = function (complex) {\n  if (!complex) {\n    return null;\n  }\n\n  let found = null;\n  this._forEachComplexVisual((visual) => {\n    if (visual.getComplex() === complex) {\n      found = visual;\n    }\n  });\n  return found;\n};\n\n/*\n   * Get a list of names of visuals currently shown by the viewer\n   */\nMiew.prototype.getVisuals = function () {\n  return Object.keys(this._visuals);\n};\n\n/*\n   * Get complex visuals count\n   */\nMiew.prototype.getComplexVisualsCount = function () {\n  let count = 0;\n  this._forEachComplexVisual(() => count++);\n  return count;\n};\n\n/*\n   * Get current visual\n   */\nMiew.prototype.getCurrentVisual = function () {\n  return this._curVisualName;\n};\n\n/*\n   * Set current visual.\n   * All further operations will be performed on this visual (complex) if not stated otherwise.\n   */\nMiew.prototype.setCurrentVisual = function (name) {\n  if (!this._visuals[name]) {\n    return;\n  }\n\n  this._curVisualName = name;\n};\n\n/**\n * Run the viewer, start processing update/render frames periodically.\n * Has no effect if already running.\n * @see Miew#halt\n */\nMiew.prototype.run = function () {\n  if (!this._running) {\n    this._running = true;\n    if (this._halting) {\n      this._halting = false;\n      return;\n    }\n\n    this._objectControls.enable(true);\n    this._interpolator.resume();\n\n    this._requestAnimationFrame(() => this._onTick());\n  }\n};\n\n/**\n * Request the viewer to stop.\n * Will be processed during the next frame.\n * @see Miew#run\n */\nMiew.prototype.halt = function () {\n  if (this._running) {\n    this._discardComponentEdit();\n    this._discardFragmentEdit();\n    this._objectControls.enable(false);\n    this._interpolator.pause();\n    this._halting = true;\n  }\n};\n\n/**\n * Request the viewer to start / stop responsing\n * on hot keys.\n * @param enabled - start (true) or stop (false) response on hot keys.\n */\nMiew.prototype.enableHotKeys = function (enabled) {\n  this._hotKeysEnabled = enabled;\n  this._objectControls.enableHotkeys(enabled);\n};\n\n/**\n * Callback which processes window resize.\n * @private\n */\nMiew.prototype._onResize = function () {\n  this._needRender = true;\n\n  const gfx = this._gfx;\n  gfx.width = this._container.clientWidth;\n  gfx.height = this._container.clientHeight;\n\n  gfx.camera.aspect = gfx.width / gfx.height;\n  gfx.camera.setMinimalFov(settings.now.camFov);\n  gfx.camera.updateProjectionMatrix();\n\n  gfx.renderer.setSize(gfx.width, gfx.height);\n  gfx.renderer2d.setSize(gfx.width, gfx.height);\n\n  this.dispatchEvent({ type: 'resize' });\n};\n\nMiew.prototype._resizeOffscreenBuffers = function (width, height, stereo) {\n  const gfx = this._gfx;\n  stereo = stereo || 'NONE';\n  const isAnaglyph = (stereo === 'NONE' || stereo === 'ANAGLYPH');\n  const multi = isAnaglyph ? 1 : 0.5;\n  gfx.offscreenBuf.setSize(multi * width, height);\n  gfx.offscreenBuf2.setSize(multi * width, height);\n  gfx.offscreenBuf3.setSize(multi * width, height);\n  gfx.offscreenBuf4.setSize(multi * width, height);\n  if (gfx.offscreenBuf5) {\n    gfx.offscreenBuf5.setSize(multi * width, height);\n  }\n  if (gfx.offscreenBuf6) {\n    gfx.offscreenBuf6.setSize(multi * width, height);\n  }\n  if (gfx.offscreenBuf7) {\n    gfx.offscreenBuf7.setSize(multi * width, height);\n  }\n  if (isAnaglyph) {\n    gfx.stereoBufL.setSize(width, height);\n    gfx.stereoBufR.setSize(width, height);\n  }\n};\n\n/**\n * Callback which processes update/render frames.\n * @private\n */\nMiew.prototype._onTick = function () {\n  if (this._halting) {\n    this._running = false;\n    this._halting = false;\n    return;\n  }\n\n  this._fps.update();\n\n  this._requestAnimationFrame(() => this._onTick());\n\n  this._onUpdate();\n  if (this._needRender) {\n    this._onRender();\n    this._needRender = !settings.now.suspendRender || settings.now.stereo === 'WEBVR';\n  }\n};\n\nMiew.prototype._getBSphereRadius = function () {\n  // calculate radius that would include all visuals\n  let radius = 0;\n  this._forEachVisual((visual) => {\n    radius = Math.max(radius, visual.getBoundaries().boundingSphere.radius);\n  });\n  return radius * this._objectControls.getScale();\n};\n\n/**\n * Calculate bounding box that would include all visuals and being axis aligned in world defined by\n * transformation matrix: matrix\n * @param {Matrix4} matrix - transformation matrix.\n * @param {object}  OBB           - calculating bounding box.\n * @param {Vector3} OBB.center    - OBB center.\n * @param {Vector3} OBB.halfSize  - half magnitude of OBB sizes.\n */\nMiew.prototype.getOBB = (function () {\n  const _bSphereForOneVisual = new THREE.Sphere();\n  const _bBoxForOneVisual = new THREE.Box3();\n  const _bBox = new THREE.Box3();\n\n  const _invMatrix = new THREE.Matrix4();\n\n  const _points = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n  ];\n\n  return function (matrix, OBB) {\n    _bBox.makeEmpty();\n\n    this._forEachVisual((visual) => {\n      _bSphereForOneVisual.copy(visual.getBoundaries().boundingSphere);\n      _bSphereForOneVisual.applyMatrix4(visual.matrixWorld).applyMatrix4(matrix);\n      _bSphereForOneVisual.getBoundingBox(_bBoxForOneVisual);\n      _bBox.union(_bBoxForOneVisual);\n    });\n    _bBox.getCenter(OBB.center);\n\n    _invMatrix.copy(matrix).invert();\n    OBB.center.applyMatrix4(_invMatrix);\n\n    const { min } = _bBox;\n    const { max } = _bBox;\n    _points[0].set(min.x, min.y, min.z); // 000\n    _points[1].set(max.x, min.y, min.z); // 100\n    _points[2].set(min.x, max.y, min.z); // 010\n    _points[3].set(min.x, min.y, max.z); // 001\n    for (let i = 0, l = _points.length; i < l; i++) {\n      _points[i].applyMatrix4(_invMatrix);\n    }\n\n    OBB.halfSize.set(\n      Math.abs(_points[0].x - _points[1].x),\n      Math.abs(_points[0].y - _points[2].y),\n      Math.abs(_points[0].z - _points[3].z),\n    ).multiplyScalar(0.5);\n  };\n}());\n\nMiew.prototype._updateFog = function () {\n  const gfx = this._gfx;\n\n  if (settings.now.fog) {\n    if (typeof gfx.scene.fog === 'undefined' || gfx.scene.fog === null) {\n      const color = chooseFogColor();\n      gfx.scene.fog = new THREE.Fog(color);\n      this._setUberMaterialValues({ fog: settings.now.fog });\n    }\n    updateFogRange(gfx.scene.fog, gfx.camera.position.z, this._getBSphereRadius());\n  } else if (gfx.scene.fog) {\n    gfx.scene.fog = undefined;\n    this._setUberMaterialValues({ fog: settings.now.fog });\n  }\n};\n\nMiew.prototype._onUpdate = function () {\n  if (this.isScriptingCommandAvailable !== undefined && this.isScriptingCommandAvailable() && !this._building) {\n    this.callNextCmd();\n  }\n\n  this._objectControls.update();\n\n  this._forEachComplexVisual((visual) => {\n    visual.getComplex().update();\n  });\n\n  if (settings.now.autobuild && !this._loading.length && !this._building && this._needRebuild()) {\n    this.rebuild();\n  }\n\n  if (!this._loading.length && !this._building && !this._needRebuild()) {\n    this._updateView();\n  }\n\n  this._updateFog();\n\n  if (this._gfx.renderer.xr.enabled) {\n    this.webVR.updateMoleculeScale();\n  }\n};\n\nMiew.prototype._onRender = function () {\n  const gfx = this._gfx;\n\n  // update all matrices\n  gfx.scene.updateMatrixWorld();\n  gfx.camera.updateMatrixWorld();\n\n  this._clipPlaneUpdateValue(this._getBSphereRadius());\n  this._fogFarUpdateValue();\n\n  gfx.renderer.setRenderTarget(null);\n  gfx.renderer.clear();\n\n  this._renderFrame(settings.now.stereo);\n};\n\nMiew.prototype._renderFrame = (function () {\n  const _anaglyphMat = new AnaglyphMaterial();\n  const _size = new THREE.Vector2();\n\n  return function (stereo) {\n    const gfx = this._gfx;\n    const { renderer } = gfx;\n\n    renderer.getSize(_size);\n\n    if (stereo !== 'NONE') {\n      gfx.camera.focus = gfx.camera.position.z; // set focus to the center of the object\n      gfx.stereoCam.aspect = 1.0;\n\n      // in anaglyph mode we render full-size image for each eye\n      // while in other stereo modes only half-size (two images on the screen)\n      if (stereo === 'ANAGLYPH') {\n        gfx.stereoCam.update(gfx.camera);\n      } else {\n        gfx.stereoCam.updateHalfSized(gfx.camera, settings.now.camFov);\n      }\n    }\n\n    // resize offscreen buffers to match the target\n    const pixelRatio = gfx.renderer.getPixelRatio();\n    this._resizeOffscreenBuffers(_size.width * pixelRatio, _size.height * pixelRatio, stereo);\n\n    this._renderShadowMap();\n\n    switch (stereo) {\n      case 'WEBVR':\n      case 'NONE':\n        this._renderScene(gfx.camera, false);\n        break;\n      case 'SIMPLE':\n      case 'DISTORTED':\n        renderer.setScissorTest(true);\n\n        renderer.setScissor(0, 0, _size.width / 2, _size.height);\n        renderer.setViewport(0, 0, _size.width / 2, _size.height);\n        this._renderScene(this._gfx.stereoCam.cameraL, stereo === 'DISTORTED');\n\n        renderer.setScissor(_size.width / 2, 0, _size.width / 2, _size.height);\n        renderer.setViewport(_size.width / 2, 0, _size.width / 2, _size.height);\n        this._renderScene(this._gfx.stereoCam.cameraR, stereo === 'DISTORTED');\n\n        renderer.setScissorTest(false);\n        break;\n      case 'ANAGLYPH':\n        this._renderScene(this._gfx.stereoCam.cameraL, false, gfx.stereoBufL);\n        this._renderScene(this._gfx.stereoCam.cameraR, false, gfx.stereoBufR);\n        renderer.setRenderTarget(null);\n        _anaglyphMat.uniforms.srcL.value = gfx.stereoBufL.texture;\n        _anaglyphMat.uniforms.srcR.value = gfx.stereoBufR.texture;\n        gfx.renderer.renderScreenQuad(_anaglyphMat);\n        break;\n      default:\n    }\n\n    gfx.renderer2d.render(gfx.scene, gfx.camera);\n\n    if (settings.now.axes && gfx.axes && !gfx.renderer.xr.enabled) {\n      gfx.axes.render(renderer);\n    }\n  };\n}());\n\nMiew.prototype._onBgColorChanged = function () {\n  const gfx = this._gfx;\n  const color = chooseFogColor();\n  if (gfx) {\n    if (gfx.scene.fog) {\n      gfx.scene.fog.color.set(color);\n    }\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n  }\n  this._needRender = true;\n};\n\nMiew.prototype._onFogColorChanged = function () {\n  const gfx = this._gfx;\n  const color = chooseFogColor();\n  if (gfx && gfx.scene.fog) {\n    gfx.scene.fog.color.set(color);\n  }\n  this._needRender = true;\n};\n\nMiew.prototype._setUberMaterialValues = function (values) {\n  this._gfx.root.traverse((obj) => {\n    if ((obj instanceof THREE.Mesh || obj instanceof THREE.LineSegments || obj instanceof THREE.Line)\n        && obj.material instanceof UberMaterial) {\n      obj.material.setValues(values);\n      obj.material.needsUpdate = true;\n    }\n  });\n};\n\nMiew.prototype._enableMRT = function (on, renderBuffer, textureBuffer) {\n  const gfx = this._gfx;\n  const gl = gfx.renderer.getContext();\n  const ext = gl.getExtension('WEBGL_draw_buffers');\n  const { properties } = gfx.renderer;\n\n  if (!on) {\n    ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, null]);\n    return;\n  }\n\n  // take extra texture from Texture Buffer\n  gfx.renderer.setRenderTarget(textureBuffer);\n  const tx8 = properties.get(textureBuffer.texture).__webglTexture;\n  gl.bindTexture(gl.TEXTURE_2D, tx8);\n\n  // take texture and framebuffer from renderbuffer\n  gfx.renderer.setRenderTarget(renderBuffer);\n  const fb = properties.get(renderBuffer).__webglFramebuffer;\n  const tx = properties.get(renderBuffer.texture).__webglTexture;\n\n  // set framebuffer\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n  fb.width = renderBuffer.width;\n  fb.height = renderBuffer.height;\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tx, 0);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, ext.COLOR_ATTACHMENT1_WEBGL, gl.TEXTURE_2D, tx8, 0);\n\n  // mapping textures\n  ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, ext.COLOR_ATTACHMENT1_WEBGL]);\n};\n\nMiew.prototype._renderScene = (function () {\n  return function (camera, distortion, target) {\n    distortion = distortion || false;\n    target = target || null;\n\n    const gfx = this._gfx;\n\n    // render to offscreen buffer\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    gfx.renderer.setRenderTarget(target);\n    gfx.renderer.clear();\n    if (gfx.renderer.xr.enabled) {\n      gfx.renderer.render(gfx.scene, camera);\n      return;\n    }\n\n    // clean buffer for normals texture\n    gfx.renderer.setClearColor(0x000000, 0.0);\n    gfx.renderer.setRenderTarget(gfx.offscreenBuf4);\n    gfx.renderer.clearColor();\n\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n    gfx.renderer.clear();\n\n    const bHaveComplexes = (this._getComplexVisual() !== null);\n    const volumeVisual = this._getVolumeVisual();\n    const ssao = bHaveComplexes && settings.now.ao;\n\n    if (ssao) {\n      this._enableMRT(true, gfx.offscreenBuf, gfx.offscreenBuf4);\n    }\n\n    if (settings.now.transparency === 'prepass') {\n      this._renderWithPrepassTransparency(camera, gfx.offscreenBuf);\n    } else if (settings.now.transparency === 'standard') {\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n      gfx.renderer.render(gfx.scene, camera);\n    }\n\n    if (ssao) {\n      this._enableMRT(false, null, null);\n    }\n\n    // when fxaa we should get resulting image in temp off-screen buff2 for further postprocessing with fxaa filter\n    // otherwise we render to canvas\n    const outline = bHaveComplexes && settings.now.outline.on;\n    const fxaa = bHaveComplexes && settings.now.fxaa;\n    const volume = (volumeVisual !== null) && (volumeVisual.getMesh().material != null);\n    let dstBuffer = (ssao || outline || volume || fxaa || distortion) ? gfx.offscreenBuf2 : target;\n    let srcBuffer = gfx.offscreenBuf;\n\n    if (ssao) {\n      this._performAO(\n        srcBuffer,\n        gfx.offscreenBuf4,\n        gfx.offscreenBuf.depthTexture,\n        dstBuffer,\n        gfx.offscreenBuf3,\n        gfx.offscreenBuf2,\n      );\n      if (!fxaa && !distortion && !volume && !outline) {\n        srcBuffer = dstBuffer;\n        dstBuffer = target;\n        gfx.renderer.setRenderTarget(dstBuffer);\n        gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n      }\n    } else {\n      // just copy color buffer to dst buffer\n      gfx.renderer.setRenderTarget(dstBuffer);\n      gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n    }\n\n    // outline\n    if (outline) {\n      srcBuffer = dstBuffer;\n      dstBuffer = (volume || fxaa || distortion) ? gfx.offscreenBuf3 : target;\n      if (srcBuffer != null) {\n        this._renderOutline(camera, gfx.offscreenBuf, srcBuffer, dstBuffer);\n      }\n    }\n\n    // render selected part with outline material\n    this._renderSelection(camera, gfx.offscreenBuf, dstBuffer);\n\n    if (volume) {\n      // copy current picture to the buffer that retains depth-data of the original molecule render\n      // so that volume renderer could use depth-test\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n      gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n      dstBuffer = gfx.offscreenBuf;\n      this._renderVolume(volumeVisual, camera, dstBuffer, gfx.volBFTex, gfx.volFFTex, gfx.volWFFTex);\n\n      // if this is the last stage -- copy image to target\n      if (!fxaa && !distortion) {\n        gfx.renderer.setRenderTarget(target);\n        gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n      }\n    }\n\n    srcBuffer = dstBuffer;\n\n    if (fxaa) {\n      dstBuffer = distortion ? gfx.offscreenBuf4 : target;\n      this._performFXAA(srcBuffer, dstBuffer);\n      srcBuffer = dstBuffer;\n    }\n\n    if (distortion) {\n      dstBuffer = target;\n      this._performDistortion(srcBuffer, dstBuffer, true);\n    }\n  };\n}());\n\nMiew.prototype._performDistortion = (function () {\n  const _scene = new THREE.Scene();\n  const _camera = new THREE.OrthographicCamera(-1.0, 1.0, 1.0, -1.0, -500, 1000);\n\n  const _material = new THREE.RawShaderMaterial({\n    uniforms: {\n      srcTex: { type: 't', value: null },\n      aberration: { type: 'fv3', value: new THREE.Vector3(1.0) },\n    },\n    vertexShader: vertexScreenQuadShader,\n    fragmentShader: fragmentScreenQuadFromDistTex,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n  });\n\n  const _geo = gfxutils.buildDistorionMesh(10, 10, settings.now.debug.stereoBarrel);\n  _scene.add(new meshes.Mesh(_geo, _material));\n\n  return function (srcBuffer, targetBuffer, mesh) {\n    this._gfx.renderer.setRenderTarget(targetBuffer);\n    this._gfx.renderer.clear();\n\n    if (mesh) {\n      _material.uniforms.srcTex.value = srcBuffer.texture;\n      _material.uniforms.aberration.value.set(0.995, 1.0, 1.01);\n      this._gfx.renderer.render(_scene, _camera);\n    } else {\n      this._gfx.renderer.renderScreenQuadFromTexWithDistortion(srcBuffer, settings.now.debug.stereoBarrel);\n    }\n  };\n}());\n\nMiew.prototype._renderOutline = (function () {\n  const _outlineMaterial = new OutlineMaterial({ depth: true });\n\n  return function (camera, srcDepthBuffer, srcColorBuffer, targetBuffer) {\n    const self = this;\n    const gfx = self._gfx;\n\n    // apply Sobel filter -- draw outline\n    _outlineMaterial.uniforms.srcTex.value = srcColorBuffer.texture;\n    _outlineMaterial.uniforms.srcDepthTex.value = srcDepthBuffer.depthTexture;\n    _outlineMaterial.uniforms.srcTexSize.value.set(srcDepthBuffer.width, srcDepthBuffer.height);\n    _outlineMaterial.uniforms.color.value = new THREE.Color(settings.now.outline.color);\n    _outlineMaterial.uniforms.threshold.value = settings.now.outline.threshold;\n    _outlineMaterial.uniforms.thickness.value = new THREE.Vector2(\n      settings.now.outline.thickness,\n      settings.now.outline.thickness,\n    );\n\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.renderScreenQuad(_outlineMaterial);\n  };\n}());\n\nMiew.prototype._renderShadowMap = (function () {\n  const pars = { minFilter: THREE.NearestFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n  return function () {\n    if (!settings.now.shadow.on) {\n      return;\n    }\n\n    const gfx = this._gfx;\n    const currentRenderTarget = gfx.renderer.getRenderTarget();\n    const activeCubeFace = gfx.renderer.getActiveCubeFace();\n    const activeMipmapLevel = gfx.renderer.getActiveMipmapLevel();\n\n    const _state = gfx.renderer.state;\n\n    // Set GL state for depth map.\n    _state.setBlending(THREE.NoBlending);\n    _state.buffers.color.setClear(1, 1, 1, 1);\n    _state.buffers.depth.setTest(true);\n    _state.setScissorTest(false);\n\n    for (let i = 0; i < gfx.scene.children.length; i++) {\n      if (gfx.scene.children[i].type === 'DirectionalLight') {\n        const light = gfx.scene.children[i];\n\n        if (light.shadow.map == null) {\n          light.shadow.map = new THREE.WebGLRenderTarget(light.shadow.mapSize.width, light.shadow.mapSize.height, pars);\n          light.shadow.camera.updateProjectionMatrix();\n        }\n        light.shadow.updateMatrices(light);\n\n        gfx.renderer.setRenderTarget(light.shadow.map);\n        gfx.renderer.clear();\n\n        gfx.renderer.render(gfx.scene, light.shadow.camera);\n      }\n    }\n    gfx.renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n  };\n}());\n\n/**\n * Check if there is selection which must be rendered or not.\n * @private\n * @returns {boolean} true on existing selection to render\n */\nMiew.prototype._hasSelectionToRender = function () {\n  const selPivot = this._gfx.selectionPivot;\n\n  for (let i = 0; i < selPivot.children.length; i++) {\n    const selPivotChild = selPivot.children[i];\n    if (selPivotChild.children.length > 0) {\n      return true;\n    }\n  }\n  return false;\n};\n\nMiew.prototype._renderSelection = (function () {\n  const _outlineMaterial = new OutlineMaterial();\n\n  return function (camera, srcBuffer, targetBuffer) {\n    const self = this;\n    const gfx = self._gfx;\n\n    // clear offscreen buffer (leave z-buffer intact)\n    gfx.renderer.setClearColor('black', 0);\n\n    // render selection to offscreen buffer\n    gfx.renderer.setRenderTarget(srcBuffer);\n    gfx.renderer.clear(true, false, false);\n    if (self._hasSelectionToRender()) {\n      gfx.selectionRoot.matrix = gfx.root.matrix;\n      gfx.selectionPivot.matrix = gfx.pivot.matrix;\n      gfx.renderer.render(gfx.selectionScene, camera);\n    } else {\n      // just render something to force \"target clear\" operation to finish\n      gfx.renderer.renderDummyQuad();\n    }\n\n    // overlay to screen\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 0.6);\n\n    // apply Sobel filter -- draw outline\n    _outlineMaterial.uniforms.srcTex.value = srcBuffer.texture;\n    _outlineMaterial.uniforms.srcTexSize.value.set(srcBuffer.width, srcBuffer.height);\n    gfx.renderer.renderScreenQuad(_outlineMaterial);\n  };\n}());\n\nMiew.prototype._checkVolumeRenderingSupport = function (renderTarget) {\n  if (!renderTarget) {\n    return false;\n  }\n  const gfx = this._gfx;\n  const oldRT = gfx.renderer.getRenderTarget();\n\n  gfx.renderer.setRenderTarget(renderTarget);\n  const context = gfx.renderer.getContext();\n  const result = context.checkFramebufferStatus(context.FRAMEBUFFER);\n  gfx.renderer.setRenderTarget(oldRT);\n  if (result !== context.FRAMEBUFFER_COMPLETE) {\n    // floatFrameBufferWarning = ;\n    this.logger.warn('Device doesn\\'t support electron density rendering');\n    return false;\n  }\n  return true;\n};\n\nMiew.prototype._renderVolume = (function () {\n  const volumeBFMat = new VolumeMaterial.BackFacePosMaterial();\n  const volumeFFMat = new VolumeMaterial.FrontFacePosMaterial();\n  const cubeOffsetMat = new THREE.Matrix4().makeTranslation(0.5, 0.5, 0.5);\n  const world2colorMat = new THREE.Matrix4();\n\n  let volumeRenderingSupported;\n\n  return function (volumeVisual, camera, dstBuf, tmpBuf1, tmpBuf2, tmpBuf3) {\n    const gfx = this._gfx;\n\n    if (typeof volumeRenderingSupported === 'undefined') {\n      volumeRenderingSupported = this._checkVolumeRenderingSupport(tmpBuf1);\n    }\n\n    if (!volumeRenderingSupported) {\n      return;\n    }\n\n    const mesh = volumeVisual.getMesh();\n\n    mesh.rebuild(gfx.camera);\n\n    // use main camera to prepare special textures to be used by volumetric rendering\n    // these textures have the size of the window and are stored in offscreen buffers\n    gfx.renderer.setClearColor('black', 0);\n    gfx.renderer.setRenderTarget(tmpBuf1);\n    gfx.renderer.clear();\n    gfx.renderer.setRenderTarget(tmpBuf2);\n    gfx.renderer.clear();\n    gfx.renderer.setRenderTarget(tmpBuf3);\n    gfx.renderer.clear();\n\n    gfx.renderer.setRenderTarget(tmpBuf1);\n    // draw plane with its own material, because it differs slightly from volumeBFMat\n    camera.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n    gfx.renderer.render(gfx.scene, camera);\n\n    camera.layers.set(gfxutils.LAYERS.VOLUME);\n    gfx.scene.overrideMaterial = volumeBFMat;\n    gfx.renderer.render(gfx.scene, camera);\n\n    gfx.renderer.setRenderTarget(tmpBuf2);\n    camera.layers.set(gfxutils.LAYERS.VOLUME);\n    gfx.scene.overrideMaterial = volumeFFMat;\n    gfx.renderer.render(gfx.scene, camera);\n\n    gfx.scene.overrideMaterial = null;\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n\n    // prepare texture that contains molecule positions\n    world2colorMat.copy(mesh.matrixWorld).invert();\n    UberMaterial.prototype.uberOptions.world2colorMatrix.multiplyMatrices(cubeOffsetMat, world2colorMat);\n    camera.layers.set(gfxutils.LAYERS.COLOR_FROM_POSITION);\n    gfx.renderer.setRenderTarget(tmpBuf3);\n    gfx.renderer.render(gfx.scene, camera);\n\n    // render volume\n    const vm = mesh.material;\n    vm.uniforms._BFRight.value = tmpBuf1.texture;\n    vm.uniforms._FFRight.value = tmpBuf2.texture;\n    vm.uniforms._WFFRight.value = tmpBuf3.texture;\n    camera.layers.set(gfxutils.LAYERS.VOLUME);\n    gfx.renderer.setRenderTarget(dstBuf);\n    gfx.renderer.render(gfx.scene, camera);\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n  };\n}());\n\n/*  Render scene with 'ZPrepass transparency Effect'\n   * Idea: transparent objects are rendered in two passes. The first one writes result only into depth buffer.\n   * The second pass reads depth buffer and writes only to color buffer. The method results in\n   * correct image of front part of the semi-transparent objects, but we can see only front transparent objects\n   * and opaque objects inside, there is no transparent objects inside.\n   * Notes: 1. Opaque objects should be rendered strictly before semi-transparent ones.\n   * 2. Realization doesn't use camera layers because scene traversing is used for material changes and\n   * we can use it to select needed meshes and don't complicate meshes builders with layers\n  */\nMiew.prototype._renderWithPrepassTransparency = (function () {\n  return function (camera, targetBuffer) {\n    const gfx = this._gfx;\n    gfx.renderer.setRenderTarget(targetBuffer);\n\n    // opaque objects\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n    gfx.renderer.render(gfx.scene, camera);\n\n    // transparent objects z prepass\n    camera.layers.set(gfxutils.LAYERS.PREPASS_TRANSPARENT);\n    gfx.renderer.getContext().colorMask(false, false, false, false); // don't update color buffer\n    gfx.renderer.render(gfx.scene, camera);\n    gfx.renderer.getContext().colorMask(true, true, true, true); // update color buffer\n\n    // transparent objects color pass\n    camera.layers.set(gfxutils.LAYERS.TRANSPARENT);\n    gfx.renderer.render(gfx.scene, camera);\n\n    // restore default layer\n    camera.layers.set(gfxutils.LAYERS.DEFAULT);\n  };\n}());\n\nMiew.prototype._performFXAA = (function () {\n  const _fxaaMaterial = new FXAAMaterial();\n\n  return function (srcBuffer, targetBuffer) {\n    if (typeof srcBuffer === 'undefined' || typeof targetBuffer === 'undefined') {\n      return;\n    }\n\n    const gfx = this._gfx;\n\n    // clear canvas\n    gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.clear();\n\n    // do fxaa processing of offscreen buff2\n    _fxaaMaterial.uniforms.srcTex.value = srcBuffer.texture;\n    _fxaaMaterial.uniforms.srcTexelSize.value.set(1.0 / srcBuffer.width, 1.0 / srcBuffer.height);\n    _fxaaMaterial.uniforms.bgColor.value.set(settings.now.bg.color);\n\n    if (_fxaaMaterial.bgTransparent !== settings.now.bg.transparent) {\n      _fxaaMaterial.setValues({ bgTransparent: settings.now.bg.transparent });\n      _fxaaMaterial.needsUpdate = true;\n    }\n    gfx.renderer.renderScreenQuad(_fxaaMaterial);\n  };\n}());\n\nMiew.prototype._performAO = (function () {\n  const _aoMaterial = new AOMaterial();\n  const _horBlurMaterial = new AOHorBlurMaterial();\n  const _vertBlurMaterial = new AOVertBlurWithBlendMaterial();\n\n  const _scale = new THREE.Vector3();\n  return function (srcColorBuffer, normalBuffer, srcDepthTexture, targetBuffer, tempBuffer, tempBuffer1) {\n    if (!srcColorBuffer || !normalBuffer || !srcDepthTexture || !targetBuffer || !tempBuffer || !tempBuffer1) {\n      return;\n    }\n    const gfx = this._gfx;\n    const tanHalfFOV = Math.tan(THREE.MathUtils.DEG2RAD * 0.5 * gfx.camera.fov);\n\n    _aoMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n    _aoMaterial.uniforms.depthTexture.value = srcDepthTexture;\n    _aoMaterial.uniforms.normalTexture.value = normalBuffer.texture;\n    _aoMaterial.uniforms.srcTexelSize.value.set(1.0 / srcColorBuffer.width, 1.0 / srcColorBuffer.height);\n    _aoMaterial.uniforms.camNearFar.value.set(gfx.camera.near, gfx.camera.far);\n    _aoMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n    _aoMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n    _aoMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n    gfx.root.matrix.extractScale(_scale);\n    _aoMaterial.uniforms.kernelRadius.value = settings.now.debug.ssaoKernelRadius * _scale.x;\n    _aoMaterial.uniforms.depthThreshold.value = 2.0 * this._getBSphereRadius(); // diameter\n    _aoMaterial.uniforms.factor.value = settings.now.debug.ssaoFactor;\n    // N: should be tempBuffer1 for proper use of buffers (see buffers using outside the function)\n    gfx.renderer.setRenderTarget(tempBuffer1);\n    gfx.renderer.renderScreenQuad(_aoMaterial);\n\n    _horBlurMaterial.uniforms.aoMap.value = tempBuffer1.texture;\n    _horBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer1.width, 1.0 / tempBuffer1.height);\n    _horBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n    gfx.renderer.setRenderTarget(tempBuffer);\n    gfx.renderer.renderScreenQuad(_horBlurMaterial);\n\n    _vertBlurMaterial.uniforms.aoMap.value = tempBuffer.texture;\n    _vertBlurMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n    _vertBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer.width, 1.0 / tempBuffer.height);\n    _vertBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n    _vertBlurMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n    _vertBlurMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n    _vertBlurMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n    const { fog } = gfx.scene;\n    if (fog) {\n      _vertBlurMaterial.uniforms.fogNearFar.value.set(fog.near, fog.far);\n      _vertBlurMaterial.uniforms.fogColor.value.set(fog.color.r, fog.color.g, fog.color.b, settings.now.fogAlpha);\n    }\n    if ((_vertBlurMaterial.useFog !== settings.now.fog)\n      || (_vertBlurMaterial.fogTransparent !== settings.now.bg.transparent)) {\n      _vertBlurMaterial.setValues({ useFog: settings.now.fog, fogTransparent: settings.now.bg.transparent });\n      _vertBlurMaterial.needsUpdate = true;\n    }\n    gfx.renderer.setRenderTarget(targetBuffer);\n    gfx.renderer.renderScreenQuad(_vertBlurMaterial);\n  };\n}());\n\n/**\n * Reset the viewer, unload molecules.\n * @param {boolean=} keepReps - Keep representations while resetting viewer state.\n */\nMiew.prototype.reset = function (/* keepReps */) {\n  if (this._picker) {\n    this._picker.reset();\n  }\n  this._lastPick = null;\n\n  this._releaseAllVisuals();\n\n  this._setEditMode(EDIT_MODE.COMPLEX);\n\n  this._resetObjects();\n\n  if (this._gfx) {\n    gfxutils.clearTree(this._gfx.pivot);\n    this._gfx.renderer2d.reset();\n  }\n\n  this.setNeedRender();\n};\n\nMiew.prototype._resetScene = function () {\n  this._objectControls.reset();\n  this._objectControls.allowTranslation(true);\n  this._objectControls.allowAltObjFreeRotation(true);\n  this.resetReps();\n  this.resetPivot();\n  this.rebuildAll();\n};\n\nMiew.prototype.resetView = function () {\n  // reset controls\n  if (this._picker) {\n    this._picker.reset();\n  }\n  this._setEditMode(EDIT_MODE.COMPLEX);\n  this._resetScene();\n\n  // reset selection\n  this._forEachComplexVisual((visual) => {\n    visual.updateSelectionMask({});\n    visual.rebuildSelectionGeometry();\n  });\n};\n\nMiew.prototype._export = function (format) {\n  const TheExporter = _.head(io.exporters.find({ format }));\n  if (!TheExporter) {\n    this.logger.error('Could not find suitable exporter for this source');\n    return Promise.reject(new Error('Could not find suitable exporter for this source'));\n  }\n  this.dispatchEvent({ type: 'exporting' });\n\n  if (this._visuals[this._curVisualName] instanceof ComplexVisual) {\n    let dataSource = null;\n    if (TheExporter.SourceClass === ComplexVisual) {\n      dataSource = this._visuals[this._curVisualName];\n    } else if (TheExporter.SourceClass === Complex) {\n      dataSource = this._visuals[this._curVisualName]._complex;\n    }\n    const exporter = new TheExporter(dataSource, { miewVersion: Miew.VERSION });\n    return exporter.export().then((data) => data);\n  }\n  if (this._visuals[this._curVisualName] instanceof VolumeVisual) {\n    return Promise.reject(new Error('Sorry, exporter for volume data not implemented yet'));\n  }\n  return Promise.reject(new Error('Unexpected format of data'));\n};\n\nconst rePdbId = /^(?:(pdb|cif|mmtf|ccp4|dsn6):\\s*)?(\\d[a-z\\d]{3})$/i;\nconst rePubchem = /^(?:pc|pubchem):\\s*([a-z]+)$/i;\nconst reUrlScheme = /^([a-z][a-z\\d\\-+.]*):/i;\n\nfunction resolveSourceShortcut(source, opts) {\n  if (!_.isString(source)) {\n    return source;\n  }\n\n  // e.g. \"mmtf:1CRN\"\n  const matchesPdbId = rePdbId.exec(source);\n  if (matchesPdbId) {\n    let [, format = 'pdb', id] = matchesPdbId;\n\n    format = format.toLowerCase();\n    id = id.toUpperCase();\n\n    switch (format) {\n      case 'pdb':\n        source = `https://files.rcsb.org/download/${id}.pdb`;\n        break;\n      case 'cif':\n        source = `https://files.rcsb.org/download/${id}.cif`;\n        break;\n      case 'mmtf':\n        source = `https://mmtf.rcsb.org/v1.0/full/${id}`;\n        break;\n      case 'ccp4':\n        source = `https://www.ebi.ac.uk/pdbe/coordinates/files/${id.toLowerCase()}.ccp4`;\n        break;\n      case 'dsn6':\n        source = `https://edmaps.rcsb.org/maps/${id.toLowerCase()}_2fofc.dsn6`;\n        break;\n      default:\n        throw new Error('Unexpected data format shortcut');\n    }\n\n    opts.fileType = format;\n    opts.fileName = `${id}.${format}`;\n    opts.sourceType = 'url';\n    return source;\n  }\n\n  // e.g. \"pc:aspirin\"\n  const matchesPubchem = rePubchem.exec(source);\n  if (matchesPubchem) {\n    const compound = matchesPubchem[1].toLowerCase();\n    source = `https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/${compound}/JSON?record_type=3d`;\n    opts.fileType = 'pubchem';\n    opts.fileName = `${compound}.json`;\n    opts.sourceType = 'url';\n    return source;\n  }\n\n  // otherwise is should be an URL\n  if (opts.sourceType === 'url' || opts.sourceType === undefined) {\n    opts.sourceType = 'url';\n\n    // e.g. \"./data/1CRN.pdb\"\n    if (!reUrlScheme.test(source)) {\n      source = utils.resolveURL(source);\n    }\n  }\n\n  return source;\n}\n\nfunction updateBinaryMode(opts) {\n  let { binary } = opts;\n\n  // detect by format\n  if (opts.fileType !== undefined) {\n    const TheParser = _.head(io.parsers.find({ format: opts.fileType }));\n    if (TheParser) {\n      binary = TheParser.binary || false;\n    } else {\n      throw new Error('Could not find suitable parser for this format');\n    }\n  }\n\n  // detect by file extension\n  if (binary === undefined && opts.fileExt !== undefined) {\n    const TheParser = _.head(io.parsers.find({ ext: opts.fileExt }));\n    if (TheParser) {\n      binary = TheParser.binary || false;\n    }\n  }\n\n  // temporary workaround for animation\n  if (opts.fileExt !== undefined && opts.fileExt.toLowerCase() === '.man') {\n    opts.binary = true;\n    opts.animation = true; // who cares?\n  }\n\n  // update if detected\n  if (binary !== undefined) {\n    if (opts.binary !== undefined && opts.binary !== binary) {\n      opts.context.logger.warn('Overriding incorrect binary mode');\n    }\n  }\n\n  opts.binary = binary || false;\n}\n\nfunction _fetchData(source, opts, job) {\n  return new Promise(((resolve) => {\n    if (job.shouldCancel()) {\n      throw new Error('Operation cancelled');\n    }\n    job.notify({ type: 'fetching' });\n\n    // allow for source shortcuts\n    source = resolveSourceShortcut(source, opts);\n\n    // detect a proper loader\n    const TheLoader = _.head(io.loaders.find({ type: opts.sourceType, source }));\n    if (!TheLoader) {\n      throw new Error(LOADER_NOT_FOUND);\n    }\n\n    // split file name\n    const fileName = opts.fileName || TheLoader.extractName(source);\n    if (fileName) {\n      const [name, fileExt] = utils.splitFileName(fileName);\n      _.defaults(opts, { name, fileExt, fileName });\n    }\n\n    // should it be text or binary?\n    updateBinaryMode(opts);\n\n    // FIXME: All new settings retrieved from server are applied after the loading is complete. However, we need some\n    // flags to alter the loading process itself. Here we apply them in advance. Dirty hack. Kill the server, remove\n    // all hacks and everybody's happy.\n    let newOptions = _.get(opts, 'preset.expression');\n    if (!_.isUndefined(newOptions)) {\n      newOptions = JSON.parse(newOptions);\n      if (newOptions && newOptions.settings) {\n        const keys = ['singleUnit'];\n        for (let keyIndex = 0, keyCount = keys.length; keyIndex < keyCount; ++keyIndex) {\n          const key = keys[keyIndex];\n          const value = _.get(newOptions.settings, key);\n          if (!_.isUndefined(value)) {\n            settings.set(key, value);\n          }\n        }\n      }\n    }\n\n    // create a loader\n    const loader = new TheLoader(source, opts);\n    loader.context = opts.context;\n    job.addEventListener('cancel', () => loader.abort());\n\n    loader.addEventListener('progress', (event) => {\n      if (event.lengthComputable && event.total > 0) {\n        reportProgress(loader.logger, 'Fetching', event.loaded / event.total);\n      } else {\n        reportProgress(loader.logger, 'Fetching');\n      }\n    });\n\n    console.time('fetch');\n    const promise = loader.load()\n      .then((data) => {\n        console.timeEnd('fetch');\n        opts.context.logger.info('Fetching finished');\n        job.notify({ type: 'fetchingDone', data });\n        return data;\n      })\n      .catch((error) => {\n        console.timeEnd('fetch');\n        opts.context.logger.debug(error.message);\n        if (error.stack) {\n          opts.context.logger.debug(error.stack);\n        }\n        opts.context.logger.error('Fetching failed');\n        job.notify({ type: 'fetchingDone', error });\n        throw error;\n      });\n    resolve(promise);\n  }));\n}\n\nfunction _parseData(data, opts, job) {\n  if (job.shouldCancel()) {\n    return Promise.reject(new Error('Operation cancelled'));\n  }\n\n  job.notify({ type: 'parsing' });\n\n  const TheParser = _.head(io.parsers.find({ format: opts.fileType, ext: opts.fileExt, data }));\n  if (!TheParser) {\n    return Promise.reject(new Error('Could not find suitable parser'));\n  }\n\n  const parser = new TheParser(data, opts);\n  parser.context = opts.context;\n  job.addEventListener('cancel', () => parser.abort());\n\n  console.time('parse');\n  return parser.parse()\n    .then((dataSet) => {\n      console.timeEnd('parse');\n      job.notify({ type: 'parsingDone', data: dataSet });\n      return dataSet;\n    })\n    .catch((error) => {\n      console.timeEnd('parse');\n      opts.error = error;\n      opts.context.logger.debug(error.message);\n      if (error.stack) {\n        opts.context.logger.debug(error.stack);\n      }\n      opts.context.logger.error('Parsing failed');\n      job.notify({ type: 'parsingDone', error });\n      throw error;\n    });\n}\n\n/**\n * Load molecule asynchronously.\n * @param {string|File} source - Molecule source to load (e.g. PDB ID, URL or File object).\n * @param {object=} opts - Options.\n * @param {string=} opts.sourceType - Data source type (e.g. 'url', 'file').\n * @param {string=} opts.fileType - Data contents type (e.g. 'pdb', 'cml').\n * @param {string=} opts.mdFile - .nc file path.\n * @param {boolean=} opts.keepRepsInfo - prevent reset of object and reps information.\n * @returns {Promise} name of the visual that was added to the viewer\n */\nMiew.prototype.load = function (source, opts) {\n  opts = _.merge({}, opts, {\n    context: this,\n  });\n\n  // for a single-file scenario\n  if (!this.settings.now.use.multiFile) {\n    // abort all loaders in progress\n    if (this._loading.length) {\n      this._loading.forEach((job) => {\n        job.cancel();\n      });\n      this._loading.length = 0;\n    }\n\n    // reset\n    if (!opts.animation) { // FIXME: sometimes it is set AFTERWARDS!\n      this.reset(true);\n    }\n  }\n\n  this._interpolator.reset();\n\n  this.dispatchEvent({ type: 'loading', options: opts, source });\n\n  const job = new JobHandle();\n  this._loading.push(job);\n  job.addEventListener('notification', (e) => {\n    this.dispatchEvent(e.slaveEvent);\n  });\n\n  this._spinner.spin(this._container);\n\n  const onLoadEnd = (anything) => {\n    const jobIndex = this._loading.indexOf(job);\n    if (jobIndex !== -1) {\n      this._loading.splice(jobIndex, 1);\n    }\n    this._spinner.stop();\n    this._refreshTitle();\n    job.notify({ type: 'loadingDone', anything });\n    return anything;\n  };\n\n  return _fetchData(source, opts, job)\n    .then((data) => _parseData(data, opts, job))\n    .then((object) => {\n      const name = this._onLoad(object, opts);\n      return onLoadEnd(name);\n    })\n    .catch((err) => {\n      this.logger.error('Could not load data');\n      this.logger.debug(err);\n      throw onLoadEnd(err);\n    });\n};\n\n/**\n * Unload molecule (delete corresponding visual).\n * @param {string=} name - name of the visual\n */\nMiew.prototype.unload = function (name) {\n  this._removeVisual(name || this.getCurrentVisual());\n  this.resetPivot();\n  if (settings.now.shadow.on) {\n    this._updateShadowCamera();\n  }\n};\n\n/**\n * Start new animation. Now is broken.\n * @param fileData - new data to animate\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._startAnimation = function (fileData) {\n  this._stopAnimation();\n  const self = this;\n  const visual = this._getComplexVisual();\n  if (visual === null) {\n    this.logger.error('Unable to start animation - no molecule is loaded.');\n    return;\n  }\n  try {\n    this._frameInfo = new FrameInfo(\n      visual.getComplex(), fileData,\n      {\n        onLoadStatusChanged() {\n          self.dispatchEvent({\n            type: 'mdPlayerStateChanged',\n            state: {\n              isPlaying: self._isAnimating,\n              isLoading: self._frameInfo ? self._frameInfo.isLoading : true,\n            },\n          });\n        },\n        onError(message) {\n          self._stopAnimation();\n          self.logger.error(message);\n        },\n      },\n    );\n  } catch (e) {\n    this.logger.error('Animation file does not fit to current complex!');\n    return;\n  }\n  this._continueAnimation();\n};\n\n/**\n * Pause current animation. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._pauseAnimation = function () {\n  if (this._animInterval === null) {\n    return;\n  }\n  this._isAnimating = false;\n  clearInterval(this._animInterval);\n  this._animInterval = null;\n  if (this._frameInfo) {\n    this.dispatchEvent({\n      type: 'mdPlayerStateChanged',\n      state: {\n        isPlaying: this._isAnimating,\n        isLoading: this._frameInfo.isLoading,\n      },\n    });\n  }\n};\n\n/**\n * Continue current animation after pausing. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._continueAnimation = function () {\n  this._isAnimating = true;\n  let minFrameTime = 1000 / settings.now.maxfps;\n  minFrameTime = Number.isNaN(minFrameTime) ? 0 : minFrameTime;\n  const self = this;\n  const { pivot } = self._gfx;\n  const visual = this._getComplexVisual();\n  if (visual) {\n    visual.resetSelectionMask();\n    visual.rebuildSelectionGeometry();\n    this._msgAtomInfo.style.opacity = 0.0;\n  }\n  this._animInterval = setInterval(() => {\n    self.dispatchEvent({\n      type: 'mdPlayerStateChanged',\n      state: {\n        isPlaying: self._isAnimating,\n        isLoading: self._frameInfo.isLoading,\n      },\n    });\n    if (self._frameInfo.frameIsReady) {\n      pivot.updateToFrame(self._frameInfo);\n      self._updateObjsToFrame(self._frameInfo);\n      self._refreshTitle(` Frame ${self._frameInfo._currFrame} of ${self._frameInfo._framesCount\n      } time interval - ${self._frameInfo._timeStep}`);\n      try {\n        self._frameInfo.nextFrame();\n      } catch (e) {\n        self.logger.error('Error during animation');\n        self._stopAnimation();\n        return;\n      }\n      self._needRender = true;\n    }\n  }, minFrameTime);\n};\n\n/**\n * Stop current animation. Now is broken.\n * @private\n * @deprecated until animation system refactoring.\n */\nMiew.prototype._stopAnimation = function () {\n  if (this._animInterval === null) {\n    return;\n  }\n  clearInterval(this._animInterval);\n  this._frameInfo.disableEvents();\n  this._frameInfo = null;\n  this._animInterval = null;\n  this.dispatchEvent({\n    type: 'mdPlayerStateChanged',\n    state: null,\n  });\n};\n\n/**\n * Invoked upon successful loading of some data source\n * @param {DataSource} dataSource - Data source for visualization (molecular complex or other)\n * @param {object} opts - Options.\n * @private\n */\nMiew.prototype._onLoad = function (dataSource, opts) {\n  const gfx = this._gfx;\n  let visualName = null;\n\n  if (opts.animation) {\n    this._refreshTitle();\n    this._startAnimation(dataSource);\n    return null;\n  }\n  this._stopAnimation();\n  if (!opts || !opts.keepRepsInfo) {\n    this._opts.reps = null;\n    this._opts._objects = null;\n  }\n\n  if (dataSource.id === 'Complex') {\n    const complex = dataSource;\n\n    // update title\n    if (opts.fileName) {\n      complex.name = complex.name || removeExtension(opts.fileName).toUpperCase();\n    } else if (opts.amberFileName) {\n      complex.name = complex.name || removeExtension(opts.amberFileName).toUpperCase();\n    } else {\n      complex.name = `Dynamic ${opts.fileType} molecule`;\n    }\n\n    visualName = this._addVisual(new ComplexVisual(complex.name, complex));\n    this._curVisualName = visualName;\n\n    const desc = this.info();\n    this.logger.info(`Parsed ${opts.fileName} (${\n      desc.atoms} atoms, ${\n      desc.bonds} bonds, ${\n      desc.residues} residues, ${\n      desc.chains} chains).`);\n\n    if (_.isNumber(this._opts.unit)) {\n      complex.setCurrentUnit(this._opts.unit);\n    }\n\n    if (opts.preset) {\n      // ...removed server access...\n    } else if (settings.now.autoPreset) {\n      switch (opts.fileType) {\n        case 'cml':\n          this.resetReps('small');\n          break;\n        case 'pdb':\n        case 'mmtf':\n        case 'cif':\n          if (hasValidResidues(complex)) {\n            this.resetReps('macro');\n          } else {\n            this.resetReps('small');\n          }\n          break;\n        default:\n          this.resetReps('default');\n          break;\n      }\n    } else {\n      this.resetReps('default');\n    }\n  } else if (dataSource.id === 'Volume') {\n    this.resetEd();\n    visualName = this._onLoadEd(dataSource);\n  }\n\n  gfx.camera.updateProjectionMatrix();\n  this._updateFog();\n\n  // reset global transform\n  gfx.root.resetTransform();\n  this.resetPivot();\n\n  // set scale to fit everything on the screen\n  this._objectControls.setScale(settings.now.radiusToFit / this._getBSphereRadius());\n\n  this._resetObjects();\n\n  if (settings.now.autoResolution) {\n    this._tweakResolution();\n  }\n\n  if (settings.now.shadow.on) {\n    this._updateShadowCamera();\n  }\n\n  if (this._opts.view) {\n    this.view(this._opts.view);\n    delete this._opts.view;\n  }\n\n  this._refreshTitle();\n\n  return visualName;\n};\n\nMiew.prototype.resetEd = function () {\n  if (this._edLoader) {\n    this._edLoader.abort();\n    this._edLoader = null;\n  }\n\n  // free all resources\n  this._removeVisual(this._getVolumeVisual());\n\n  this._needRender = true;\n};\n\nMiew.prototype.loadEd = function (source) {\n  this.resetEd();\n\n  const TheLoader = _.head(io.loaders.find({ source }));\n  if (!TheLoader) {\n    this.logger.error(LOADER_NOT_FOUND);\n    return Promise.reject(new Error(LOADER_NOT_FOUND));\n  }\n\n  const loader = this._edLoader = new TheLoader(source, { binary: true });\n  loader.context = this;\n  return loader.load().then((data) => {\n    const TheParser = _.head(io.parsers.find({ format: 'ccp4' }));\n    if (!TheParser) {\n      throw new Error(PARSER_NOT_FOUND);\n    }\n    const parser = new TheParser(data);\n    parser.context = this;\n    return parser.parse().then((dataSource) => {\n      this._onLoadEd(dataSource);\n    });\n  }).catch((error) => {\n    this.logger.error('Could not load ED data');\n    this.logger.debug(error);\n  });\n};\n\nMiew.prototype._onLoadEd = function (dataSource) {\n  dataSource.normalize();\n\n  const volumeVisual = new VolumeVisual('volume', dataSource);\n  volumeVisual.getMesh().layers.set(gfxutils.LAYERS.VOLUME); // volume mesh is not visible to common render\n  const visualName = this._addVisual(volumeVisual);\n\n  this._needRender = true;\n  return visualName;\n};\n\nMiew.prototype._needRebuild = function () {\n  let needsRebuild = false;\n  this._forEachComplexVisual((visual) => {\n    needsRebuild = needsRebuild || visual.needsRebuild();\n  });\n  return needsRebuild;\n};\n\nMiew.prototype._rebuildObjects = function () {\n  const self = this;\n  const gfx = this._gfx;\n  let i;\n  let n;\n\n  // remove old object geometry\n  const toRemove = [];\n  for (i = 0; i < gfx.pivot.children.length; ++i) {\n    const child = gfx.pivot.children[i];\n    if (!(child instanceof Visual)) {\n      toRemove.push(child);\n    }\n  }\n  for (i = 0; i < toRemove.length; ++i) {\n    toRemove[i].parent.remove(toRemove[i]);\n  }\n\n  setTimeout(() => {\n    const objList = self._objects;\n    for (i = 0, n = objList.length; i < n; ++i) {\n      const obj = objList[i];\n      if (obj.needsRebuild) {\n        obj.build();\n      }\n      if (obj.getGeometry()) {\n        gfx.pivot.add(obj.getGeometry());\n      }\n    }\n  }, 10);\n};\n\nMiew.prototype.changeUnit = function (unitIdx, name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    throw new Error('There is no complex to change!');\n  }\n\n  function currentUnitInfo() {\n    const unit = visual ? visual.getComplex().getCurrentUnit() : 0;\n    const type = unit > 0 ? (`Bio molecule ${unit}`) : 'Asymmetric unit';\n    return `Current unit: ${unit} (${type})`;\n  }\n\n  if (unitIdx === undefined) {\n    return currentUnitInfo();\n  }\n  if (_.isString(unitIdx)) {\n    unitIdx = Math.max(parseInt(unitIdx, 10), 0);\n  }\n  if (visual.getComplex().setCurrentUnit(unitIdx)) {\n    this._resetScene();\n    this._updateInfoPanel();\n  }\n  return currentUnitInfo();\n};\n\n/**\n * Start to rebuild geometry asynchronously.\n */\nMiew.prototype.rebuild = function () {\n  if (this._building) {\n    this.logger.warn('Miew.rebuild(): already building!');\n    return;\n  }\n  this._building = true;\n\n  this.dispatchEvent({ type: 'rebuilding' });\n\n  this._rebuildObjects();\n\n  this._gfx.renderer2d.reset();\n\n  const rebuildActions = [];\n  this._forEachComplexVisual((visual) => {\n    if (visual.needsRebuild()) {\n      rebuildActions.push(visual.rebuild().then(() => new Promise(((resolve) => {\n        visual.rebuildSelectionGeometry();\n        resolve();\n      }))));\n    }\n  });\n\n  // Start asynchronous rebuild\n  const self = this;\n  this._spinner.spin(this._container);\n  Promise.all(rebuildActions).then(() => {\n    self._spinner.stop();\n\n    self._needRender = true;\n\n    self._refreshTitle();\n    this.dispatchEvent({ type: 'buildingDone' });\n    self._building = false;\n  });\n};\n\n/** Mark all representations for rebuilding */\nMiew.prototype.rebuildAll = function () {\n  this._forEachComplexVisual((visual) => {\n    visual.setNeedsRebuild();\n  });\n};\n\nMiew.prototype._refreshTitle = function (appendix) {\n  let title;\n  appendix = appendix === undefined ? '' : appendix;\n  const visual = this._getComplexVisual();\n  if (visual) {\n    title = visual.getComplex().name;\n    const rep = visual.repGet(visual.repCurrent());\n    title += (rep ? `  ${rep.mode.name} Mode` : '');\n  } else {\n    title = Object.keys(this._visuals).length > 0 ? 'Unknown' : 'No Data';\n  }\n  title += appendix;\n\n  this.dispatchEvent({ type: 'titleChanged', data: title });\n};\n\nMiew.prototype.setNeedRender = function () {\n  this._needRender = true;\n};\n\nMiew.prototype._extractRepresentation = function () {\n  const changed = [];\n\n  this._forEachComplexVisual((visual) => {\n    if (visual.getSelectionCount() === 0) {\n      return;\n    }\n\n    const selector = visual.buildSelectorFromMask(1 << visual.getSelectionBit());\n    const defPreset = settings.now.presets.default;\n    const res = visual.repAdd({\n      selector,\n      mode: defPreset[0].mode.id,\n      colorer: defPreset[0].colorer.id,\n      material: defPreset[0].material.id,\n    });\n    if (!res) {\n      if (visual.repCount() === ComplexVisual.NUM_REPRESENTATION_BITS) {\n        this.logger.warn(`Number of representations is limited to ${ComplexVisual.NUM_REPRESENTATION_BITS}`);\n      }\n      return;\n    }\n\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name: visual.name });\n    visual.repCurrent(res.index);\n\n    changed.push(visual.name);\n  });\n\n  if (changed.length > 0) {\n    this.logger.report(`New representation from selection for complexes: ${changed.join(', ')}`);\n  }\n};\n\n/**\n * Change current representation list.\n * @param {array} reps - Representation list.\n */\nMiew.prototype._setReps = function (reps) {\n  reps = reps || (this._opts && this._opts.reps) || [];\n  this._forEachComplexVisual((visual) => visual.resetReps(reps));\n};\n\n/**\n * Apply existing preset to current scene.\n * @param preset\n */\nMiew.prototype.applyPreset = function (preset) {\n  const { presets } = settings.now;\n  const presList = [\n    preset || settings.defaults.preset,\n    settings.defaults.preset,\n    Object.keys(presets)[0],\n  ];\n  let reps = null;\n  for (let i = 0; !reps && i < presList.length; ++i) {\n    settings.set('preset', presList[i]);\n    reps = presets[settings.now.preset];\n    if (!reps) {\n      this.logger.warn(`Unknown preset \"${settings.now.preset}\"`);\n    }\n  }\n  this._setReps(reps);\n};\n\n/**\n * Reset current representation list to initial values.\n * @param {string} [preset] - The source preset in case of uninitialized representation list.\n */\nMiew.prototype.resetReps = function (preset) {\n  const reps = this._opts && this._opts.reps;\n  if (reps) {\n    this._setReps(reps);\n  } else {\n    this.applyPreset(preset);\n  }\n};\n\n/**\n * Get number of representations created so far.\n * @returns {number} Number of reps.\n */\nMiew.prototype.repCount = function (name) {\n  const visual = this._getComplexVisual(name);\n  return visual ? visual.repCount() : 0;\n};\n\n/**\n * Get or set the current representation index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount()}. Defaults to the current one.\n * @param {string=} [name] - Complex name. Defaults to the current one.\n * @returns {number} The current index.\n */\nMiew.prototype.repCurrent = function (index, name) {\n  const visual = this._getComplexVisual(name);\n  const newIdx = visual ? visual.repCurrent(index) : -1;\n  if (index && newIdx !== index) {\n    this.logger.warn(`Representation ${index} was not found. Current rep remains unchanged.`);\n  }\n  return newIdx;\n};\n\n/**\n * Get or set representation by index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount}(). Defaults to the current one.\n * @param {object=} rep - Optional representation description.\n * @param {string=} rep.selector - Selector string.\n * @param {string=} rep.mode - Mode id.\n * @param {string=} rep.colorer - Colorer id.\n * @param {string=} rep.material - Material id.\n * @returns {?object} Representation description.\n */\nMiew.prototype.rep = function (index, rep) {\n  const visual = this._getComplexVisual('');\n  if (!visual) {\n    return null;\n  }\n  const res = visual.rep(index, rep);\n  if (res.status === 'created') {\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name: visual.name });\n  } else if (res.status === 'changed') {\n    this.dispatchEvent({ type: 'repChanged', index: res.index, name: visual.name });\n  }\n  return res.desc;\n};\n\n/**\n * Get representation (not just description) by index.\n * @param {number=} index - Zero-based index, up to {@link Miew#repCount}(). Defaults to the current one.\n * @returns {?object} Representation.\n */\nMiew.prototype.repGet = function (index, name) {\n  const visual = this._getComplexVisual(name);\n  return visual ? visual.repGet(index) : null;\n};\n\n/**\n * Add new representation.\n * @param {object=} rep - Representation description.\n * @returns {number} Index of the new representation.\n */\nMiew.prototype.repAdd = function (rep, name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    return -1;\n  }\n\n  const res = visual.repAdd(rep);\n  if (res) {\n    this.dispatchEvent({ type: 'repAdded', index: res.index, name });\n    return res.index;\n  }\n  return -1;\n};\n\n/**\n * Remove representation.\n * @param {number=} index - Zero-based representation index.\n */\nMiew.prototype.repRemove = function (index, name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    return;\n  }\n\n  visual.repRemove(index);\n  this.dispatchEvent({ type: 'repRemoved', index, name });\n};\n\n/**\n * Hide representation.\n * @param {number} index - Zero-based representation index.\n * @param {boolean=} hide - Specify false to make rep visible, true to hide (by default).\n */\nMiew.prototype.repHide = function (index, hide, name) {\n  this._needRender = true;\n  const visual = this._getComplexVisual(name);\n  return visual ? visual.repHide(index, hide) : null;\n};\n\nMiew.prototype._setEditMode = function (mode) {\n  this._editMode = mode;\n\n  const elem = this._msgMode;\n  if (elem) {\n    elem.style.opacity = (mode === EDIT_MODE.COMPLEX) ? 0.0 : 1.0;\n\n    if (mode !== EDIT_MODE.COMPLEX) {\n      const t = elem.getElementsByTagName('p')[0];\n      t.innerHTML = (mode === EDIT_MODE.COMPONENT) ? 'COMPONENT EDIT MODE' : 'FRAGMENT EDIT MODE';\n    }\n  }\n\n  this.dispatchEvent({ type: 'editModeChanged', data: mode === EDIT_MODE.COMPLEX });\n};\n\nMiew.prototype._enterComponentEditMode = function () {\n  if (this._editMode !== EDIT_MODE.COMPLEX) {\n    return;\n  }\n\n  const editors = [];\n  this._forEachComplexVisual((visual) => {\n    const editor = visual.beginComponentEdit();\n    if (editor) {\n      editors.push(editor);\n    }\n  });\n\n  if (editors === []) {\n    return;\n  }\n\n  this._editors = editors;\n\n  this.logger.info('COMPONENT EDIT MODE -- ON');\n  this._setEditMode(EDIT_MODE.COMPONENT);\n  this._objectControls.keysTranslateObj(true);\n};\n\nMiew.prototype._applyComponentEdit = function () {\n  if (this._editMode !== EDIT_MODE.COMPONENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n  this._objectControls.keysTranslateObj(false);\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].apply();\n  }\n  this._editors = [];\n\n  this.logger.info('COMPONENT EDIT MODE -- OFF (applied)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n\n  this.rebuildAll();\n};\n\nMiew.prototype._discardComponentEdit = function () {\n  if (this._editMode !== EDIT_MODE.COMPONENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n  this._objectControls.keysTranslateObj(false);\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].discard();\n  }\n  this._editors = [];\n\n  this.logger.info('COMPONENT EDIT MODE -- OFF (discarded)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n\n  this._needRender = true;\n  this.rebuildAll();\n};\n\nMiew.prototype._enterFragmentEditMode = function () {\n  if (this._editMode !== EDIT_MODE.COMPLEX) {\n    return;\n  }\n\n  const selectedVisuals = [];\n  this._forEachComplexVisual((visual) => {\n    if (visual instanceof ComplexVisual\n          && visual.getSelectionCount() > 0) {\n      selectedVisuals.push(visual);\n    }\n  });\n\n  if (selectedVisuals.length !== 1) {\n    // either we have no selection or\n    // we have selected atoms in two or more visuals -- not supported\n    return;\n  }\n\n  const editor = selectedVisuals[0].beginFragmentEdit();\n  if (!editor) {\n    return;\n  }\n  this._editors = [editor];\n\n  this.logger.info('FRAGMENT EDIT MODE -- ON (single bond)');\n  this._setEditMode(EDIT_MODE.FRAGMENT);\n  this._objectControls.allowTranslation(false);\n  this._objectControls.allowAltObjFreeRotation(editor.isFreeRotationAllowed());\n\n  this._needRender = true;\n};\n\nMiew.prototype._applyFragmentEdit = function () {\n  if (this._editMode !== EDIT_MODE.FRAGMENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].apply();\n  }\n  this._editors = [];\n\n  this.logger.info('FRAGMENT EDIT MODE -- OFF (applied)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n  this._objectControls.allowTranslation(true);\n  this._objectControls.allowAltObjFreeRotation(true);\n\n  this.rebuildAll();\n};\n\nMiew.prototype._discardFragmentEdit = function () {\n  if (this._editMode !== EDIT_MODE.FRAGMENT) {\n    return;\n  }\n\n  this._objectControls.stop();\n\n  for (let i = 0; i < this._editors.length; ++i) {\n    this._editors[i].discard();\n  }\n  this._editors = [];\n\n  this.logger.info('FRAGMENT EDIT MODE -- OFF (discarded)');\n  this._setEditMode(EDIT_MODE.COMPLEX);\n  this._objectControls.allowTranslation(true);\n  this._objectControls.allowAltObjFreeRotation(true);\n\n  this._needRender = true;\n};\n\nMiew.prototype._onPick = function (event) {\n  if (!settings.now.picking) {\n    // picking is disabled\n    return;\n  }\n\n  if (this._animInterval !== null) {\n    // animation playback is on\n    return;\n  }\n\n  if (this._editMode === EDIT_MODE.FRAGMENT) {\n    // prevent picking in fragment edit mode\n    return;\n  }\n\n  if (this._objectControls.isEditingAltObj()) {\n    // prevent picking during component rotation\n    return;\n  }\n\n  // update last pick & find complex\n  let complex = null;\n  if (event.obj.atom) {\n    complex = event.obj.atom.residue.getChain().getComplex();\n    this._lastPick = event.obj.atom;\n  } else if (event.obj.residue) {\n    complex = event.obj.residue.getChain().getComplex();\n    this._lastPick = event.obj.residue;\n  } else if (event.obj.chain) {\n    complex = event.obj.chain.getComplex();\n    this._lastPick = event.obj.chain;\n  } else if (event.obj.molecule) {\n    complex = event.obj.molecule.complex;\n    this._lastPick = event.obj.molecule;\n  } else {\n    this._lastPick = null;\n  }\n\n  function _updateSelection(visual) {\n    visual.updateSelectionMask(event.obj);\n    visual.rebuildSelectionGeometry();\n  }\n\n  // update visual\n  if (complex) {\n    const visual = this._getVisualForComplex(complex);\n    if (visual) {\n      _updateSelection(visual);\n      this._needRender = true;\n    }\n  } else {\n    this._forEachComplexVisual(_updateSelection);\n    this._needRender = true;\n  }\n\n  this._updateInfoPanel();\n  this.dispatchEvent(event);\n};\n\nMiew.prototype._onKeyDown = function (event) {\n  if (!this._running || !this._hotKeysEnabled) {\n    return;\n  }\n\n  switch (event.keyCode) {\n    case 'C'.charCodeAt(0):\n      if (settings.now.editing) {\n        this._enterComponentEditMode();\n      }\n      break;\n    case 'F'.charCodeAt(0):\n      if (settings.now.editing) {\n        this._enterFragmentEditMode();\n      }\n      break;\n    case 'A'.charCodeAt(0):\n      switch (this._editMode) {\n        case EDIT_MODE.COMPONENT:\n          this._applyComponentEdit();\n          break;\n        case EDIT_MODE.FRAGMENT:\n          this._applyFragmentEdit();\n          break;\n        default: break;\n      }\n      break;\n    case 'D'.charCodeAt(0):\n      switch (this._editMode) {\n        case EDIT_MODE.COMPONENT:\n          this._discardComponentEdit();\n          break;\n        case EDIT_MODE.FRAGMENT:\n          this._discardFragmentEdit();\n          break;\n        default: break;\n      }\n      break;\n    case 'S'.charCodeAt(0):\n      event.preventDefault();\n      event.stopPropagation();\n      settings.set('ao', !settings.now.ao);\n      this._needRender = true;\n      break;\n    case 107:\n      event.preventDefault();\n      event.stopPropagation();\n      this._forEachComplexVisual((visual) => {\n        visual.expandSelection();\n        visual.rebuildSelectionGeometry();\n      });\n      this._updateInfoPanel();\n      this._needRender = true;\n      break;\n    case 109:\n      event.preventDefault();\n      event.stopPropagation();\n      this._forEachComplexVisual((visual) => {\n        visual.shrinkSelection();\n        visual.rebuildSelectionGeometry();\n      });\n      this._updateInfoPanel();\n      this._needRender = true;\n      break;\n    default:\n  }\n};\n\nMiew.prototype._onKeyUp = function (event) {\n  if (!this._running || !this._hotKeysEnabled) {\n    return;\n  }\n\n  if (event.keyCode === 'X'.charCodeAt(0)) {\n    this._extractRepresentation();\n  }\n};\n\nMiew.prototype._updateInfoPanel = function () {\n  const info = this._msgAtomInfo.getElementsByTagName('p')[0];\n  let atom;\n  let residue;\n\n  let count = 0;\n  this._forEachComplexVisual((visual) => {\n    count += visual.getSelectionCount();\n  });\n\n  while (info.firstChild) {\n    info.removeChild(info.firstChild);\n  }\n\n  if (count === 0) {\n    this._msgAtomInfo.style.opacity = 0.0;\n    return;\n  }\n\n  let firstLine = `${String(count)} atom${count !== 1 ? 's' : ''} selected`;\n  if (this._lastPick !== null) {\n    firstLine += ', the last pick:';\n  }\n  let secondLine = '';\n  let aName = '';\n  let coordLine = '';\n\n  if (this._lastPick instanceof Atom) {\n    atom = this._lastPick;\n    residue = atom.residue;\n\n    aName = atom.name;\n    const location = (atom.location !== 32) ? String.fromCharCode(atom.location) : ''; // 32 is code of white-space\n    secondLine = `${atom.element.fullName} #${atom.serial}${location}: \\\n      ${residue._chain._name}.${residue._type._name}${residue._sequence}${residue._icode.trim()}.`;\n    secondLine += aName;\n\n    coordLine = `Coord: (${atom.position.x.toFixed(2).toString()},\\\n     ${atom.position.y.toFixed(2).toString()},\\\n     ${atom.position.z.toFixed(2).toString()})`;\n  } else if (this._lastPick instanceof Residue) {\n    residue = this._lastPick;\n\n    secondLine = `${residue._type._fullName}: \\\n      ${residue._chain._name}.${residue._type._name}${residue._sequence}${residue._icode.trim()}`;\n  } else if (this._lastPick instanceof Chain) {\n    secondLine = `chain ${this._lastPick._name}`;\n  } else if (this._lastPick instanceof Molecule) {\n    secondLine = `molecule ${this._lastPick._name}`;\n  }\n\n  info.appendChild(document.createTextNode(firstLine));\n\n  if (secondLine !== '') {\n    info.appendChild(document.createElement('br'));\n    info.appendChild(document.createTextNode(secondLine));\n  }\n\n  if (coordLine !== '') {\n    info.appendChild(document.createElement('br'));\n    info.appendChild(document.createTextNode(coordLine));\n  }\n\n  this._msgAtomInfo.style.opacity = 1.0;\n};\n\nMiew.prototype._getAltObj = function () {\n  if (this._editors) {\n    let altObj = null;\n    for (let i = 0; i < this._editors.length; ++i) {\n      const nextAltObj = this._editors[i].getAltObj();\n      if (nextAltObj.objects.length > 0) {\n        if (altObj) {\n          // we have selected atoms in two or more visuals -- not supported\n          altObj = null;\n          break;\n        }\n        altObj = nextAltObj;\n      }\n    }\n    if (altObj) {\n      return altObj;\n    }\n  }\n\n  return {\n    objects: [],\n    pivot: new THREE.Vector3(0, 0, 0),\n  };\n};\n\nMiew.prototype.resetPivot = (function () {\n  const boundingBox = new THREE.Box3();\n  const center = new THREE.Vector3();\n\n  return function () {\n    boundingBox.makeEmpty();\n    this._forEachVisual((visual) => {\n      boundingBox.union(visual.getBoundaries().boundingBox);\n    });\n\n    boundingBox.getCenter(center);\n    this._objectControls.setPivot(center.negate());\n    this.dispatchEvent({ type: 'transform' });\n  };\n}());\n\nMiew.prototype.setPivotResidue = (function () {\n  const center = new THREE.Vector3();\n\n  return function (residue) {\n    const visual = this._getVisualForComplex(residue.getChain().getComplex());\n    if (!visual) {\n      return;\n    }\n\n    if (residue._controlPoint) {\n      center.copy(residue._controlPoint);\n    } else {\n      let x = 0;\n      let y = 0;\n      let z = 0;\n      const amount = residue._atoms.length;\n      for (let i = 0; i < amount; ++i) {\n        const p = residue._atoms[i].position;\n        x += p.x / amount;\n        y += p.y / amount;\n        z += p.z / amount;\n      }\n      center.set(x, y, z);\n    }\n    center.applyMatrix4(visual.matrix).negate();\n    this._objectControls.setPivot(center);\n    this.dispatchEvent({ type: 'transform' });\n  };\n}());\n\nMiew.prototype.setPivotAtom = (function () {\n  const center = new THREE.Vector3();\n\n  return function (atom) {\n    const visual = this._getVisualForComplex(atom.residue.getChain().getComplex());\n    if (!visual) {\n      return;\n    }\n\n    center.copy(atom.position);\n    center.applyMatrix4(visual.matrix).negate();\n    this._objectControls.setPivot(center);\n    this.dispatchEvent({ type: 'transform' });\n  };\n}());\n\nMiew.prototype.getSelectionCenter = (function () {\n  const _centerInVisual = new THREE.Vector3(0.0, 0.0, 0.0);\n\n  return function (center, includesAtom, selector) {\n    center.set(0.0, 0.0, 0.0);\n    let count = 0;\n\n    this._forEachComplexVisual((visual) => {\n      if (visual.getSelectionCenter(_centerInVisual, includesAtom, selector || visual.getSelectionBit())) {\n        center.add(_centerInVisual);\n        count++;\n      }\n    });\n    if (count === 0) {\n      return false;\n    }\n    center.divideScalar(count);\n    center.negate();\n    return true;\n  };\n}());\n\nMiew.prototype.setPivotSubset = (function () {\n  const _center = new THREE.Vector3(0.0, 0.0, 0.0);\n\n  function _includesInCurSelection(atom, selectionBit) {\n    return atom.mask & (1 << selectionBit);\n  }\n\n  function _includesInSelector(atom, selector) {\n    return selector.selector.includesAtom(atom);\n  }\n\n  return function (selector) {\n    const includesAtom = (selector) ? _includesInSelector : _includesInCurSelection;\n\n    if (this.getSelectionCenter(_center, includesAtom, selector)) {\n      this._objectControls.setPivot(_center);\n      this.dispatchEvent({ type: 'transform' });\n    } else {\n      this.logger.warn('selection is empty. Center operation not performed');\n    }\n  };\n}());\n\n/**\n * Makes a screenshot.\n * @param {number} [width] - Width of an image. Defaults to the canvas width.\n * @param {number} [height] - Height of an image. Defaults to the width (square) or canvas height,\n *        if width is omitted too.\n * @returns {string} Data URL representing the image contents.\n */\nMiew.prototype.screenshot = function (width, height) {\n  const gfx = this._gfx;\n  const deviceWidth = gfx.renderer.domElement.width;\n  const deviceHeight = gfx.renderer.domElement.height;\n\n  function fov2Tan(fov) {\n    return Math.tan(THREE.MathUtils.degToRad(0.5 * fov));\n  }\n\n  function tan2Fov(tan) {\n    return THREE.MathUtils.radToDeg(Math.atan(tan)) * 2.0;\n  }\n\n  function getDataURL() {\n    let dataURL;\n    const currBrowser = utils.getBrowser();\n\n    if (currBrowser === utils.browserType.SAFARI) {\n      const canvas = document.createElement('canvas');\n      const canvasContext = canvas.getContext('2d');\n\n      canvas.width = width === undefined ? deviceWidth : width;\n      canvas.height = height === undefined ? deviceHeight : height;\n\n      canvasContext.drawImage(gfx.renderer.domElement, 0, 0, canvas.width, canvas.height);\n      dataURL = canvas.toDataURL('image/png');\n    } else {\n      // Copy current canvas to screenshot\n      dataURL = gfx.renderer.domElement.toDataURL('image/png');\n    }\n    return dataURL;\n  }\n  height = height || width;\n\n  let screenshotURI;\n  if ((width === undefined && height === undefined)\n    || (width === deviceWidth && height === deviceHeight)) {\n    // renderer.domElement.toDataURL('image/png') returns flipped image in Safari\n    // It hasn't been resolved yet, but getScreenshotSafari()\n    // fixes it using an extra canvas.\n    screenshotURI = getDataURL();\n  } else {\n    const originalAspect = gfx.camera.aspect;\n    const originalFov = gfx.camera.fov;\n    const originalTanFov2 = fov2Tan(gfx.camera.fov);\n\n    // screenshot should contain the principal area of interest (a centered square touching screen sides)\n    const areaOfInterestSize = Math.min(gfx.width, gfx.height);\n    const areaOfInterestTanFov2 = originalTanFov2 * areaOfInterestSize / gfx.height;\n\n    // set appropriate camera aspect & FOV\n    const shotAspect = width / height;\n    gfx.renderer.setPixelRatio(1);\n    gfx.camera.aspect = shotAspect;\n    gfx.camera.fov = tan2Fov(areaOfInterestTanFov2 / Math.min(shotAspect, 1.0));\n    gfx.camera.updateProjectionMatrix();\n\n    // resize canvas to the required size of screenshot\n    gfx.renderer.setDrawingBufferSize(width, height, 1);\n\n    // make screenshot\n    this._renderFrame(settings.now.stereo);\n    screenshotURI = getDataURL();\n\n    // restore original camera & canvas proportions\n    gfx.renderer.setPixelRatio(window.devicePixelRatio);\n    gfx.camera.aspect = originalAspect;\n    gfx.camera.fov = originalFov;\n    gfx.camera.updateProjectionMatrix();\n    gfx.renderer.setDrawingBufferSize(gfx.width, gfx.height, window.devicePixelRatio);\n    this._needRender = true;\n  }\n\n  return screenshotURI;\n};\n\n/**\n * Makes screenshot and initiates a download.\n * @param {string} [filename] - Name of a file. Default to a 'screenshot-XXXXX.png', where XXXXX is a current\n *        date/time in seconds.\n * @param {number} [width] - Width of an image. Defaults to the canvas width.\n * @param {number} [height] - Height of an image. Defaults to the width (square) or canvas height,\n *        if width is omitted too.\n */\nMiew.prototype.screenshotSave = function (filename, width, height) {\n  const uri = this.screenshot(width, height);\n  utils.shotDownload(uri, filename);\n};\n\nMiew.prototype.save = function (opts) {\n  this._export(opts.fileType).then((dataString) => {\n    const filename = this._visuals[this._curVisualName]._complex.name;\n    utils.download(dataString, filename, opts.fileType);\n    this._refreshTitle();\n    this.dispatchEvent({ type: 'exportingDone' });\n  }).catch((error) => {\n    this.logger.error('Could not export data');\n    this.logger.debug(error);\n    this._refreshTitle();\n    this.dispatchEvent({ type: 'exportingDone', error });\n  });\n};\n\nMiew.prototype._tweakResolution = function () {\n  const maxPerf = [\n    ['poor', 100],\n    ['low', 500],\n    ['medium', 1000],\n    ['high', 5000],\n    ['ultra', Number.MAX_VALUE],\n  ];\n\n  let atomCount = 0;\n  this._forEachComplexVisual((visual) => {\n    atomCount += visual.getComplex().getAtomCount();\n  });\n\n  if (atomCount > 0) {\n    const performance = this._gfxScore * 10e5 / atomCount;\n    // set resolution based on estimated performance\n    for (let i = 0; i < maxPerf.length; ++i) {\n      if (performance < maxPerf[i][1]) {\n        this._autoChangeResolution(maxPerf[i][0]);\n        break;\n      }\n    }\n  }\n};\n\nMiew.prototype._autoChangeResolution = function (resolution) {\n  if (resolution !== settings.now.resolution) {\n    this.logger.report(`Your rendering resolution was changed to \"${resolution}\" for best performance.`);\n  }\n  settings.now.resolution = resolution;\n};\n\n/**\n * Save current settings to cookies.\n */\nMiew.prototype.saveSettings = function () {\n  this._cookies.setCookie(this._opts.settingsCookie, JSON.stringify(this.settings.getDiffs(true)));\n};\n\n/**\n * Load settings from cookies.\n */\nMiew.prototype.restoreSettings = function () {\n  try {\n    const cookie = this._cookies.getCookie(this._opts.settingsCookie);\n    const diffs = cookie ? JSON.parse(cookie) : {};\n    this.settings.applyDiffs(diffs, true);\n  } catch (e) {\n    this.logger.error(`Cookies parse error: ${e.message}`);\n  }\n};\n\n/**\n * Reset current settings to the defaults.\n */\nMiew.prototype.resetSettings = function () {\n  this.settings.reset();\n};\n\n/*\n   * DANGEROUS and TEMPORARY. The method should change or disappear in future versions.\n   * @param {string|object} opts - See {@link Miew} constructor.\n   * @see {@link Miew#set}, {@link Miew#repAdd}, {@link Miew#rep}.\n   */\nMiew.prototype.setOptions = function (opts) {\n  if (typeof opts === 'string') {\n    opts = Miew.options.fromAttr(opts);\n  }\n  if (opts.reps) {\n    this._opts.reps = null;\n  }\n  _.merge(this._opts, opts);\n  if (opts.settings) {\n    this.set(opts.settings);\n  }\n\n  this._opts._objects = opts._objects;\n  this._resetObjects();\n\n  if (opts.load) {\n    this.load(opts.load, { fileType: opts.type });\n  }\n\n  if (opts.preset) {\n    settings.now.preset = opts.preset;\n  }\n\n  if (opts.reps) {\n    this.resetReps(opts.preset);\n  }\n\n  if (this._opts.view) {\n    this.view(this._opts.view);\n    delete this._opts.view;\n  }\n\n  const visual = this._getComplexVisual();\n  if (visual) {\n    visual.getComplex().resetCurrentUnit();\n    if (_.isNumber(opts.unit)) {\n      visual.getComplex().setCurrentUnit(opts.unit);\n    }\n    this.resetView();\n    this.rebuildAll();\n  }\n};\n\nMiew.prototype.info = function (name) {\n  const visual = this._getComplexVisual(name);\n  if (!visual) {\n    return {};\n  }\n  const complex = visual.getComplex();\n  const { metadata } = complex;\n  return {\n    id: metadata.id || complex.name || 'UNKNOWN',\n    title: (metadata.title && metadata.title.join(' ')) || 'UNKNOWN DATA',\n    atoms: complex.getAtomCount(),\n    bonds: complex.getBondCount(),\n    residues: complex.getResidueCount(),\n    chains: complex.getChainCount(),\n  };\n};\n\n/*\n   * OBJECTS SEGMENT\n   */\n\nMiew.prototype.addObject = function (objData, bThrow) {\n  let Ctor = null;\n\n  if (objData.type === LinesObject.prototype.type) {\n    Ctor = LinesObject;\n  }\n\n  if (Ctor === null) {\n    throw new Error(`Unknown scene object type - ${objData.type}`);\n  }\n\n  try {\n    const newObj = new Ctor(objData.params, objData.opts);\n    this._addSceneObject(newObj);\n  } catch (error) {\n    if (!bThrow) {\n      this.logger.debug(`Error during scene object creation: ${error.message}`);\n    } else {\n      throw error;\n    }\n  }\n  this._needRender = true;\n};\n\nMiew.prototype._addSceneObject = function (sceneObject) {\n  const visual = this._getComplexVisual();\n  if (sceneObject.build && visual) {\n    sceneObject.build(visual.getComplex());\n    this._gfx.pivot.add(sceneObject.getGeometry());\n  }\n  const objects = this._objects;\n  objects[objects.length] = sceneObject;\n};\n\nMiew.prototype._updateObjsToFrame = function (frameData) {\n  const objs = this._objects;\n  for (let i = 0, n = objs.length; i < n; ++i) {\n    if (objs[i].updateToFrame) {\n      objs[i].updateToFrame(frameData);\n    }\n  }\n};\n\nMiew.prototype._resetObjects = function () {\n  const objs = this._opts._objects;\n\n  this._objects = [];\n  if (objs) {\n    for (let i = 0, n = objs.length; i < n; ++i) {\n      this.addObject(objs[i], false);\n    }\n  }\n};\n\nMiew.prototype.removeObject = function (index) {\n  const obj = this._objects[index];\n  if (!obj) {\n    throw new Error(`Scene object with index ${index} does not exist`);\n  }\n  obj.destroy();\n  this._objects.splice(index, 1);\n  this._needRender = true;\n};\n\n/**\n * Get a string with a URL to reproduce the current scene.\n *\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=false] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=false] - when this flag is true, a view information is included\n * @returns {string} URL\n */\nMiew.prototype.getURL = function (opts) {\n  return options.toURL(this.getState(_.defaults(opts, {\n    compact: true,\n    settings: false,\n    view: false,\n  })));\n};\n\n/**\n * Get a string with a script to reproduce the current scene.\n *\n * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n * preset information regardless of the differences with settings\n * @param {boolean} [opts.settings=true] - when this flag is true, changes in settings are included\n * @param {boolean} [opts.view=true] - when this flag is true, a view information is included\n * @returns {string} script\n */\nMiew.prototype.getScript = function (opts) {\n  return options.toScript(this.getState(_.defaults(opts, {\n    compact: true,\n    settings: true,\n    view: true,\n  })));\n};\n\n/*\n   * Generates object that represents the current state of representations list\n   * @param {boolean} compareWithDefaults - when this flag is true, reps list is compared (if possible)\n   * to preset's defaults and only diffs are generated\n   */\nMiew.prototype._compareReps = function (complexVisual, compareWithDefaults) {\n  const ans = {};\n  let repCount = 0;\n\n  if (complexVisual) {\n    repCount = complexVisual.repCount();\n  }\n\n  const currPreset = settings.defaults.presets[settings.now.preset];\n  let compare = compareWithDefaults;\n  if (currPreset === undefined || currPreset.length > repCount) {\n    compare = false;\n    ans.preset = 'empty';\n  } else if (settings.now.preset !== settings.defaults.preset) {\n    ans.preset = settings.now.preset;\n  }\n\n  const repsDiff = [];\n  let emptyReps = true;\n  for (let i = 0, n = repCount; i < n; ++i) {\n    repsDiff[i] = complexVisual.repGet(i).compare(compare ? currPreset[i] : null);\n    if (!_.isEmpty(repsDiff[i])) {\n      emptyReps = false;\n    }\n  }\n  if (!emptyReps) {\n    ans.reps = repsDiff;\n  }\n  return ans;\n};\n\n/*\n   * Obtain object that represents current state of miew (might be used as options in constructor).\n   * @param {boolean} [opts.compact=true] - set this flag to false if you want to include full\n   * preset information regardless of the differences with settings\n   * @param {boolean} [opts.settings=false] - when this flag is true, changes in settings are included\n   * @param {boolean} [opts.view=false] - when this flag is true, a view information is included\n   * @returns {Object} State object.\n   */\nMiew.prototype.getState = function (opts) {\n  const state = {};\n\n  opts = _.defaults(opts, {\n    compact: true,\n    settings: false,\n    view: false,\n  });\n\n  // load\n  const visual = this._getComplexVisual();\n  if (visual !== null) {\n    const complex = visual.getComplex();\n    const { metadata } = complex;\n    if (metadata.id) {\n      const format = metadata.format ? `${metadata.format}:` : '';\n      state.load = format + metadata.id;\n    }\n    const unit = complex.getCurrentUnit();\n    if (unit !== 1) {\n      state.unit = unit;\n    }\n  }\n\n  // representations\n  const repsInfo = this._compareReps(visual, opts.compact);\n  if (repsInfo.preset) {\n    state.preset = repsInfo.preset;\n  }\n\n  if (repsInfo.reps) {\n    state.reps = repsInfo.reps;\n  }\n\n  // objects\n  const objects = this._objects;\n  const objectsState = [];\n  for (let i = 0, n = objects.length; i < n; ++i) {\n    objectsState[i] = objects[i].identify();\n  }\n  if (objects.length > 0) {\n    state._objects = objectsState;\n  }\n\n  // view\n  if (opts.view) {\n    state.view = this.view();\n  }\n\n  // settings\n  if (opts.settings) {\n    const diff = this.settings.getDiffs(false);\n    if (!_.isEmpty(diff)) {\n      state.settings = diff;\n    }\n  }\n\n  return state;\n};\n\n/**\n * Get parameter value.\n * @param {string} param - Parameter name or path (e.g. 'modes.BS.atom').\n * @param {*=} value - Default value.\n * @returns {*} Parameter value.\n */\nMiew.prototype.get = function (param, value) {\n  return settings.get(param, value);\n};\n\nMiew.prototype._clipPlaneUpdateValue = function (radius) {\n  const clipPlaneValue = Math.max(\n    this._gfx.camera.position.z - radius * settings.now.draft.clipPlaneFactor,\n    settings.now.camNear,\n  );\n\n  const opts = { clipPlaneValue };\n  this._forEachComplexVisual((visual) => {\n    visual.setUberOptions(opts);\n  });\n  for (let i = 0, n = this._objects.length; i < n; ++i) {\n    const obj = this._objects[i];\n    if (obj._line) {\n      obj._line.material.setUberOptions(opts);\n    }\n  }\n  if (this._picker !== null) {\n    this._picker.clipPlaneValue = clipPlaneValue;\n  }\n};\n\nMiew.prototype._fogFarUpdateValue = function () {\n  if (this._picker !== null) {\n    if (this._gfx.scene.fog) {\n      this._picker.fogFarValue = this._gfx.scene.fog.far;\n    } else {\n      this._picker.fogFarValue = undefined;\n    }\n  }\n};\n\nMiew.prototype._updateShadowmapMeshes = function (process) {\n  this._forEachComplexVisual((visual) => {\n    const reprList = visual._reprList;\n    for (let i = 0, n = reprList.length; i < n; ++i) {\n      const repr = reprList[i];\n      process(repr.geo, repr.material);\n    }\n  });\n};\n\nMiew.prototype._updateMaterials = function (values, needTraverse = false, process = undefined) {\n  this._forEachComplexVisual((visual) => visual.setMaterialValues(values, needTraverse, process));\n  for (let i = 0, n = this._objects.length; i < n; ++i) {\n    const obj = this._objects[i];\n    if (obj._line) {\n      obj._line.material.setValues(values);\n      obj._line.material.needsUpdate = true;\n    }\n  }\n};\n\nMiew.prototype._fogAlphaChanged = function () {\n  this._forEachComplexVisual((visual) => {\n    visual.setUberOptions({\n      fogAlpha: settings.now.fogAlpha,\n    });\n  });\n};\n\nMiew.prototype._embedWebXR = function () {\n  // switch off\n  if (settings.now.stereo !== 'WEBVR') {\n    if (this.webVR) {\n      this.webVR.disable();\n    }\n    this.webVR = null;\n    return;\n  }\n  // switch on\n  if (!this.webVR) {\n    this.webVR = new WebVRPoC(() => {\n      this._requestAnimationFrame(() => this._onTick());\n      this._needRender = true;\n      this._onResize();\n    });\n  }\n  this.webVR.enable(this._gfx);\n};\n\nMiew.prototype._initOnSettingsChanged = function () {\n  const on = (props, func) => {\n    props = _.isArray(props) ? props : [props];\n    props.forEach((prop) => {\n      this.settings.addEventListener(`change:${prop}`, func);\n    });\n  };\n\n  on('modes.VD.frame', () => {\n    const volume = this._getVolumeVisual();\n    if (volume === null) return;\n\n    volume.showFrame(settings.now.modes.VD.frame);\n    this._needRender = true;\n  });\n\n  on('modes.VD.isoMode', () => {\n    const volume = this._getVolumeVisual();\n    if (volume === null) return;\n\n    volume.getMesh().material.updateDefines();\n    this._needRender = true;\n  });\n\n  on('bg.color', () => {\n    this._onBgColorChanged();\n  });\n\n  on('ao', () => {\n    if (settings.now.ao && !isAOSupported(this._gfx.renderer.getContext())) {\n      this.logger.warn('Your device or browser does not support ao');\n      settings.set('ao', false);\n    } else {\n      const values = { normalsToGBuffer: settings.now.ao };\n      this._setUberMaterialValues(values);\n    }\n  });\n\n  on('zSprites', () => {\n    if (settings.now.zSprites && !arezSpritesSupported(this._gfx.renderer.getContext())) {\n      this.logger.warn('Your device or browser does not support zSprites');\n      settings.set('zSprites', false);\n    }\n    this.rebuildAll();\n  });\n\n  on('fogColor', () => {\n    this._onFogColorChanged();\n  });\n\n  on('fogColorEnable', () => {\n    this._onFogColorChanged();\n  });\n\n  on('bg.transparent', (evt) => {\n    const gfx = this._gfx;\n    if (gfx) {\n      gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n    }\n    // update materials\n    this._updateMaterials({ fogTransparent: evt.value });\n    this.rebuildAll();\n  });\n\n  on('draft.clipPlane', (evt) => {\n    // update materials\n    this._updateMaterials({ clipPlane: evt.value });\n    this.rebuildAll();\n  });\n\n  on('shadow.on', (evt) => {\n    // update materials\n    const values = { shadowmap: evt.value, shadowmapType: settings.now.shadow.type };\n    const gfx = this._gfx;\n    if (gfx) {\n      gfx.renderer.shadowMap.enabled = Boolean(values.shadowmap);\n    }\n    this._updateMaterials(values, true);\n    if (values.shadowmap) {\n      this._updateShadowCamera();\n      this._updateShadowmapMeshes(meshutils.createShadowmapMaterial);\n    } else {\n      this._updateShadowmapMeshes(meshutils.removeShadowmapMaterial);\n    }\n    this._needRender = true;\n  });\n\n  on('shadow.type', (evt) => {\n    // update materials if shadowmap is enable\n    if (settings.now.shadow.on) {\n      this._updateMaterials({ shadowmapType: evt.value }, true);\n      this._needRender = true;\n    }\n  });\n\n  on('shadow.radius', (evt) => {\n    for (let i = 0; i < this._gfx.scene.children.length; i++) {\n      if (this._gfx.scene.children[i].shadow !== undefined) {\n        const light = this._gfx.scene.children[i];\n        light.shadow.radius = evt.value;\n        this._needRender = true;\n      }\n    }\n  });\n\n  on('fps', () => {\n    this._fps.show(settings.now.fps);\n  });\n\n  on(['fog', 'fogNearFactor', 'fogFarFactor'], () => {\n    this._updateFog();\n    this._needRender = true;\n  });\n\n  on('fogAlpha', () => {\n    const { fogAlpha } = settings.now;\n    if (fogAlpha < 0 || fogAlpha > 1) {\n      this.logger.warn('fogAlpha must belong range [0,1]');\n    }\n    this._fogAlphaChanged();\n    this._needRender = true;\n  });\n\n  on('autoResolution', (evt) => {\n    if (evt.value && !this._gfxScore) {\n      this.logger.warn('Benchmarks are missed, autoresolution will not work! '\n        + 'Autoresolution should be set during miew startup.');\n    }\n  });\n\n  on('stereo', () => {\n    this._embedWebXR(settings.now.stereo === 'WEBVR');\n    this._needRender = true;\n  });\n\n  on(['transparency', 'palette'], () => {\n    this.rebuildAll();\n  });\n\n  on('resolution', () => {\n    // update complex visuals\n    this.rebuildAll();\n\n    // update volume visual\n    const volume = this._getVolumeVisual();\n    if (volume) {\n      volume.getMesh().material.updateDefines();\n      this._needRender = true;\n    }\n  });\n\n  on(['axes', 'fxaa', 'ao',\n    'outline.on', 'outline.color', 'outline.threshold', 'outline.thickness'], () => {\n    this._needRender = true;\n  });\n};\n\n/**\n * Set parameter value.\n * @param {string|object} params - Parameter name or path (e.g. 'modes.BS.atom') or even settings object.\n * @param {*=} value - Value.\n */\nMiew.prototype.set = function (params, value) {\n  settings.set(params, value);\n};\n\n/**\n * Select atoms with selection string.\n * @param {string} expression - string expression of selection\n * @param {boolean=} append - true to append selection atoms to current selection, false to rewrite selection\n */\nMiew.prototype.select = function (expression, append) {\n  const visual = this._getComplexVisual();\n  if (!visual) {\n    return;\n  }\n\n  let sel = expression;\n  if (_.isString(expression)) {\n    sel = selectors.parse(expression).selector;\n  }\n\n  visual.select(sel, append);\n  this._lastPick = null;\n\n  this._updateInfoPanel();\n  this._needRender = true;\n};\n\nconst VIEW_VERSION = '1';\n\n/**\n * Get or set view info packed into string.\n *\n * **Note:** view is stored for *left-handed* cs, euler angles are stored in radians and *ZXY-order*,\n *\n * @param {string=} expression - Optional string encoded the view\n */\nMiew.prototype.view = function (expression) {\n  const self = this;\n  const { pivot } = this._gfx;\n  let transform = [];\n  const eulerOrder = 'ZXY';\n\n  function encode() {\n    const pos = pivot.position;\n    const scale = self._objectControls.getScale() / settings.now.radiusToFit;\n    const euler = new THREE.Euler();\n    euler.setFromQuaternion(self._objectControls.getOrientation(), eulerOrder);\n    transform = [\n      pos.x, pos.y, pos.z,\n      scale,\n      euler.x, euler.y, euler.z,\n    ];\n    return VIEW_VERSION + utils.arrayToBase64(transform, Float32Array);\n  }\n\n  function decode() {\n    // backwards compatible: old non-versioned view is the 0th version\n    if (expression.length === 40) {\n      expression = `0${expression}`;\n    }\n\n    const version = expression[0];\n    transform = utils.arrayFromBase64(expression.substr(1), Float32Array);\n\n    // apply adapter for old versions\n    if (version !== VIEW_VERSION) {\n      if (version === '0') {\n        // cancel radiusToFit included in old views\n        transform[3] /= 8.0;\n      } else {\n        // do nothing\n        self.logger.warn(`Encoded view version mismatch, stored as ${version} vs ${VIEW_VERSION} expected`);\n        return;\n      }\n    }\n\n    const interpolator = self._interpolator;\n    const srcView = interpolator.createView();\n    srcView.position.copy(pivot.position);\n    srcView.scale = self._objectControls.getScale();\n    srcView.orientation.copy(self._objectControls.getOrientation());\n\n    const dstView = interpolator.createView();\n    dstView.position.set(transform[0], transform[1], transform[2]);\n\n    // hack to make preset views work after we moved centering offset to visual nodes\n    // FIXME should only store main pivot offset in preset\n    if (self._getComplexVisual()) {\n      dstView.position.sub(self._getComplexVisual().position);\n    }\n\n    dstView.scale = transform[3]; // eslint-disable-line prefer-destructuring\n    dstView.orientation.setFromEuler(new THREE.Euler(transform[4], transform[5], transform[6], eulerOrder));\n\n    interpolator.setup(srcView, dstView);\n  }\n\n  if (typeof expression === 'undefined') {\n    return encode();\n  }\n  decode();\n\n  return expression;\n};\n\n/*\n   * Update current view due to viewinterpolator state\n   */\nMiew.prototype._updateView = function () {\n  const self = this;\n  const { pivot } = this._gfx;\n\n  const interpolator = this._interpolator;\n  if (!interpolator.wasStarted()) {\n    interpolator.start();\n  }\n\n  if (!interpolator.isMoving()) {\n    return;\n  }\n\n  const res = interpolator.getCurrentView();\n  if (res.success) {\n    const curr = res.view;\n    pivot.position.copy(curr.position);\n    self._objectControls.setScale(curr.scale * settings.now.radiusToFit);\n    self._objectControls.setOrientation(curr.orientation);\n    this.dispatchEvent({ type: 'transform' });\n    self._needRender = true;\n  }\n};\n\n/**\n * Translate object by vector\n * @param {number} x - translation value (Ang) along model's X axis\n * @param {number} y - translation value (Ang) along model's Y axis\n * @param {number} z - translation value (Ang) along model's Z axis\n */\nMiew.prototype.translate = function (x, y, z) {\n  this._objectControls.translatePivot(x, y, z);\n  this.dispatchEvent({ type: 'transform' });\n  this._needRender = true;\n};\n\n/**\n * Rotate object by Euler angles\n * @param {number} x - rotation angle around X axis in radians\n * @param {number} y - rotation angle around Y axis in radians\n * @param {number} z - rotation angle around Z axis in radians\n */\nMiew.prototype.rotate = function (x, y, z) {\n  this._objectControls.rotate(new THREE.Quaternion().setFromEuler(new THREE.Euler(x, y, z, 'XYZ')));\n  this.dispatchEvent({ type: 'transform' });\n  this._needRender = true;\n};\n\n/**\n * Scale object by factor\n * @param {number} factor - scale multiplier, should greater than zero\n */\nMiew.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    throw new RangeError('Scale should be greater than zero');\n  }\n  this._objectControls.scale(factor);\n  this.dispatchEvent({ type: 'transform' });\n  this._needRender = true;\n};\n\n/**\n * Center view on selection\n * @param {empty | subset | string} selector - defines part of molecule which must be centered (\n * empty - center on current selection;\n * subset - center on picked atom/residue/molecule;\n * string - center on atoms correspond to selection string)\n */\nMiew.prototype.center = function (selector) {\n  // no arguments - center on current selection;\n  if (selector === undefined) {\n    this.setPivotSubset();\n    this._needRender = true;\n    return;\n  }\n  // subset with atom or residue - center on picked atom/residue;\n  if (selector.obj !== undefined && ('atom' in selector.obj || 'residue' in selector.obj)) { // from event with selection\n    if ('atom' in selector.obj) {\n      this.setPivotAtom(selector.obj.atom);\n    } else {\n      this.setPivotResidue(selector.obj.residue);\n    }\n    this._needRender = true;\n    return;\n  }\n  // string - center on atoms correspond to selection string\n  if (selector.obj === undefined && selector !== '') {\n    const sel = selectors.parse(selector);\n    if (sel.error === undefined) {\n      this.setPivotSubset(sel);\n      this._needRender = true;\n      return;\n    }\n  }\n  // empty subset or incorrect/empty string - center on all molecule;\n  this.resetPivot();\n  this._needRender = true;\n};\n\n/**\n * Build selector that contains all atoms within given distance from group of atoms\n * @param {Selector} selector - selector describing source group of atoms\n * @param {number} radius - distance\n * @returns {Selector} selector describing result group of atoms\n */\nMiew.prototype.within = function (selector, radius) {\n  const visual = this._getComplexVisual();\n  if (!visual) {\n    return selectors.None();\n  }\n\n  if (selector instanceof String) {\n    selector = selectors.parse(selector);\n  }\n\n  const res = visual.within(selector, radius);\n  if (res) {\n    visual.rebuildSelectionGeometry();\n    this._needRender = true;\n  }\n  return res;\n};\n\n/**\n * Get atom position in 2D canvas coords\n * @param {string} fullAtomName - full atom name, like A.38.CG\n * @returns {Object} {x, y} or false if atom not found\n */\nMiew.prototype.projected = function (fullAtomName, complexName) {\n  const visual = this._getComplexVisual(complexName);\n  if (!visual) {\n    return false;\n  }\n\n  const atom = visual.getComplex().getAtomByFullname(fullAtomName);\n  if (atom === null) {\n    return false;\n  }\n\n  const pos = atom.position.clone();\n  // we consider atom position to be affected only by common complex transform\n  // ignoring any transformations that may add during editing\n  this._gfx.pivot.updateMatrixWorldRecursive();\n  this._gfx.camera.updateMatrixWorldRecursive();\n  this._gfx.pivot.localToWorld(pos);\n  pos.project(this._gfx.camera);\n\n  return {\n    x: (pos.x + 1.0) * 0.5 * this._gfx.width,\n    y: (1.0 - pos.y) * 0.5 * this._gfx.height,\n  };\n};\n\n/**\n * Replace secondary structure with calculated one.\n *\n * DSSP algorithm implementation is used.\n *\n * Kabsch W, Sander C. 1983. Dictionary of protein secondary structure: pattern recognition of hydrogen-bonded and\n * geometrical features. Biopolymers. 22(12):2577-2637. doi:10.1002/bip.360221211.\n *\n * @param {string=} complexName - complex name\n */\nMiew.prototype.dssp = function (complexName) {\n  const visual = this._getComplexVisual(complexName);\n  if (!visual) {\n    return;\n  }\n  visual.getComplex().dssp();\n\n  // rebuild dependent representations (cartoon or ss-colored)\n  visual._reprList.forEach((rep) => {\n    if (rep.mode.id === 'CA' || rep.colorer.id === 'SS') {\n      rep.needsRebuild = true;\n    }\n  });\n};\n\nMiew.prototype.exportCML = function () {\n  const self = this;\n\n  function extractRotation(m) {\n    const xAxis = new THREE.Vector3();\n    const yAxis = new THREE.Vector3();\n    const zAxis = new THREE.Vector3();\n    m.extractBasis(xAxis, yAxis, zAxis);\n    xAxis.normalize();\n    yAxis.normalize();\n    zAxis.normalize();\n    const retMat = new THREE.Matrix4();\n    retMat.identity();\n    retMat.makeBasis(xAxis, yAxis, zAxis);\n    return retMat;\n  }\n\n  function updateCMLData(complex) {\n    const { root } = self._gfx;\n    const mat = extractRotation(root.matrixWorld);\n    const v4 = new THREE.Vector4(0, 0, 0, 0);\n    const vCenter = new THREE.Vector4(0, 0, 0, 0);\n    let xml = null;\n    let ap = null;\n\n    // update atoms in cml\n    complex.forEachAtom((atom) => {\n      if (atom.xmlNodeRef && atom.xmlNodeRef.xmlNode) {\n        xml = atom.xmlNodeRef.xmlNode;\n        ap = atom.position;\n        v4.set(ap.x, ap.y, ap.z, 1.0);\n        v4.applyMatrix4(mat);\n        xml.setAttribute('x3', v4.x.toString());\n        xml.setAttribute('y3', v4.y.toString());\n        xml.setAttribute('z3', v4.z.toString());\n        xml.removeAttribute('x2');\n        xml.removeAttribute('y2');\n      }\n    });\n    // update stereo groups in cml\n    complex.forEachSGroup((sGroup) => {\n      if (sGroup.xmlNodeRef && sGroup.xmlNodeRef.xmlNode) {\n        xml = sGroup.xmlNodeRef.xmlNode;\n        ap = sGroup.getPosition();\n        v4.set(ap.x, ap.y, ap.z, 1.0);\n        const cp = sGroup.getCentralPoint();\n        if (cp === null) {\n          v4.applyMatrix4(mat);\n        } else {\n          vCenter.set(cp.x, cp.y, cp.z, 0.0);\n          v4.add(vCenter);\n          v4.applyMatrix4(mat); // pos in global space\n          vCenter.set(cp.x, cp.y, cp.z, 1.0);\n          vCenter.applyMatrix4(mat);\n          v4.sub(vCenter);\n        }\n        xml.setAttribute('x', v4.x.toString());\n        xml.setAttribute('y', v4.y.toString());\n        xml.setAttribute('z', v4.z.toString());\n      }\n    });\n  }\n\n  const visual = self._getComplexVisual();\n  const complex = visual ? visual.getComplex() : null;\n  if (complex && complex.originalCML) {\n    updateCMLData(complex);\n\n    // serialize xml structure to string\n    const oSerializer = new XMLSerializer();\n    return oSerializer.serializeToString(complex.originalCML);\n  }\n\n  return null;\n};\n\n/**\n * Reproduce the RCSB PDB Molecule of the Month style by David S. Goodsell\n *\n * @see http://pdb101.rcsb.org/motm/motm-about\n */\nMiew.prototype.motm = function () {\n  settings.set({\n    fogColorEnable: true,\n    fogColor: 0x000000,\n    outline: { on: true, threshold: 0.01 },\n    bg: { color: 0xffffff },\n  });\n\n  this._forEachComplexVisual((visual) => {\n    const rep = [];\n    const complex = visual.getComplex();\n    const palette = palettes.get(settings.now.palette);\n    for (let i = 0; i < complex.getChainCount(); i++) {\n      const curChainName = complex._chains[i]._name;\n      const curChainColor = palette.getChainColor(curChainName);\n      rep[i] = {\n        selector: `chain ${curChainName}`,\n        mode: 'VW',\n        colorer: ['CB', { color: curChainColor, factor: 0.9 }],\n        material: 'FL',\n      };\n    }\n    visual.resetReps(rep);\n  });\n};\n\nMiew.prototype.VERSION = (typeof PACKAGE_VERSION !== 'undefined' && PACKAGE_VERSION) || '0.0.0-dev';\n\n// Uncomment this to get debug trace:\n// Miew.prototype.debugTracer = new utils.DebugTracer(Miew.prototype);\n\n_.assign(Miew, /** @lends Miew */ {\n  VERSION: Miew.prototype.VERSION,\n\n  registeredPlugins: [],\n\n  // export namespaces // TODO: WIP: refactoring external interface\n  chem,\n  io,\n  modes,\n  colorers,\n  materials,\n  palettes,\n  options,\n  settings,\n  utils,\n  gfx: {\n    Representation,\n  },\n\n  /**\n   * Third-party libraries packaged together with Miew.\n   *\n   * @property {object} lodash - [Lodash](https://lodash.com/), a modern JavaScript utility library delivering\n   *   modularity, performance & extras.\n   * @property {object} three - [three.js](https://threejs.org/), JavaScript 3D library.\n   *\n   * @example\n   * var _ = Miew.thirdParty.lodash;\n   * var opts = _.merge({ ... }, Miew.options.fromURL(window.location.search));\n   * var miew = new Miew(opts);\n   */\n  thirdParty: {\n    lodash: _,\n    three: THREE,\n  },\n});\n\nexport default Miew;\n","/* eslint-disable */\n// DO NOT EDIT! Automatically generated from .jison\n/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,60],$V1=[1,62],$V2=[1,63],$V3=[1,65],$V4=[1,66],$V5=[1,67],$V6=[1,68],$V7=[1,69],$V8=[1,80],$V9=[1,72],$Va=[1,73],$Vb=[1,74],$Vc=[1,75],$Vd=[1,99],$Ve=[1,76],$Vf=[1,100],$Vg=[1,79],$Vh=[1,51],$Vi=[1,81],$Vj=[1,82],$Vk=[1,84],$Vl=[1,83],$Vm=[1,85],$Vn=[1,96],$Vo=[1,97],$Vp=[1,98],$Vq=[1,86],$Vr=[1,87],$Vs=[1,64],$Vt=[1,70],$Vu=[1,71],$Vv=[1,77],$Vw=[1,78],$Vx=[1,53],$Vy=[1,54],$Vz=[1,55],$VA=[1,61],$VB=[1,88],$VC=[1,89],$VD=[1,90],$VE=[1,91],$VF=[1,92],$VG=[1,93],$VH=[1,94],$VI=[1,95],$VJ=[1,101],$VK=[1,102],$VL=[1,103],$VM=[1,104],$VN=[1,105],$VO=[1,56],$VP=[1,57],$VQ=[1,58],$VR=[1,59],$VS=[1,115],$VT=[1,111],$VU=[1,114],$VV=[1,112],$VW=[1,113],$VX=[1,118],$VY=[1,117],$VZ=[1,134],$V_=[1,149],$V$=[1,150],$V01=[1,157],$V11=[5,6,7,9,13,14,15,17,18,19,20,23,25,26,27,30,33,34,35,37,38,41,43,45,46,49,52,54,55,56,58,59,62,64,65,66,70,72,74,77,78,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,101],$V21=[5,6,7,9,13,14,15,17,18,19,20,23,25,26,27,30,33,34,35,37,38,41,43,45,46,49,52,54,55,56,58,59,62,64,65,66,70,71,72,74,77,78,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,101],$V31=[5,6,7,9,13,15,17,18,19,20,23,25,26,27,30,33,34,37,38,41,43,45,46,49,52,54,55,56,58,59,62,64,65,66,70,72,82,83,84,85,86,87,88,89,90,91,92,93,94,95],$V41=[5,70,72],$V51=[5,74],$V61=[71,101];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"Program\":3,\"Command\":4,\"EOF\":5,\"RESET\":6,\"BUILD\":7,\"ALL\":8,\"HELP\":9,\"Path\":10,\"MOTM\":11,\"OneArgCommand\":12,\"GET\":13,\"STRING\":14,\"SET\":15,\"Value\":16,\"SET_SAVE\":17,\"SET_RESTORE\":18,\"SET_RESET\":19,\"PRESET\":20,\"AddRepresentation\":21,\"EditRepresentation\":22,\"REMOVE\":23,\"RepresentationReference\":24,\"HIDE\":25,\"SHOW\":26,\"LIST\":27,\"EXPAND_KEY\":28,\"SELECTOR_KEY\":29,\"SELECT\":30,\"AS\":31,\"WordAll\":32,\"SELECTOR\":33,\"WITHIN\":34,\"NUMBER\":35,\"OF\":36,\"MATERIAL\":37,\"IDENTIFIER\":38,\"ModeCMD\":39,\"ColorCMD\":40,\"VIEW\":41,\"BASE_64\":42,\"UNIT\":43,\"DSSP\":44,\"SCALE\":45,\"ROTATE\":46,\"AxesList\":47,\"TRANSLATE\":48,\"CENTER\":49,\"GetURLBranch\":50,\"Screenshot\":51,\"LINE\":52,\"ArgList\":53,\"LISTOBJ\":54,\"REMOVEOBJ\":55,\"URL\":56,\"VIEW_KEY\":57,\"SCREENSHOT\":58,\"LOAD\":59,\"Url\":60,\"FILE_KEY\":61,\"ADD\":62,\"Description\":63,\"REP\":64,\"MODE\":65,\"COLOR\":66,\"Descriptor\":67,\"RepresentationOwnProperty\":68,\"RepresentationOwnPropertyOpts\":69,\"DESC_KEY\":70,\"=\":71,\"DESC_KEY_OPTS\":72,\"AxesArg\":73,\"DESC_KEY_AXES\":74,\"Arg\":75,\"PathWoDescKey\":76,\"HEX\":77,\"BOOL\":78,\"Word\":79,\"CommandSetWoDESC_KEY\":80,\"DescKeys\":81,\"CLEAR\":82,\"FILE_LIST\":83,\"FILE_REGISTER\":84,\"FILE_DELETE\":85,\"PRESET_ADD\":86,\"PRESET_DELETE\":87,\"PRESET_UPDATE\":88,\"PRESET_RENAME\":89,\"PRESET_OPEN\":90,\"CREATE_SCENARIO\":91,\"RESET_SCENARIO\":92,\"DELETE_SCENARIO\":93,\"ADD_SCENARIO_ITEM\":94,\"LIST_SCENARIO\":95,\"PDB_KEY\":96,\"DELAY_KEY\":97,\"PRST_KEY\":98,\"DESCRIPTION_KEY\":99,\"CommandSet\":100,\".\":101,\"PresetPath\":102,\"/\":103,\"HexOrNumber\":104,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",6:\"RESET\",7:\"BUILD\",8:\"ALL\",9:\"HELP\",11:\"MOTM\",13:\"GET\",14:\"STRING\",15:\"SET\",17:\"SET_SAVE\",18:\"SET_RESTORE\",19:\"SET_RESET\",20:\"PRESET\",23:\"REMOVE\",25:\"HIDE\",26:\"SHOW\",27:\"LIST\",28:\"EXPAND_KEY\",29:\"SELECTOR_KEY\",30:\"SELECT\",31:\"AS\",33:\"SELECTOR\",34:\"WITHIN\",35:\"NUMBER\",36:\"OF\",37:\"MATERIAL\",38:\"IDENTIFIER\",41:\"VIEW\",42:\"BASE_64\",43:\"UNIT\",44:\"DSSP\",45:\"SCALE\",46:\"ROTATE\",48:\"TRANSLATE\",49:\"CENTER\",52:\"LINE\",54:\"LISTOBJ\",55:\"REMOVEOBJ\",56:\"URL\",57:\"VIEW_KEY\",58:\"SCREENSHOT\",59:\"LOAD\",61:\"FILE_KEY\",62:\"ADD\",64:\"REP\",65:\"MODE\",66:\"COLOR\",70:\"DESC_KEY\",71:\"=\",72:\"DESC_KEY_OPTS\",74:\"DESC_KEY_AXES\",77:\"HEX\",78:\"BOOL\",82:\"CLEAR\",83:\"FILE_LIST\",84:\"FILE_REGISTER\",85:\"FILE_DELETE\",86:\"PRESET_ADD\",87:\"PRESET_DELETE\",88:\"PRESET_UPDATE\",89:\"PRESET_RENAME\",90:\"PRESET_OPEN\",91:\"CREATE_SCENARIO\",92:\"RESET_SCENARIO\",93:\"DELETE_SCENARIO\",94:\"ADD_SCENARIO_ITEM\",95:\"LIST_SCENARIO\",96:\"PDB_KEY\",97:\"DELAY_KEY\",98:\"PRST_KEY\",99:\"DESCRIPTION_KEY\",101:\".\",103:\"/\"},\nproductions_: [0,[3,2],[3,1],[4,1],[4,1],[4,2],[4,1],[4,2],[4,1],[4,1],[4,2],[4,2],[4,3],[4,3],[4,1],[4,1],[4,1],[4,1],[4,2],[4,1],[4,1],[4,2],[4,2],[4,2],[4,2],[4,1],[4,2],[4,2],[4,2],[4,4],[4,2],[4,6],[4,2],[4,1],[4,1],[4,1],[4,2],[4,2],[4,1],[4,2],[4,1],[4,2],[4,2],[4,2],[4,1],[4,2],[4,1],[4,1],[4,3],[4,3],[4,4],[4,4],[4,1],[4,2],[50,1],[50,2],[50,2],[50,3],[50,3],[51,1],[51,2],[51,3],[12,2],[12,2],[12,2],[21,1],[21,2],[21,2],[21,3],[22,2],[22,3],[39,2],[39,3],[40,2],[40,3],[24,1],[24,1],[63,1],[63,2],[63,3],[63,4],[67,1],[67,1],[67,2],[68,3],[69,3],[47,1],[47,2],[73,2],[53,1],[53,2],[75,3],[16,1],[16,1],[16,1],[16,1],[16,1],[79,1],[79,1],[32,1],[32,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[81,1],[81,1],[81,1],[81,1],[81,1],[81,1],[81,1],[100,1],[100,1],[76,1],[76,3],[76,3],[10,1],[10,1],[10,3],[10,3],[10,3],[60,1],[102,1],[102,3],[104,1],[104,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 3:\nthis.$ = yy.miew.reset(false); yy.ClearContext(); yy.miew.resetReps(\"empty\");\nbreak;\ncase 4:\nthis.$ = yy.miew.rebuild();\nbreak;\ncase 5:\nthis.$ = yy.miew.rebuildAll(); yy.miew.rebuild();\nbreak;\ncase 6:\nthis.$ = yy.echo(yy.utils.help().toString());\nbreak;\ncase 7:\nthis.$ = yy.echo(yy.utils.help($$[$0]).toString());\nbreak;\ncase 8:\nthis.$ = yy.miew.motm();\nbreak;\ncase 10: case 11:\nthis.$ = yy.utils.propagateProp($$[$0]); yy.echo(yy.miew.get($$[$0]).toString());\nbreak;\ncase 12: case 13:\nthis.$ = yy.miew.set($$[$0-1], yy.utils.propagateProp($$[$0-1], $$[$0]));;\nbreak;\ncase 14:\nthis.$ = yy.miew.saveSettings();;\nbreak;\ncase 15:\nthis.$ = yy.miew.restoreSettings();;\nbreak;\ncase 16:\nthis.$ = yy.miew.resetSettings();;\nbreak;\ncase 17:\nthis.$ = yy.miew.resetReps();\nbreak;\ncase 18:\nthis.$ = yy.miew.applyPreset($$[$0]);\nbreak;\ncase 21:\nthis.$ = yy.miew.repRemove($$[$0]); yy.representations.remove($$[$0]);\nbreak;\ncase 22:\nthis.$ = yy.miew.repHide($$[$0]);\nbreak;\ncase 23:\nthis.$ = yy.miew.repHide($$[$0], false);\nbreak;\ncase 24:\nthis.$ = yy.echo(yy.utils.listRep(yy.miew, yy.representations, $$[$0], '-e'));\nbreak;\ncase 25:\nthis.$ = yy.echo(yy.utils.list(yy.miew, yy.representations));\nbreak;\ncase 26:\nthis.$ = yy.echo(yy.utils.list(yy.miew, yy.representations, $$[$0]));\nbreak;\ncase 27:\nthis.$ = yy.echo(yy.utils.listSelector(yy.miew, yy.Context));\nbreak;\ncase 28:\nthis.$ = yy.miew.select(yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0], true));\nbreak;\ncase 29:\nthis.$ = yy.Context[$$[$0].toLowerCase()] = yy.utils.checkArg($$[$0-3].toLowerCase(), $$[$0-2], true); yy.miew.select(yy.Context[$$[$0].toLowerCase()]);\nbreak;\ncase 30:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {selector : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0])});\nbreak;\ncase 31:\nthis.$ = yy.Context[$$[$0].toLowerCase()] = yy.miew.within(yy.utils.checkArg(\"select\", $$[$0-2], true), Number($$[$0-4]));\nbreak;\ncase 32:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {material : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0].toUpperCase())});\nbreak;\ncase 35:\nthis.$ = yy.echo(yy.miew.view());\nbreak;\ncase 36: case 37:\nthis.$ = yy.miew.view($$[$0]);\nbreak;\ncase 38:\nthis.$ = yy.echo(yy.miew.changeUnit());\nbreak;\ncase 39:\nthis.$ = yy.echo(yy.miew.changeUnit($$[$0]));\nbreak;\ncase 40:\nthis.$ = yy.miew.dssp();\nbreak;\ncase 41:\nthis.$ = yy.miew.scale($$[$0]);\nbreak;\ncase 42:\n for (var i = 0, n = $$[$0].length; i < n; i++) {yy.miew.rotate($$[$0][i]['x'] * Math.PI / 180.0, $$[$0][i]['y'] * Math.PI / 180.0, $$[$0][i]['z'] * Math.PI / 180.0)} \nbreak;\ncase 43:\n for (var i = 0, n = $$[$0].length; i < n; i++) {yy.miew.translate($$[$0][i]['x'] || 0, $$[$0][i]['y'] || 0, $$[$0][i]['z'] || 0)} \nbreak;\ncase 44:\nthis.$ = yy.miew.center();\nbreak;\ncase 45:\nthis.$ = yy.miew.center($$[$0]);\nbreak;\ncase 48: case 49:\nthis.$ = yy.miew.addObject({type: 'line', params: [$$[$0-1], $$[$0]]}, true);\nbreak;\ncase 50: case 51:\nthis.$ = yy.miew.addObject({type: 'line', params: [$$[$0-2], $$[$0-1]], opts:$$[$0].toJSO(yy.utils, 'objects', 'line')}, true);\nbreak;\ncase 52:\nthis.$ = yy.echo(yy.utils.listObjs(yy.miew));\nbreak;\ncase 53:\nthis.$ = yy.miew.removeObject($$[$0]);\nbreak;\ncase 54:\nthis.$ = yy.echo(yy.miew.getURL({view: false, settings: false}));\nbreak;\ncase 55:\nthis.$ = yy.echo(yy.miew.getURL({view: false, settings: true}));\nbreak;\ncase 56:\nthis.$ = yy.echo(yy.miew.getURL({view: true,  settings: false}));\nbreak;\ncase 57: case 58:\nthis.$ = yy.echo(yy.miew.getURL({view: true,  settings: true}));\nbreak;\ncase 59:\nthis.$ = yy.miew.screenshotSave();\nbreak;\ncase 60:\nthis.$ = yy.miew.screenshotSave('', Number($$[$0]));\nbreak;\ncase 61:\nthis.$ = yy.miew.screenshotSave('', Number($$[$0-1]), Number($$[$0]));\nbreak;\ncase 62: case 63: case 64:\nthis.$ = yy.utils.load(yy.miew, $$[$0]); yy.representations.clear();\nbreak;\ncase 65:\nthis.$ = yy.echo(yy.representations.add(yy.miew.repAdd()));\nbreak;\ncase 66:\nthis.$ = yy.echo(yy.representations.add($$[$0], yy.miew.repAdd()));\nbreak;\ncase 67:\nthis.$ = yy.echo(yy.representations.add(yy.miew.repAdd($$[$0])));\nbreak;\ncase 68:\nthis.$ = yy.echo(yy.representations.add($$[$0-1], yy.miew.repAdd($$[$0])));\nbreak;\ncase 69:\nthis.$ = yy.miew.rep($$[$0]); yy.miew.repCurrent($$[$0]);\nbreak;\ncase 70:\nthis.$ = yy.miew.rep($$[$0-1], $$[$0]); yy.miew.repCurrent($$[$0-1]);\nbreak;\ncase 71:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {mode : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0].toUpperCase())});\nbreak;\ncase 72:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {mode : new Array(yy.utils.checkArg($$[$0-2].toLowerCase(), $$[$0-1].toUpperCase()), $$[$0].toJSO(yy.utils, $$[$0-2], $$[$0-1].toUpperCase()))});\nbreak;\ncase 73:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {colorer : yy.utils.checkArg($$[$0-1].toLowerCase(), $$[$0].toUpperCase())});\nbreak;\ncase 74:\nthis.$ = yy.miew.rep(yy.miew.repCurrent(), {colorer : new Array(yy.utils.checkArg($$[$0-2].toLowerCase(), $$[$0-1].toUpperCase()), $$[$0].toJSO(yy.utils, $$[$0-2], $$[$0-1].toUpperCase()))});\nbreak;\ncase 75:\nthis.$ = Number(yy.representations.get($$[$0]));\nbreak;\ncase 76: case 92:\nthis.$ = Number($$[$0]);\nbreak;\ncase 77:\nthis.$ = $$[$0];\nbreak;\ncase 78:\nthis.$ = yy._.assign($$[$0-1], $$[$0]);\nbreak;\ncase 79:\nthis.$ = yy._.assign($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 80:\nthis.$ = yy._.assign($$[$0-3], $$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 81: case 82:\nthis.$ = yy.CreateObjectPair($$[$0].key, $$[$0].val);\nbreak;\ncase 83:\nthis.$ = yy.CreateObjectPair($$[$0-1].key, new Array($$[$0-1].val, $$[$0].toJSO(yy.utils, $$[$0-1].key, $$[$0-1].val)));\nbreak;\ncase 84: case 85:\nthis.$ = Object.create({'key': yy.keyRemap($$[$0-2]), 'val': yy.utils.checkArg($$[$0-2], $$[$0])});\nbreak;\ncase 86:\nthis.$ = [$$[$0]];\nbreak;\ncase 87:\nthis.$ = $$[$0-1].concat($$[$0]);\nbreak;\ncase 88:\nthis.$ = yy.CreateObjectPair($$[$0-1].toLowerCase(), Number($$[$0]));\nbreak;\ncase 89:\nthis.$ = new yy.ArgList($$[$0]);\nbreak;\ncase 90:\nthis.$ = $$[$0-1].append($$[$0]);\nbreak;\ncase 91:\nthis.$ = new yy.Arg($$[$0-2], $$[$0]);\nbreak;\ncase 93:\nthis.$ = parseInt($$[$0]);\nbreak;\ncase 94:\nthis.$ = JSON.parse($$[$0]);\nbreak;\ncase 95: case 96:\nthis.$ = String($$[$0]);\nbreak;\ncase 157: case 158: case 161: case 162: case 163:\nthis.$ = $$[$0-2] + $$[$0-1] + $$[$0] //cause of could be color word in path;\nbreak;\ncase 166:\nthis.$ = $$[$0-2] = $$[$0-2] + $$[$0-1] + $$[$0];\nbreak;\n}\n},\ntable: [{3:1,4:2,5:[1,3],6:[1,4],7:[1,5],9:[1,6],11:[1,7],12:8,13:[1,9],15:[1,10],17:[1,11],18:[1,12],19:[1,13],20:[1,14],21:15,22:16,23:[1,17],25:[1,18],26:[1,19],27:[1,20],30:[1,21],33:[1,22],34:[1,23],37:[1,24],39:25,40:26,41:[1,27],43:[1,28],44:[1,29],45:[1,30],46:[1,31],48:[1,32],49:[1,33],50:34,51:35,52:[1,36],54:[1,37],55:[1,38],56:[1,44],58:[1,45],59:[1,39],62:[1,40],64:[1,41],65:[1,42],66:[1,43]},{1:[3]},{5:[1,46]},{1:[2,2]},{5:[2,3]},{5:[2,4],8:[1,47]},{5:[2,6],6:$V0,7:$V1,9:$V2,10:48,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,8]},{5:[2,9]},{6:$V0,7:$V1,9:$V2,10:106,13:$V3,14:[1,107],15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{6:$V0,7:$V1,9:$V2,10:108,13:$V3,14:[1,109],15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,14]},{5:[2,15]},{5:[2,16]},{5:[2,17],14:$VS,16:110,35:$VT,38:$VU,77:$VV,78:$VW},{5:[2,19]},{5:[2,20]},{24:116,35:$VX,38:$VY},{24:119,35:$VX,38:$VY},{24:120,35:$VX,38:$VY},{5:[2,25],24:121,28:[1,122],29:[1,123],35:$VX,38:$VY},{14:[1,124]},{14:[1,125]},{35:[1,126]},{38:[1,127]},{5:[2,33]},{5:[2,34]},{5:[2,35],14:[1,128],42:[1,129]},{5:[2,38],35:[1,130]},{5:[2,40]},{35:[1,131]},{47:132,73:133,74:$VZ},{47:135,73:133,74:$VZ},{5:[2,44],14:[1,136]},{5:[2,46]},{5:[2,47]},{6:$V0,7:$V1,9:$V2,10:138,13:$V3,14:[1,137],15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,52]},{35:[1,139]},{14:[1,143],38:[1,141],60:140,61:[1,142]},{5:[2,65],38:[1,144],63:145,67:146,68:147,69:148,70:$V_,72:$V$},{24:151,35:$VX,38:$VY},{38:[1,152]},{38:[1,153]},{5:[2,54],29:[1,154],57:[1,155]},{5:[2,59],35:[1,156]},{1:[2,1]},{5:[2,5]},{5:[2,7],101:$V01},o($V11,[2,159]),o($V11,[2,160]),o($V21,[2,97]),o($V21,[2,98]),o($V11,[2,147]),o($V11,[2,148]),o($V11,[2,149]),o($V11,[2,150]),o($V11,[2,151]),o($V11,[2,152]),o($V11,[2,153]),o($V21,[2,101]),o($V21,[2,102]),o($V21,[2,103]),o($V21,[2,104]),o($V21,[2,105]),o($V21,[2,106]),o($V21,[2,107]),o($V21,[2,108]),o($V21,[2,109]),o($V21,[2,110]),o($V21,[2,111]),o($V21,[2,112]),o($V21,[2,113]),o($V21,[2,114]),o($V21,[2,115]),o($V21,[2,116]),o($V21,[2,117]),o($V21,[2,118]),o($V21,[2,119]),o($V21,[2,120]),o($V21,[2,121]),o($V21,[2,122]),o($V21,[2,123]),o($V21,[2,124]),o($V21,[2,125]),o($V21,[2,126]),o($V21,[2,127]),o($V21,[2,128]),o($V21,[2,129]),o($V21,[2,130]),o($V21,[2,131]),o($V21,[2,132]),o($V21,[2,133]),o($V21,[2,134]),o($V21,[2,135]),o($V21,[2,136]),o($V21,[2,137]),o($V21,[2,138]),o($V21,[2,139]),o($V21,[2,140]),o($V21,[2,141]),o($V21,[2,142]),o($V21,[2,143]),o($V21,[2,144]),o($V21,[2,145]),o($V21,[2,146]),{5:[2,10],101:$V01},{5:[2,11]},{14:$VS,16:158,35:$VT,38:$VU,77:$VV,78:$VW,101:$V01},{14:$VS,16:159,35:$VT,38:$VU,77:$VV,78:$VW},{5:[2,18]},o($V31,[2,92]),o($V31,[2,93]),o($V31,[2,94]),o($V31,[2,95]),o($V31,[2,96]),{5:[2,21]},o($V41,[2,75]),o($V41,[2,76]),{5:[2,22]},{5:[2,23]},{5:[2,24]},{5:[2,26]},{5:[2,27]},{5:[2,28],31:[1,160]},{5:[2,30]},{36:[1,161]},{5:[2,32]},{5:[2,36]},{5:[2,37]},{5:[2,39]},{5:[2,41]},{5:[2,42],73:162,74:$VZ},o($V51,[2,86]),{35:[1,163]},{5:[2,43],73:162,74:$VZ},{5:[2,45]},{14:[1,164]},{6:$V0,7:$V1,9:$V2,10:165,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:49,80:52,81:50,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR,101:$V01},{5:[2,53]},{5:[2,62]},{5:[2,63]},{5:[2,64]},{5:[2,164]},{5:[2,66],63:166,67:146,68:147,69:148,70:$V_,72:$V$},{5:[2,67]},{5:[2,77],67:167,68:147,69:148,70:$V_,72:$V$},o($V41,[2,81]),o($V41,[2,82],{80:52,53:168,75:169,76:170,79:171,6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN}),{71:[1,172]},{71:[1,173]},{5:[2,69],63:174,67:146,68:147,69:148,70:$V_,72:$V$},{5:[2,71],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:175,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,73],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:176,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,55],57:[1,177]},{5:[2,56],29:[1,178]},{5:[2,60],35:[1,179]},{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,35:[1,181],37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:180,80:52,81:182,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,12]},{5:[2,13]},{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,32:183,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:184,80:52,81:185,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{14:[1,186]},o($V51,[2,87]),o($V51,[2,88]),{5:[2,48],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:187,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,49],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,53:188,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:169,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,101:$V01},{5:[2,68]},{5:[2,78],67:189,68:147,69:148,70:$V_,72:$V$},o($V41,[2,83],{80:52,76:170,79:171,75:190,6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN}),o($V31,[2,89]),{71:[1,191],101:[1,192]},o($V61,[2,156]),{14:$VS,16:193,35:$VT,38:$VU,77:$VV,78:$VW},{14:$VS,16:194,35:$VT,38:$VU,77:$VV,78:$VW},{5:[2,70]},{5:[2,72],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,74],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,57]},{5:[2,58]},{5:[2,61]},o($V11,[2,161]),o($V11,[2,162]),o($V11,[2,163]),{5:[2,29]},{5:[2,99]},{5:[2,100]},{31:[1,195]},{5:[2,50],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,51],6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,75:190,76:170,79:171,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},{5:[2,79],67:196,68:147,69:148,70:$V_,72:$V$},o($V31,[2,90]),{14:$VS,16:197,35:$VT,38:$VU,77:$VV,78:$VW},{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,33:$Ve,34:$Vf,35:[1,199],37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,79:198,80:52,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN},o($V41,[2,84]),o($V31,[2,85]),{6:$V0,7:$V1,9:$V2,13:$V3,15:$V4,17:$V5,18:$V6,19:$V7,20:$V8,23:$V9,25:$Va,26:$Vb,27:$Vc,30:$Vd,32:200,33:$Ve,34:$Vf,37:$Vg,38:$Vh,41:$Vi,43:$Vj,45:$Vk,46:$Vl,49:$Vm,52:$Vn,54:$Vo,55:$Vp,56:$Vq,58:$Vr,59:$Vs,62:$Vt,64:$Vu,65:$Vv,66:$Vw,70:$Vx,72:$Vy,74:$Vz,79:184,80:52,81:185,82:$VA,83:$VB,84:$VC,85:$VD,86:$VE,87:$VF,88:$VG,89:$VH,90:$VI,91:$VJ,92:$VK,93:$VL,94:$VM,95:$VN,96:$VO,97:$VP,98:$VQ,99:$VR},{5:[2,80]},o($V31,[2,91]),o($V61,[2,157]),o($V61,[2,158]),{5:[2,31]}],\ndefaultActions: {3:[2,2],4:[2,3],7:[2,8],8:[2,9],11:[2,14],12:[2,15],13:[2,16],15:[2,19],16:[2,20],25:[2,33],26:[2,34],29:[2,40],34:[2,46],35:[2,47],37:[2,52],46:[2,1],47:[2,5],107:[2,11],110:[2,18],116:[2,21],119:[2,22],120:[2,23],121:[2,24],122:[2,26],123:[2,27],125:[2,30],127:[2,32],128:[2,36],129:[2,37],130:[2,39],131:[2,41],136:[2,45],139:[2,53],140:[2,62],141:[2,63],142:[2,64],143:[2,164],145:[2,67],158:[2,12],159:[2,13],166:[2,68],174:[2,70],177:[2,57],178:[2,58],179:[2,61],183:[2,29],184:[2,99],185:[2,100],196:[2,80],200:[2,31]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* ignore whitespace */\nbreak;\ncase 1:return '';\nbreak;\ncase 2:return '';\nbreak;\ncase 3:return 42;\nbreak;\ncase 4:return 35;\nbreak;\ncase 5:return 77;\nbreak;\ncase 6:return 78;\nbreak;\ncase 7:return 78;\nbreak;\ncase 8:return 8;\nbreak;\ncase 9:return 6;\nbreak;\ncase 10:return 82;\nbreak;\ncase 11:return 7;\nbreak;\ncase 12:return 9;\nbreak;\ncase 13:return 59;\nbreak;\ncase 14:return 13\nbreak;\ncase 15:return 15\nbreak;\ncase 16:return 17\nbreak;\ncase 17:return 18\nbreak;\ncase 18:return 19\nbreak;\ncase 19:return 20\nbreak;\ncase 20:return 11\nbreak;\ncase 21:return 62\nbreak;\ncase 22:return 64\nbreak;\ncase 23:return 23\nbreak;\ncase 24:return 25\nbreak;\ncase 25:return 26\nbreak;\ncase 26:return 27\nbreak;\ncase 27:return 30\nbreak;\ncase 28:return 34\nbreak;\ncase 29:return 33\nbreak;\ncase 30:return 65\nbreak;\ncase 31:return 66\nbreak;\ncase 32:return 37\nbreak;\ncase 33:return 41\nbreak;\ncase 34:return 43\nbreak;\ncase 35:return 52\nbreak;\ncase 36:return 54\nbreak;\ncase 37:return 55\nbreak;\ncase 38:return 46\nbreak;\ncase 39:return 48\nbreak;\ncase 40:return 45\nbreak;\ncase 41:return 49\nbreak;\ncase 42:return 56\nbreak;\ncase 43:return 58;\nbreak;\ncase 44:return 44\nbreak;\ncase 45:return 83\nbreak;\ncase 46:return 84\nbreak;\ncase 47:return 85\nbreak;\ncase 48:return 86\nbreak;\ncase 49:return 87\nbreak;\ncase 50:return 88\nbreak;\ncase 51:return 89\nbreak;\ncase 52:return 90\nbreak;\ncase 53:return 91\nbreak;\ncase 54:return 92\nbreak;\ncase 55:return 93\nbreak;\ncase 56:return 94\nbreak;\ncase 57:return 95\nbreak;\ncase 58:return 70\nbreak;\ncase 59:return 70\nbreak;\ncase 60:return 72\nbreak;\ncase 61:return 72\nbreak;\ncase 62:return 74\nbreak;\ncase 63:return 74\nbreak;\ncase 64:return 74\nbreak;\ncase 65:return 31\nbreak;\ncase 66:return 36\nbreak;\ncase 67:return 96\nbreak;\ncase 68:return 97\nbreak;\ncase 69:return 98\nbreak;\ncase 70:return 99\nbreak;\ncase 71:yy_.yytext = yy.utils.unquoteString(yy_.yytext); return 14;\nbreak;\ncase 72:return 38;\nbreak;\ncase 73:return 5;\nbreak;\ncase 74:return 101;\nbreak;\ncase 75:return 103;\nbreak;\ncase 76:return '\\\\';\nbreak;\ncase 77:return 28\nbreak;\ncase 78:return 61\nbreak;\ncase 79:return 29\nbreak;\ncase 80:return 57\nbreak;\ncase 81:return 71\nbreak;\n}\n},\nrules: [/^(?:\\s+)/i,/^(?:[#].*)/i,/^(?:\\/\\/.*)/i,/^(?:([_A-Z0-9\\/\\+]+==))/i,/^(?:-?[0-9]+(\\.[0-9]+)?\\b)/i,/^(?:0[xX][0-9A-F]+\\b)/i,/^(?:false\\b)/i,/^(?:true\\b)/i,/^(?:all\\b)/i,/^(?:reset\\b)/i,/^(?:clear\\b)/i,/^(?:build\\b)/i,/^(?:help\\b)/i,/^(?:load\\b)/i,/^(?:get\\b)/i,/^(?:set\\b)/i,/^(?:set_save\\b)/i,/^(?:set_restore\\b)/i,/^(?:set_reset\\b)/i,/^(?:preset\\b)/i,/^(?:motm\\b)/i,/^(?:add\\b)/i,/^(?:rep\\b)/i,/^(?:remove\\b)/i,/^(?:hide\\b)/i,/^(?:show\\b)/i,/^(?:list\\b)/i,/^(?:select\\b)/i,/^(?:within\\b)/i,/^(?:selector\\b)/i,/^(?:mode\\b)/i,/^(?:color\\b)/i,/^(?:material\\b)/i,/^(?:view\\b)/i,/^(?:unit\\b)/i,/^(?:line\\b)/i,/^(?:listobj\\b)/i,/^(?:removeobj\\b)/i,/^(?:rotate\\b)/i,/^(?:translate\\b)/i,/^(?:scale\\b)/i,/^(?:center\\b)/i,/^(?:url\\b)/i,/^(?:screenshot\\b)/i,/^(?:dssp\\b)/i,/^(?:file_list\\b)/i,/^(?:file_register\\b)/i,/^(?:file_delete\\b)/i,/^(?:preset_add\\b)/i,/^(?:preset_delete\\b)/i,/^(?:preset_update\\b)/i,/^(?:preset_rename\\b)/i,/^(?:preset_open\\b)/i,/^(?:create_scenario\\b)/i,/^(?:reset_scenario\\b)/i,/^(?:delete_scenario\\b)/i,/^(?:add_scenario_item\\b)/i,/^(?:list_scenario\\b)/i,/^(?:s\\b)/i,/^(?:mt\\b)/i,/^(?:m\\b)/i,/^(?:c\\b)/i,/^(?:x\\b)/i,/^(?:y\\b)/i,/^(?:z\\b)/i,/^(?:as\\b)/i,/^(?:of\\b)/i,/^(?:pdb\\b)/i,/^(?:delay\\b)/i,/^(?:prst\\b)/i,/^(?:desc\\b)/i,/^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,/^(?:([_A-Z0-9]+))/i,/^(?:$)/i,/^(?:\\.)/i,/^(?:\\/)/i,/^(?:\\\\)/i,/^(?:-e\\b)/i,/^(?:-f\\b)/i,/^(?:-s\\b)/i,/^(?:-v\\b)/i,/^(?:=)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\nmodule.exports = {parser: parser};\n","import palettes from '../gfx/palettes';\nimport settings from '../settings';\n\nconst modeIdDesc = {\n  $help: [\n    'Rendering mode shortcut',\n    '    BS - balls and sticks mode',\n    '    LN - lines mode',\n    '    LC - licorice mode',\n    '    VW - van der waals mode',\n    '    TR - trace mode',\n    '    TU - tube mode',\n    '    CA - cartoon mode',\n    '    SA - isosurface mode',\n    '    QS - quick surface mode',\n    '    SE - solvent excluded mode',\n    '    TX - text mode',\n  ],\n  BS: {\n    $help: [\n      '   Balls and sticks',\n      '      aromrad = <number> #aromatic radius',\n      '      atom = <number>    #atom radius',\n      '      bond = <number>    #bond radius',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      space = <number>   #space value\\n',\n    ],\n  },\n  CA: {\n    $help: [\n      '   Cartoon',\n      '      arrow = <number>   #arrow size',\n      '      depth = <number>   #depth of surface',\n      '      heightSegmentsRatio = <number>',\n      '      radius = <number>  #tube radius',\n      '      tension = <number> #',\n      '      width = <number>  #secondary width\\n',\n    ],\n  },\n  LN: {\n    $help: [\n      '   Lines',\n      '      atom = <number>    #atom radius',\n      '      chunkarom = <number>',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      offsarom = <number>\\n',\n    ],\n  },\n  LC: {\n    $help: [\n      '   Licorice',\n      '      aromrad = <number> #aromatic radius',\n      '      bond = <number>    #bond radius',\n      '      multibond = <bool> #use multibond',\n      '      showarom = <bool>  #show aromatic',\n      '      space = <number>   #space value\\n',\n    ],\n  },\n  VW: {\n    $help: [\n      '   Van der Waals',\n      '      nothing\\n',\n    ],\n  },\n  TR: {\n    $help: [\n      '   Trace',\n      '      radius = <number>  #tube radius\\n',\n    ],\n  },\n  TU: {\n    $help: [\n      '   Tube',\n      '      heightSegmentsRatio = <number>',\n      '      radius = <number>  #tube radius',\n      '      tension = <number> \\n',\n    ],\n  },\n  SA: {\n    $help: [\n      '   Surface',\n      '      zClip = <bool> #clip z plane\\n',\n    ],\n  },\n  QS: {\n    $help: [\n      '   Quick surface',\n      '      isoValue = <number>',\n      '      scale = <number>',\n      '      wireframe = <bool>',\n      '      zClip = <bool> #clip z plane\\n',\n    ],\n  },\n  SE: {\n    $help: [\n      '   Solvent excluded surface',\n      '      zClip = <bool> #clip z plane\\n',\n    ],\n  },\n  TX: {\n    $help: [\n      '   Text mode',\n      '      template = <format string> string that can include \"{{ id }}\"',\n      '          it will be replaced by value, id can be one of next:',\n      '          serial, name, type, sequence, residue, chain, hetatm, water\\n',\n      '      horizontalAlign = <string> {\"left\", \"right\", \"center\"}',\n      '      verticalAlign = <string> {\"top\", \"bottom\", \"middle\"}',\n      '      dx = <number> #offset along x',\n      '      dy = <number> #offset along y',\n      '      dz = <number> #offset along z',\n      '      fg = <string> #text color modificator',\n      '           could be keyword, named color or hex',\n      '      fg = <string> #back color modificator',\n      '           could be keyword, named color or hex',\n      '      showBg = <bool> #if set show background',\n      '           plate under text',\n    ],\n  },\n};\n\nconst colorDesc = {\n  $help: [\n    'Coloring mode shortcut',\n    '    EL - color by element',\n    '    CH - color by chain',\n    '    SQ - color by sequence',\n    '    RT - color by residue type',\n    '    SS - color by secondary structure',\n    '    UN - uniform',\n  ],\n  UN: {\n    $help: [\n      'Parameters of coloring modes customization',\n      '   Uniform',\n      '      color = <number|color> #RGB->HEX->dec\\n',\n    ],\n    color: {\n      $help: Object.keys(palettes.get(settings.now.palette).namedColors).sort().join('\\n'),\n    },\n  },\n};\n\nconst materialDesc = {\n  $help: [\n    'Material shortcut',\n    '    DF - diffuse',\n    '    TR - transparent',\n    '    SF - soft plastic',\n    '    PL - glossy plastic',\n    '    ME - metal',\n    '    GL - glass',\n  ],\n};\n\nconst addRepDesc = {\n  $help: [\n    'Short (packed) representation description as a set of variables',\n    '    s=<EXPRESSION>',\n    '        selector property',\n    '    m=<MODE_ID>[!<PARAMETER>:<VALUE>[,...]]',\n    '        render mode property',\n    '    c=<COLORER_ID>[!<PARAMETER>:<VALUE>[,...]]',\n    '        color mode property',\n    '    mt=<MATERIAL_ID>',\n    '        material property',\n  ],\n  s: {\n    $help: 'Selection expression string as it is in menu->representations->selection',\n  },\n  m: modeIdDesc,\n  c: colorDesc,\n  mt: materialDesc,\n};\n\nconst setGetParameterDesc = {\n  $help: [\n    'Parameters of rendering modes customization: modes',\n    'Parameters of colorer customization: colorers',\n    'Autobuild: autobuild = (<number>|<bool>)',\n  ],\n  modes: modeIdDesc,\n  colorers: colorDesc,\n};\n\nconst help = {\n  $help: [\n    'help (<cmd name>| <path to property>)',\n    'You can get detailed information about command options',\n    '   using \"help cmd.opt.opt.[...]\"\\n',\n    '   you can use one line comments',\n    '   everything started from (#|//) will be skipped',\n    '   Example: >build //some comment\\n',\n    'List of available commands:',\n  ],\n  reset: {\n    $help: [\n      'Reload current object, delete all representations',\n      '    Nothing will work until load new object',\n    ],\n  },\n  load: {\n    $help: [\n      'load (<PDBID>|<URL>|-f [<*.NC FILE URL STRING>])',\n      '    Load new pdb object from selected source',\n    ],\n    PDBID: {\n      $help: 'pdb id in remote molecule database',\n    },\n    URL: {\n      $help: 'url to source file',\n    },\n    f: {\n      $help: [\n        'open file system dialog to fetch local file',\n        'optionally you can determine trajectory file',\n        'via URL for *.top model',\n      ],\n    },\n  },\n  clear: {\n    $help: 'No args. Clear terminal',\n  },\n  add: {\n    $help: [\n      'add [<REP_NAME>] [<DESCRIPTION>]',\n      '    Add new item to representation set with',\n      '    default or <DESCRIPTION> params',\n    ],\n    REP_NAME: {\n      $help: 'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n    },\n    DESCRIPTION: addRepDesc,\n  },\n  rep: {\n    $help: [\n      'rep [<REP_NAME>|<REP_INDEX>] [<DESCRIPTION>]',\n      '    set current representation by name or index',\n      '    edit current representation by <DESCRIPTION>',\n    ],\n    REP_NAME: {\n      $help: [\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n        'Must be declared before',\n      ],\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation',\n    },\n    DESCRIPTION: addRepDesc,\n  },\n  remove: {\n    $help: [\n      'remove (<REP_NAME>|<REP_INDEX>)',\n      'Remove representation by name or index',\n    ],\n    REP_NAME: {\n      $help: [\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\n        'Must be declared before',\n      ],\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation',\n    },\n  },\n  selector: {\n    $help: [\n      'selector <EXPRESSION>',\n      '   set selector from EXPRESSION to current representation',\n    ],\n    EXPRESSION: {\n      $help: 'Selection expression string as it is in menu->representations->selection',\n    },\n  },\n  mode: {\n    $help: [\n      'mode <MODE_ID> [<PARAMETER>=<VALUE>...]',\n      '   set rendering mode and apply parameters to current representation',\n    ],\n    MODE_ID: modeIdDesc,\n  },\n  color: {\n    $help: [\n      'color <COLORER_ID> [<PARAMETER>=<VALUE>...]',\n      '   set colorer and apply parameters to current representation',\n    ],\n    COLORER_ID: colorDesc,\n  },\n  material: {\n    $help: [\n      'material <MATERIAL_ID>',\n      '   set material to current representation',\n    ],\n    MATERIAL_ID: materialDesc,\n  },\n  build: {\n    $help: 'build help str',\n    add: {\n      $help: 'build.add',\n      new: {\n        $help: [\n          'add.new',\n          'add.new new line 1',\n          'add.new new line 2',\n          'add.new new line 3',\n        ],\n      },\n    },\n    del: {\n      $help: 'build.del',\n    },\n  },\n  list: {\n    $help: [\n      'list [-e|-s|<REP_NAME>|<REP_INDEX>]',\n      'Print representations if no args print list of representations',\n      '    -e expand list and show all representations',\n      '    -s show all user-registered selectors',\n      '    <REP_NAME>|<REP_INDEX> show only current representation',\n    ],\n  },\n  hide: {\n    $help: [\n      'hide (<REP_NAME>|<REP_INDEX>)',\n      'Hide representation referenced in args',\n    ],\n  },\n  show: {\n    $help: [\n      'show (<REP_NAME>|<REP_INDEX>)',\n      'Show representation referenced in args',\n    ],\n  },\n  get: {\n    $help: [\n      'get <PARAMETER>',\n      'Print <PARAMETER> value',\n      '    <PARAMETER> - path to option use get.PARAMETER to get more info',\n    ],\n    PARAMETER: setGetParameterDesc,\n  },\n  set: {\n    $help: [\n      'set <PARAMETER> <VALUE>',\n      'Set <PARAMETER> with <VALUE>',\n      '    <PARAMETER> - path to option use set.PARAMETER to get more info',\n    ],\n    PARAMETER: setGetParameterDesc,\n  },\n  set_save: {\n    $help: [\n      'set_save',\n      'Save current settings to cookie',\n    ],\n  },\n  set_restore: {\n    $help: [\n      'set_restore',\n      'Load and apply settings from cookie',\n    ],\n  },\n  set_reset: {\n    $help: [\n      'set_reset',\n      'Reset current settings to the defaults',\n    ],\n  },\n  preset: {\n    $help: [\n      'preset [<PRESET>]',\n      'Reset current representation or set preset to <PRESET>',\n    ],\n    PRESET: {\n      $help: [\n        'default',\n        'wire',\n        'small',\n        'macro',\n      ],\n    },\n  },\n  unit: {\n    $help: [\n      'unit [<unit_id>]',\n      'Change current biological structure view. Zero <unit_id> value means asymmetric unit,',\n      'positive values set an assembly with corresponding number.',\n      'Being called with no parameters command prints current unit information.',\n    ],\n  },\n  view: {\n    $help: [\n      'view [<ENCODED_VIEW>]',\n      'Get current encoded view or set if ENCODED_VIEW placed as argument',\n    ],\n    ENCODED_VIEW: {\n      $help: [\n        'encoded view matrix string (binary code)',\n      ],\n    },\n  },\n  rotate: {\n    $help: [\n      'rotate (x|y|z) [<DEGREES>] [(x|y|z) [<DEGREES>]]...',\n      'Rotate scene',\n    ],\n  },\n  scale: {\n    $help: [\n      'scale <SCALE>',\n      'Scale scene',\n    ],\n  },\n  select: {\n    $help: [\n      'select <SELECTOR_STRING> [as <SELECTOR_NAME>]',\n      'Select atoms using selector defined in SELECTOR_STRING',\n      '    and if SELECTOR_NAME is defined register it in viewer',\n      '    you can use it later as a complex selector',\n    ],\n  },\n  within: {\n    $help: [\n      'within <DISTANCE> of <SELECTOR_STRING> as <SELECTOR_NAME>',\n      'Build within named selector',\n      '    DISTANCE        <number>',\n      '    SELECTOR_STRING <string(selection language)>',\n      '    SELECTOR_NAME   <identifier>',\n    ],\n  },\n  url: {\n    $help: [\n      'url [-s] [-v]',\n      'Report URL encoded scene',\n      '    if -s set that include settings in the URL',\n      '    if -v set that include view in the URL',\n    ],\n  },\n  screenshot: {\n    $help: [\n      'screenshot [<WIDTH> [<HEIGHT>]]',\n      'Make a screenshot of the scene',\n      '    WIDTH  <number> in pixels',\n      '    HEIGHT <number> in pixels, equal to WIDTH by default',\n    ],\n  },\n  line: {\n    $help: [\n      'line <first_atom_path> <second_atom_path> [<PARAMETER>=<VALUE>]',\n      'Draw dashed line between two specified atoms',\n    ],\n  },\n  removeobj: {\n    $help: [\n      'removeobj <id>',\n      'Remove scene object by its index. Indices could be obtained by <listobj> command',\n    ],\n  },\n  listobj: {\n    $help: [\n      'listobj',\n      'Display the list of all existing scene objects',\n    ],\n  },\n};\n\nexport default help;\n","import _ from 'lodash';\nimport Miew from './Miew';\nimport { parser as parsercli } from './utils/MiewCLIParser';\nimport clihelp from './utils/MiewCLIHelp';\nimport logger from './utils/logger';\nimport utils from './utils';\n\nconst {\n  chem: { selectors },\n  modes,\n  colorers,\n  materials,\n  palettes,\n  options,\n  settings,\n} = Miew;\n\nfunction None() {\n}\n\nconst NULL = (function () {\n  const obj = new None();\n  return function () {\n    return obj;\n  };\n}());\n\nclass RepresentationMap {\n  constructor() {\n    this.representationMap = {};\n    this.representationID = {};\n  }\n\n  get(strId) {\n    return this.representationMap[strId] || this.representationID[strId] || '<no name>';\n  }\n\n  add(strId, index) {\n    if (strId === -1) {\n      return 'Can not create representation: there is no data';\n    }\n\n    if (index !== undefined) {\n      if (!this.representationMap.hasOwnProperty(strId)) {\n        this.representationMap[strId.toString()] = index;\n        this.representationID[index] = strId.toString();\n      } else {\n        return 'This name has already existed, registered without name';\n      }\n    }\n    return `Representation ${strId} successfully added`;\n  }\n\n  remove(index) {\n    if (index && this.representationID.hasOwnProperty(index)) {\n      delete this.representationMap[this.representationID[index]];\n      delete this.representationID[index];\n    }\n\n    const sortedKeys = Object.keys(this.representationID).sort();\n    for (const i in sortedKeys) {\n      if (sortedKeys.hasOwnProperty(i)) {\n        const id = sortedKeys[i];\n        if (id > index) {\n          this.representationID[id - 1] = this.representationID[id];\n          this.representationMap[this.representationID[id]] -= 1;\n          delete this.representationID[id];\n        }\n      }\n    }\n  }\n\n  clear() {\n    this.representationMap = {};\n    this.representationID = {};\n  }\n}\n\nconst representationsStorage = new RepresentationMap();\n\nfunction keyRemap(key) {\n  const keys = {\n    s: 'selector',\n    m: 'mode',\n    c: 'colorer',\n    mt: 'material',\n    mode: 'modes',\n    color: 'colorers',\n    colorer: 'colorers',\n    select: 'selector',\n    material: 'materials',\n    selector: 'selector',\n  };\n  const ans = keys[key];\n  return ans === undefined ? key : ans;\n}\n\nclass CLIUtils {\n  list(miew, repMap, key) {\n    let ret = '';\n    if (miew && repMap !== undefined) {\n      if (key === undefined || key === '-e') {\n        const count = miew.repCount();\n\n        for (let i = 0; i < count; i++) {\n          ret += this.listRep(miew, repMap, i, key);\n        }\n      }\n    }\n    return ret;\n  }\n\n  listRep(miew, repMap, repIndex, key) {\n    let ret = '';\n    const rep = miew.repGet(repIndex);\n    if (!rep) {\n      logger.warn(`Rep ${repIndex} does not exist!`);\n      return ret;\n    }\n    const index = repIndex;\n    const repName = repMap.get(index);\n\n    const { mode, colorer } = rep;\n    const selectionStr = rep.selectorString;\n    const material = rep.materialPreset;\n\n    ret += `#${index} : ${mode.name}${repName === '<no name>' ? '' : `, ${repName}`}\\n`;\n\n    if (key !== undefined) {\n      ret += `    selection : \"${selectionStr}\"\\n`;\n      ret += `    mode      : (${mode.id}), ${mode.name}\\n`;\n      ret += `    colorer   : (${colorer.id}), ${colorer.name}\\n`;\n      ret += `    material  : (${material.id}), ${material.name}\\n`;\n    }\n\n    return ret;\n  }\n\n  listSelector(miew, context) {\n    let ret = '';\n\n    for (const k in context) {\n      if (context.hasOwnProperty(k)) {\n        ret += `${k} : \"${context[k]}\"\\n`;\n      }\n    }\n\n    return ret;\n  }\n\n  listObjs(miew) {\n    const objs = miew._objects;\n\n    if (!objs || !Array.isArray(objs) || objs.length === 0) {\n      return 'There are no objects on the scene';\n    }\n\n    const strList = [];\n    for (let i = 0, n = objs.length; i < n; ++i) {\n      strList[i] = `${i}: ${objs[i].toString()}`;\n    }\n\n    return strList.join('\\n');\n  }\n\n  joinHelpStr(helpData) {\n    if (helpData instanceof Array) {\n      return helpData.join('\\n');\n    }\n    return helpData;\n  }\n\n  help(path) {\n    if (_.isUndefined(path)) {\n      return `${this.joinHelpStr(clihelp.$help)}\\n${_.slice(_.sortBy(_.keys(clihelp)), 1).join(', ')}\\n`;\n    }\n\n    const helpItem = _.get(clihelp, path);\n    return _.isUndefined(helpItem) ? this.help() : `${this.joinHelpStr(helpItem.$help)}\\n`;\n  }\n\n  load(miew, arg) {\n    if (miew === undefined || arg === undefined || arg === '-f') {\n      return;\n    }\n    miew.awaitWhileCMDisInProcess();\n    const finish = () => miew.finishAwaitingCMDInProcess();\n    miew.load(arg).then(finish, finish);\n  }\n\n  checkArg(key, arg, modificate) {\n    if (key !== undefined && arg !== undefined) {\n      if (keyRemap(key) === 'selector') {\n        const res = selectors.parse(arg);\n\n        if (res.error !== undefined) {\n          const selExc = { message: res.error };\n          throw selExc;\n        }\n\n        if (modificate !== undefined && modificate) {\n          return res.selector;\n        }\n        return arg;\n      }\n\n      const modificators = {\n        colorers,\n        modes,\n        materials,\n      };\n\n      let modificator = key;\n      let temp;\n      while (modificator !== temp) {\n        temp = modificator;\n        modificator = keyRemap(temp);\n      }\n\n      if (modificators[modificator].get(arg) === undefined) {\n        const exc = { message: `${arg} is not existed in ${modificator}` };\n        throw exc;\n      }\n      return arg;\n    }\n    return NULL;\n  }\n\n  propagateProp(path, arg) {\n    if (path !== undefined) {\n      let argExc = {};\n      const adapter = options.adapters[typeof _.get(settings.defaults, path)];\n      if (adapter === undefined) {\n        const pathExc = { message: `${path} is not existed` };\n        throw pathExc;\n      }\n\n      if ((path.endsWith('.color') || path.endsWith('.baseColor')\n        || path.endsWith('.EL.carbon')) && typeof arg !== 'number') {\n        arg = palettes.get(settings.now.palette).getNamedColor(arg);\n      }\n\n      if (path.endsWith('.fg') || path.endsWith('.bg')) {\n        if (typeof arg !== 'number') {\n          const val = palettes.get(settings.now.palette).getNamedColor(arg, true);\n          if (val !== undefined) {\n            arg = `0x${val.toString(16)}`;\n          }\n        } else {\n          arg = `0x${arg.toString(16)}`;\n        }\n      }\n\n      if (path.endsWith('.template')) {\n        arg = arg.replace(/\\\\n/g, '\\n');// NOSONAR\n      }\n\n      if (arg !== undefined && adapter(arg) !== arg && adapter(arg) !== (arg > 0)) {\n        argExc = { message: `${path} must be a \"${typeof _.get(settings.defaults, path)}\"` };\n        throw argExc;\n      }\n    }\n    return arg;\n  }\n\n  unquoteString(value) {\n    return utils.unquoteString(value);\n  }\n}\n// repIndexOrRepMap could be RepresentationMap or index\n\nconst utilFunctions = new CLIUtils();\n\nfunction CreateObjectPair(a, b) {\n  const obj = {};\n  obj[a] = b;\n  return obj;\n}\n\nfunction ArgList(arg) {\n  if (arg instanceof this.constructor) {\n    return arg;\n  }\n  if (arg instanceof Array) {\n    this._values = arg.slice(0);\n  } else if (arg) {\n    this._values = [arg];\n  } else {\n    this._values = [];\n  }\n}\n\nArgList.prototype.append = function (value) {\n  const values = this._values;\n  values[values.length] = value;\n  return this;\n};\n\nArgList.prototype.remove = function (value) {\n  const values = this._values;\n  const index = values.indexOf(value);\n  if (index >= 0) {\n    values.splice(index, 1);\n  }\n  return this;\n};\n\nArgList.prototype.toJSO = function (cliUtils, cmd, arg) {\n  const res = {};\n\n  const list = this._values;\n  for (let i = 0, n = list.length; i < n; ++i) {\n    _.set(res, list[i].id, cliUtils.propagateProp(`${keyRemap(cmd)}.${arg}.${list[i].id}`, list[i].val));\n  }\n\n  return res;\n};\n\nfunction Arg(_id, _val) {\n  this.id = _id;\n  this.val = _val;\n}\n\nconst cliutils = Object.create({});\n\ncliutils.Arg = Arg;\ncliutils.ArgList = ArgList;\n\ncliutils.miew = null;\ncliutils.echo = null;\ncliutils.representations = representationsStorage;\ncliutils.utils = utilFunctions;\n\ncliutils._ = _;\ncliutils.CreateObjectPair = CreateObjectPair;\ncliutils.keyRemap = keyRemap;\ncliutils.Context = selectors.Context;\ncliutils.ClearContext = selectors.ClearContext;\n\ncliutils.NULL = NULL;\n\ncliutils.notimplemented = function () {\n  return this.NULL;\n};\n\nMiew.prototype.script = function (script, _printCallback, _errorCallback) {\n  parsercli.yy.miew = this;\n  parsercli.yy.echo = _printCallback;\n  parsercli.yy.error = _errorCallback;\n  if (this.cmdQueue === undefined) {\n    this.cmdQueue = [];\n  }\n\n  if (this.commandInAction === undefined) {\n    this.commandInAction = false;\n  }\n\n  this.cmdQueue = this.cmdQueue.concat(script.split('\\n'));\n};\n\nMiew.prototype.awaitWhileCMDisInProcess = function () {\n  this.commandInAction = true;\n};\n\nMiew.prototype.finishAwaitingCMDInProcess = function () {\n  this.commandInAction = false;\n};\n\nMiew.prototype.isScriptingCommandAvailable = function () {\n  return this.commandInAction !== undefined\n         && !this.commandInAction\n         && this.cmdQueue !== undefined\n         && this.cmdQueue.length > 0;\n};\n\nMiew.prototype.callNextCmd = function () {\n  if (this.isScriptingCommandAvailable()) {\n    const cmd = this.cmdQueue.shift();\n\n    const res = {};\n    res.success = false;\n    try {\n      parsercli.parse(cmd);\n      res.success = true;\n    } catch (e) {\n      res.error = e.message;\n      parsercli.yy.error(res.error);\n      this.finishAwaitingCMDInProcess();\n    }\n    return res;\n  }\n  return '';\n};\n\nparsercli.yy = cliutils;\n// workaround for incorrect JISON parser generator for AMD module\nparsercli.yy.parseError = parsercli.parseError;\n"],"names":["this","Timer","startTime","oldTime","elapsedTime","running","now","getElapsedTime","update","delta","newTime","p","window","performance","bind","Date","createElement","tag","id","css","element","document","style","cssText","Stats","domElement","_text","appendChild","_startTime","_prevTime","_deltas","Array","_index","_total","_count","time","length","ms","fps","textContent","toPrecision","end","on","undefined","display","_typeof","isUndefOrEqual","param","value","EventDispatcher","_handlers","prototype","addEventListener","type","callback","context","handlers","params","_checkPar","par","_","find","push","removeEventListener","self","forEach","handler","ev","remove","values","omitBy","dispatchEvent","event","apply","priorities","debug","info","report","warn","error","Logger","call","console","_priority","Object","create","constructor","instantiate","verify","number","isNumber","Error","defineProperty","get","findKey","set","level","levels","keys","message","priority","_message","String","output","log","browserType","DEFAULT","SAFARI","encodeQueryComponent","text","excludeExp","encode","code","fromCharCode","parseInt","substr","encodeURIComponent","replace","decodeQueryComponent","decodeURIComponent","getUrlParameters","url","location","search","query","substring","indexOf","result","match","exec","getUrlParametersAsDict","a","i","key","resolveURL","str","URL","href","anchor","generateRegExp","symbolStr","symbolList","n","charCodeAt","toString","listStr","join","RegExp","attrs","content","setAttribute","child","createTextNode","HTMLElement","deriveClass","cls","base","members","statics","assign","deriveDeep","obj","needZeroOwnProperties","res","copy","hexColor","color","hex","DebugTracer","namespace","enabled","enable","indent","methods","wrap","method_","name_","spaces","logger","args","name","method","Function","OutOfMemoryError","allocateTyped","TypedArrayName","size","e","RangeError","bytesToBase64","buffer","bytes","Uint8Array","binary","byteLength","btoa","bytesFromBase64","atob","arrayToBase64","array","TypedArrayClass","arrayFromBase64","slice","compareOptionsWithDefaults","opts","defOpts","optsStr","isAlmostPlainObject","o","isPlainObject","proto","getPrototypeOf","hasOwnProperty","objectsDiff","src","dst","diff","forIn","srcValue","dstValue","deepDiff","isEmpty","isEqual","forInRecursive","object","iterateThrough","prefix","newPref","enquoteString","isString","unquoteString","SyntaxError","getFileExtension","fileName","Math","max","lastIndexOf","Infinity","splitFileName","ext","dataUrlToBlob","parts","split","partsCount","Blob","getBrowser","navigator","vendor","userAgent","shotOpen","open","write","shotDownload","dataUrl","filename","msSaveBlob","link","download","innerHTML","createObjectURL","body","click","removeChild","data","blobData","copySubArrays","indices","itemSize","j","shallowCloneNode","node","newNode","cloneNode","worldPos","unquotedStringRE","enquoteHelper","correctSelectorIdentifier","test","concatTypedArraysUnsafe","first","second","mergeTypedArraysUnsafe","reduce","acc","cur","start","count","JobHandle","_shouldCancel","slaveEvent","VERSION","defaults","modes","BS","atom","bond","space","multibond","aromrad","showarom","polyComplexity","poor","low","medium","high","ultra","VW","LN","offsarom","chunkarom","lineWidth","LC","SA","zClip","probeRadius","subset","wireframe","SE","QS","isoValue","gaussLim","scale","gridSpacing","CS","probePositions","TR","radius","TU","heightSegmentsRatio","tension","CA","depth","ss","helix","width","arrow","strand","TX","template","horizontalAlign","verticalAlign","dx","dy","dz","fg","bg","showBg","VD","kSigma","kSigmaMed","kSigmaMax","frame","isoMode","colorers","EL","carbon","UN","CO","baseColor","CB","factor","SQ","gradient","TM","min","OC","HY","MO","antialias","camFov","camNear","camFar","camDistance","radiusToFit","fogNearFactor","fogFarFactor","fogAlpha","fogColor","fogColorEnable","palette","resolution","autoResolution","autoPreset","preset","presets","mode","colorer","selector","material","empty","wire","small","macro","objects","line","dashSize","gapSize","transparent","draft","clipPlane","clipPlaneFactor","clipPlaneSpeed","plugins","axes","fog","zSprites","isoSurfaceFakeOpacity","suspendRender","nowater","autobuild","fxaa","outline","threshold","thickness","ao","shadow","autoRotation","maxfps","fbxprec","autoRotationAxisFixed","zooming","picking","pick","editing","aromatic","singleUnit","stereo","interpolateViews","transparency","translationSpeed","example","good","ssaoKernelRadius","ssaoFactor","stereoBarrel","use","multiFile","Settings","old","_changed","reset","utils","path","oldValue","_notifyChange","merge","_notifyChanges","defaultValue","cloneDeep","checkpoint","deepValue","deepPath","changed","filter","applyDiffs","diffs","getDiffs","versioned","setPluginOpts","plugin","repIndex","asBoolean","toLowerCase","adapters","string","Number","cL1Ass","cOptsSep","cL2Ass","cLSep","cCommonIgnoreSymbols","getLevel1ExcludedExpr","cLevel1Ignores","getLevel2ExcludedExpr","cLevel2Ignores","cL1ExclExpr","encodeQueryComponentL1","cL2ExclExpr","encodeQueryComponentL2","ensureRepList","reps","settings","ensureRepAssign","prop","rep","addObject","options","_objects","newOpts","newObj","parseParams","sep","extractArgs","input","defaultsDict","bang","inputVal","arg","pair","adapter","actions","l","load","t","v","view","u","unit","menu","isArray","r","s","select","m","c","mt","materials","dup","ar","_fromArray","entries","entry","action","isFunction","fromAttr","attr","fromURL","_processOptsForURL","_processArgsForURL","_processObjForURL","objOpts","toURL","stringList","idx","checkAndAdd","addReps","repList","addObjects","objList","protocol","host","pathname","_processOptsForScript","_processArgsForScript","_processObjForScript","map","_processRepsForScript","index","repString","strIdx","localAdd","toScript","commandsList","command","saveQuotes","quote","trim","Atom","residue","position","role","het","serial","occupancy","temperature","charge","mask","hydrogenCount","radicalCount","valence","bonds","flags","Flags","HYDROGEN","CARBON","process","_chain","getName","_sequence","NONPOLARH","Element","fullName","weight","radiusBonding","hValency","hydrogenValency","U1","Lead","U2","Wing","U18","N","Constants","C","O","SG","D","T","byAtomicNumber","ByAtomicNumber","byName","ByName","getByName","cBondTypes","UNKNOWN","COVALENT","AROMATIC","getAtomPos","Bond","left","right","order","fixed","_left","_right","_fixed","_order","_type","distanceTo","currAtom","_forEachNeighbour","l2Atom","refPoint","currDir","posGetter","rightCount","leftCount","tmpVec","clone","checkDir","sub","dotProd","dot","checkCarbon","stages","forEachLevelOne","forEachLevelTwo","stageId","multiplyScalar","third","maxNeibs","another","secondPos","firstV","secondV","crossVectors","lengthSq","normalize","_fixDir","BondType","cNucleicControlNames","cNucleicWing1Names","cNucleicWing2Names","cCylinderSource","cCylinderTarget","types","atoms","Residue","chain","sequence","icode","_component","_icode","_mask","_atoms","_secondary","_firstAtom","_leadAtom","_wingAtom","_lastAtom","_controlPoint","_midPoint","_wingVector","_cylinders","_isValid","_het","_molecule","xyz","altLoc","tempFactor","complex","getComplex","addAtom","forEachAtom","names","_findAtomByName","_name","next","getAtomPosition","leadAtom","_findFirstAtomInList","wingStart","wingEnd","cylSource","targetList","getCylinderTargetList","cylTarget","prevLeadPos","currLeadPos","prevWingPos","prevWing","vectorA","vectorB","needToNegate","abs","angleTo","PI","negate","prevRes","prev","nextRes","chainAsNucleic","bFirstInChain","lp","THREE","x","y","z","_detectLeadWing","lerp","calcWing","asNucleic","_innerFinalize","anotherResidue","tempCount","occupCount","ResidueType","letterCode","_fullName","ALA","ARG","ASN","ASP","CYS","GLN","GLU","GLY","HIS","ILE","LEU","LYS","MET","PHE","PRO","PYL","SEC","SER","THR","TRP","TYR","VAL","A","G","I","U","DA","DC","DG","DI","DT","DU","WAT","H2O","HOH","DOD","UNK","UNL","PROTEIN","BASIC","ACIDIC","POLAR","NONPOLAR","NUCLEIC","PURINE","PYRIMIDINE","DNA","RNA","WATER","_addFlag","flag","list","StandardTypes","hydro","_addParam","ChainType","Chain","_complex","_residues","minSequence","POSITIVE_INFINITY","maxSequence","NEGATIVE_INFINITY","residues","seqNum","iCode","_determineType","curr","_finalize2","frameData","prevData","frameRes","currData","getResidueType","addResidueType","addResidue","StructuralElement","init","term","generic","genericByType","serialAtomMap","residueHash","splitUnifiedSerial","chainId","serialId","hashCode","getUnifiedSerial","Type","STRAND","BRIDGE","HELIX_310","HELIX_ALPHA","HELIX_PI","HELIX","TURN_310","TURN_ALPHA","TURN_PI","TURN","BEND","COIL","Generic","LOOP","StructuralElementType","StructuralElementGeneric","typeByPDBHelixClass","Helix","helixClass","comment","Strand","sheet","sense","atomCur","atomPrev","as","isNaN","Sheet","_width","_strands","_finalize","SGroup","saveNode","_id","_position","_charge","_repeat","_center","xmlNodeRef","nLimon","bLow","bHight","aPos","addVectors","parser","k","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","trace","yy","symbols_","terminals_","productions_","performAction","anonymous","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","keyword","GetSelector","RangeList","append","Range","ValueList","table","defaultActions","parseError","hash","recoverable","parse","stack","tstack","vstack","lstack","TERROR","EOF","arguments","lexer","sharedState","setInput","yylloc","yyloc","ranges","lex","token","pop","symbol","state","yyval","len","newState","expected","errStr","showPosition","loc","first_line","last_line","first_column","last_column","range","concat","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","lines","unput","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","matches","tempMatch","rules","_currentRules","flex","begin","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","Parser","List","_values","splice","toJSON","includes","valuesArray","upperOnly","toUpperCase","_validate","Selector","ListSelector","RangeListSelector","ValueListSelector","caseSensitive","NoneSelector","_atom","AllSelector","none","PrefixOperator","rhs","InfixOperator","lhs","keywords","defineSelector","SelectorClass","factory","NULL_SELECTOR","defineOperator","OperatorClass","includesAtom","byResidueTypeFlag","selectors","Context","exc","ClearContext","BiologicalUnit","_selector","_boundaries","boundingBox","boundingSphere","makeEmpty","expandByPoint","bbc","getCenter","setFromCenterAndSize","radiusSquared","center","pos","lengthSquared","distanceToSquared","sqrt","Assembly","chains","matrices","oldCenter","oldRad","applyMatrix4","newRad","addScalar","subScalar","matrix","Component","_residueIndices","_cycles","_subDivs","_residueCount","resIdc","idIdc","idCount","last","subDivs","resCnt","_bonds","forEachCycle","cycle","forEachResidue","cycles","subs","currRes","endRes","_forEachSubChain","_subIdx","currIdx","lastSubIdx","subIdx","arr","boundaries","cMaxPairsForHashCode","cHashTableSize","cNumbersPerPair","cMaxNeighbours","cInvalidVal","cBigPrime","AtomPairs","maxPairsEstimate","numPairs","numMaxPairs","intBuffer","Int32Array","hashBuffer","indexA","indexB","ia","ib","codeToAdd","apI","cEstBondsMultiplier","cSpaceCode","cBondTolerance","cEpsilon","_getBondingRadius","_isAtomEligible","isHet","AutoBond","_maxRad","bBox","getDefaultBoundaries","_vBoxMin","_vBoxMax","_pairCollection","getAtoms","numAtoms","aInd","collection","numBondsForAtom","bInd","indTo","addPair","vw","getVoxelWorld","atomsNum","rA","isHydrogenA","posA","locationA","atomA","processAtom","atomB","isHydrogen","locationB","dist2","rB","maxAcceptable","forEachAtomWithinRadius","iA","iB","_addPair","bondsA","numBonds","newBond","addBond","_buildInner","_calcBoundingBox","_addExistingPairs","_findPairs","_addPairs","nAtoms","maxRad","destroy","cCrossThresh","cAromaticType","cAromaticAtoms","_coDirVectors","v1Tmp","v2Tmp","cp","v1","v2","_insertAscending","val","_anotherAtom","_cosBetween","theta","clamp","_markAromatic","Cycle","atomsList","nA","add","nextAtom","checkBond","forEachBond","_isAromatic","_isPossibleAromatic","rightIdx","leftIdx","_checkCycleSimple","_checkCycleComplex","assert","AromaticLoopsMarker","bondsData","bondMarks","_bondsData","_bondMarks","_resetCycles","_currIdx","bond1","bond2","arr1","arr2","n1","n2","i1","i2","prevBond","currRight","bondsOrder","currLeft","currVec","startAtomRef","_currStart","checkAromatic","_checkBond","_haveSameCycle","anotherAtom","anotherVec","newDir","cross","dir","newRight","_tryBond","checkCycle","forEachComponent","component","_startCycle","newCycle","addCycle","_findLoops","_getSphereSliceRadiusRange","zMin","zMax","dzMin","dzMax","rzMin","rzMax","rMin","rMax","_getCircleSliceRadiusRange","yMin","yMax","dyMin","dyMax","ryMin","ryMax","VoxelWorld","box","vCellSizeHint","_box","getSize","divide","floor","_last","_cellSize","_cellInnerR","_cellOuterR","numVoxels","_voxels","getAtomCount","voxelIdx","_findVoxel","point","zero","_zero","voxel","_voxel","xRange","_xRange","yRange","_yRange","zRange","_zRange","_forEachVoxelWithinRadiusSimple","rRangeXY","rRangeX","xVal","yVal","zVal","isInsideX","isInsideY","isInsideZ","divideScalar","clampScalar","vCenter","_vCenter","distTouch2","distInside2","d2","r2","_forEachVoxelWithinRadius","isInside","_forEachAtomInVoxel","dist","_forEachAtomWithinDistFromGroup","atomProc","voxels","processIfWithin","MINIMAL_DISTANCE","MIN_HBOND_ENERGY","MAX_HBOND_ENERGY","COUPLING_CONSTANT","MAX_COUPLING_DISTANCE","MAX_RESIDUES_THRESHOLD","HBondInfo","_hbonds","_buildVW","_build","from","to","acceptor","acc0","acc1","energy","ri","getType","preri","rj","prerj","_calcHBondEnergy","pairs","PairCollection","_residueGetCAlpha","_residueGetCO","h","predonor","donor","_residueGetNH","distanceHO","distanceHC","distanceNC","distanceNO","round","donorInfo","accInfo","BridgeType","freeze","NO_BRIDGE","PARALLEL","ANTI_PARALLEL","HelixFlag","START","MIDDLE","END","START_AND_END","StructureType","SecondaryStructureMap","_ss","_sheet","_betaPartners","_bend","getResidues","_helixFlags","_chainLengths","_chains","_buildBetaSheets","_buildAlphaHelices","inResidues","chainLength","inPreferPiHelices","stride","isBond","kappa","_kappa","_isHelixStart","isTurn","p1","p2","p3","p4","v12","v34","prevPrev","nextNext","curCA","ppCA","nnCA","ckap","_cosinusAngle","skap","atan2","bridges","lenA","chainA","b","lenB","chainB","_testBridge","found","bridge","unshift","chainI","getChain","chainJ","sort","ibi","iei","jbi","jei","ibj","iej","jbj","jej","_hasChainBreak","bulge","ladderset","Set","ladder","sheetset","toMove","_areBridgesLinked","betai","betaj","parallel","d","f","ai","aj","has","VOXEL_SIZE","helixClassMap","loopMap","Complex","_components","_helices","_sheets","structures","_residueTypes","_sgroups","_molecules","_maskNeedsUpdate","metadata","symmetry","units","_currentUnit","forEachChain","updateToFrame","resName","rt","chainName","resId","atomName","localeCompare","molecules","groups","components","maxSerial","chainShift","uniSerial","remnant","insCode","ser","addComp","comp","resCount","currStart","isConnected","setSubDivs","currSubDivs","enableEditing","_fillCmpEdit","_fillCmpNoedit","getBoundaries","getTransforms","getSelector","setCurrentUnit","newUnit","computeBoundaries","_computeBounds","_finalizeBonds","forEachSGroup","_rebuildSGroupOnAtomChange","updateStructuresMask","getBonds","finalize","getSequence","getICode","helices","sheets","needAutoBonding","autoConnector","build","other","_fillComponents","marker","markCycles","detectAromaticLoops","detectCycles","_finalizeMolecules","molecule","updater","structure","collectMask","forEachMolecule","setMask","clearMask","totalSelector","reseter","_atomNames","dict","_elements","_residueNames","_chainNames","_altlocNames","_voxelWorld","addAtoms","srcArray","dstArray","functor","elem","complexes","atomBias","bondBias","residueBias","chainBias","componentBias","bias","processBond","processResidue","processChain","processComponent","doNothing","addElement","ssMap","getSheet","item","lastCode","lastSheetIndex","lastHelixIndex","curStructure","curCode","curResidue","curSheetIndex","loopType","curSheet","addStrand","pow2ceil","Volume","dimensions","vecSize","volumeInfo","_dimVec","_volumeInfo","_dimX","_dimY","_dimZ","_rowElements","_planeElements","_totalElements","_data","getValue","setValue","addValue","boxSize","Float32Array","vl","getCellSize","vs","xSize","ySize","zSize","volMap","_voxelValue","zi","zm","zp","yi","ym","yp","xi","xm","xp","tilesX","ceil","tilesY","height","tileRow","row","texture","needsUpdate","Molecule","CSS2DObject","_element","parentNode","transp","el","getElement","op","top","op100","opacity","RCGroup","raycaster","intersects","visible","children","raycast","innerOnly","enableSubset","disableSubset","totalSubset","getSubset","LAYERS","VOLUME","TRANSPARENT","PREPASS_TRANSPARENT","VOLUME_BFPLANE","COLOR_FROM_POSITION","SHADOWMAP","SELECTION_LAYERS","resetTransform","quaternion","updateMatrixWorldRecursive","parent","updateMatrixWorld","addSavingWorldTransform","_worldMatrixInverse","matrixWorld","invert","multiply","decompose","renderDummyQuad","_material","depthWrite","_scene","_quad","_camera","render","renderScreenQuad","isIdentity","identity","equals","applyToPointsArray","w","elements","persp","ScreenQuadMaterial","uniforms","srcTex","vertexShader","vertexScreenQuadShader","depthTest","renderScreenQuadFromTex","fragmentShader","fragmentScreenQuadFromTex","renderScreenQuadFromTexWithDistortion","coef","fragmentScreenQuadFromTexWithDistortion","setMinimalFov","angle","aspect","fov","radToDeg","atan","tan","degToRad","updateHalfSized","camera","originalAspect","originalFov","updateProjectionMatrix","setDistanceToFit","sin","intersectVisibleObject","gfxObj","fogFarPlane","intersectObject","nearPlane","near","matrixWorldInverse","farPlane","far","extractScale","_v","te","det","determinant","_calcCylinderMatrix","posBegin","posEnd","posCenter","matScale","makeScale","matRotHalf","makeRotationX","matRotLook","vUp","lookAt","setPosition","_calcChunkMatrix","eye","target","up","rad","_groupHasGeometryToRender","group","hasGeoms","traverse","_buildDistorionMesh","widthSegments","heightSegements","calcInverseBarrel","epsilon","prevR2","curR2","dr","geo","getAttribute","setXY","copyAtList","attribute","indexList","fillArray","startIndex","endIndex","removeChildren","clearTree","geometry","dispose","destroyObject","belongToSelectLayers","layers","processObjRenderOrder","root","idMaterial","renderOrder","isGroup","applySelectionMaterial","setValues","depthFunc","overrideColor","lights","shadowmap","setUberOptions","fixedColor","zOffset","getMiddlePoint","point1","point2","optionalTarget","addScaledVector","_oldInstancedBufferGeometryCopy","source","instanceCount","calcCylinderMatrix","calcChunkMatrix","groupHasGeometryToRender","buildDistorionMesh","_defaultBoundaries","Visual","dataSource","_dataSource","gfxutils","_ensureArray","EntityList","entities","_list","_dict","_indices","entity","register","registerInList","registerInDict","unregisterFromList","unregisterFromDict","makeContextDependent","defineProperties","CollisionSphere","_radius","sphere","_sphere","ray","intersectSphere","distance","origin","SphereCollisionGeo","inters","chunkIdx","computeBoundingBox","tmpColor","OFFSET_SIZE","COLOR_SIZE","setArrayXYZ","setArrayXYZW","InstancedSpheresGeometry","spheresCount","sphereComplexity","useZSprites","_sphGeometry","_init","itemIdx","itemPos","itemRad","_offsets","setSphere","colorVal","_colors","g","finishUpdate","computeBoundingSphere","chunkIndices","alphaArr","_alpha","geom","sphereGeo","alpha","fill","RaycastableBufferGeometry","uv1","uv2","uv3","barycoord","_barycoord","barycoordFromPoint","pA","pB","pC","intersect","intersectTriangle","uv","vA","_vA","vB","_vB","vC","_vC","intersectionPoint","_intersectionPoint","fromBufferAttribute","intersection","checkIntersection","uvA","_uvA","uvB","_uvB","uvC","_uvC","uvIntersection","normal","getNormal","face","faceIndex","intersectsSphere","intersectsBox","attributes","getX","checkBufferGeometryIntersection","MAX_IDC_16BIT","VEC_SIZE","ChunkedObjectsGeometry","chunkGeo","chunksCount","_chunkGeo","colors","chunkSize","_chunkSize","facesPerChunk","srcPos","_positions","srcNorm","_normals","srcColor","dstPos","dstNorm","dstColor","dstPtOffset","ptIdxBegin","ptIdxEnd","subarray","chunkIndex","chunkIndexSize","pointsCount","use32bitIndex","indexSize","Uint32Array","Uint16Array","posOffset","setIndex","SimpleSpheresGeometry","sphGeometry","normals","geoNormals","_chunkPos","_tmpPositions","tmpPos","geoPos","centerPos","tmpVector","normMtx","Simple2CCylindersGeometry","cylGeometry","_chunkNorms","_tmpVector","botPos","topPos","firstOffset","secondOffset","tmpArray","geoNorm","lerpVectors","mtx1","getNormalMatrix","fromArray","toArray","applyMatrix3","colorVal1","colorVal2","MAX_POINTS_COUNT_16BIT","PTS_PER_TRIANGLE","CylinderBufferGeometry","radiusTop","radiusBottom","radialSegments","heightSegments","openEnded","thetaStart","thetaLength","parameters","hasTop","hasBottom","vertexCount","facesCount","heightHalf","positions","uvs","currVtxIdx","currFaceIdx","tanTheta","v3","v4","setXYZ","vx","vy","vz","cos","startTIdx","lastIdx","fTIdx","currSrcIdx","getY","getZ","nextTVtx","startBIdx","lastBIdx","fBIdx","currSrcBIdx","nextBVtx","invMatrix","sortNumber","_prepareCylinderInfo","chunksIdx","cylinderInfo","even","newPar","_assignOpacity","color1","color2","Instanced2CCylindersGeometry","_useZSprites","_cylGeometry","_collisionGeo","me","mtxOffset","setItem","_matVector1","_matVector2","_matVector3","_invmatVector1","_invmatVector2","_invmatVector3","colorIdx","_color1","_color2","cylinderIndices","cylinderGeo","TRI_SIZE","tmpPrev","tmpNext","tmpRes","simpleNormal","normalOnCut","nearRingPt","_createExtrudedChunkGeometry","shape","ringsCount","ptsCount","totalPts","ExtrudedObjectsGeometry","_ringsCount","tmpShape","_tmpShape","hasSlope","hasCut","chunkStartIdx","_setPoints","_setSlopeNormals","_setBaseNormals","_addCut","vtxIdx","mtx","nPtsInRing","_countNormalsInRing","isSlope","shiftToExtraPt","subVectors","VERTEX_PER_SEGMENT","POS_SIZE","DIR_SIZE","COL_SIZE","direction","startSegmentIdx","segmentsCount","elemSize","ThickLinesGeometry","_initVertices","segmentIdx","pos1","pos2","directions","_directions","dirIdx","startSegIdx","endSegIdx","startPos","startDir","_buffersSize","indexOffset","pointOffset","LinesGeometry","posSize","getPositionSize","BaseLinesGeometry","CylinderCollisionGeo","itemOffset","COLLISION_RAD","ChunkedLinesGeometry","enableCollision","collisionGeo","segCount","segIdx","setSegments","getSubsetSegments","setColors","getSubsetColors","TwoColorLinesGeometry","segmentIndices","_segCounts","vectors","vecCount","tempPos1","tempPos2","CrossGeometry","setSegment","POS_RAD_SIZE","IsoSurfaceGeometry","_opts","_posRad","posRad","IsoSurfaceMarchCube","pointsValuesLinear","hasIntersection","bitsInside","numCellsPerSide","vx7000000","n3","striIndicesMarchCube","edgeTable","_voxelGradientFast","grad","GridCell","_arrSize","cubeIndex","Triangle","createArray","arrSize","IsoSurface","_numTriangles","_numVertices","_volumetricData","_xAxis","_yAxis","_zAxis","_xDir","_yDir","_zDir","volData","cellSize","xAxis","yAxis","zAxis","xDir","yDir","zDir","tmp","notZero","axe","EPSILON","isoLevel","grid","ind1","ind2","vertex","valP1","valP2","isoDiffP1","diffValP2P1","mu","triangles","firstIndices","_firstIndices","secondIndices","_secondIndices","vertexList","_vertexList","normalList","_normalList","_vertexInterp","triCount","triTblIdx","triTable","_triTable","step","appendSimple","vol","getData","dim","getDimensions","stepX","getStrideX","stepY","getStrideY","stepZ","getStrideZ","gc","gcVal","gcValSize","additions","tmpTriCount","appendVertex","axis","triVertex","_origin","posMtx","globTriCount","getDirectIdx","_gradient","_polygonize","computeGradient","_doGridPosNorms","_prepareAxesAndDirs","vertexMap","idcCount","newIndices","vertices","newPositions","newNormals","norm","faceVer","oldVerCount","vMap","newVer","matchedIndex","_remapIndices","_remapVertices","colorMap","atomMap","atomWeightMap","visibilitySelector","numVerts","xs","ys","zs","colorData","strideX","strideY","strideZ","atomWeightData","atomStrideX","atomStrideY","atomStrideZ","xInv","yInv","zInv","atomLookup","atomWeights","interp","idx1","idx2","collectWeight","coefX","coefY","coefZ","newVerCount","ind","mux","muy","muz","maxWeight","dominantIdx","atomIdx","c0","c1","c2","c3","cz0","cz1","numTriangles","newTriCount","i0","VolumeSurfaceGeometry","_visibilitySelector","_calcSurface","posRadArray","itemsCount","maxPosRad","minPosRad","tmpVal","minMaxValues","_findMinMax","minCoordRad","maxCoordRad","gridPadding","radScale","padRad","bbox","surface","isoSurf","compute","vertexFusion","setColorVolTex","volTexMap","packedArrays","_findNumVoxels","_computeSurface","_makeSurface","chem","QuickSurfGeometry","_shiftByOrigin","gaussdensity","atomicNum","invIsoValue","invGridSpacing","maxVoxelX","maxVoxelY","maxVoxelZ","volTexData","texStrideX","scaledRad","atomicNumFactor","radInv","radLim","radLim2","xMin","xMax","dy2dz2","addr","texAddr","expVal","density","exp","colInd","originX","originY","originZ","AVHash","maxDistance","minX","minY","minZ","maxX","maxY","maxZ","hashFunc","minW","iDim","jDim","kDim","nCells","jkDim","cellID","preHash","cid","iIdx","cellOffsets","cellLengths","maxCellLength","subArray","cellLength","neighbourListLength","withinRadii","rExtra","out","outIdx","nearI","nearJ","nearK","loI","loJ","loK","hiI","hiJ","hiK","iOffset","jOffset","cellStart","cellEnd","dataIndex","atomIndex","baseIndex","rSum","ContactSurface","_indexList","maxRadius","scaleFactor","lastClip","volTex","weights","weightsMap","gridx","gridy","gridz","sinTable","cosTable","neighbours","mid","ngTorus","uniformArray","TypeName","innI","fillGridDim","initializeGrid","gridSize","initializeAngleTables","initializeHash","rExt","singleAtomObscures","innX","innY","innZ","innCI","ra2","obscured","ni","projectPoints","sigma","sigma2Inv","ax","ay","az","ar2","ng","iax","iay","iaz","minx","miny","minz","maxx","maxy","maxz","colIdx","cr","cg","cb","iz","iy","dzy2","zyOffset","ix","cIdx","ap","spx","spy","spz","dd","normalToLine","projectTorus","aIdx","bIdx","xa","ya","za","r1","innR2","cosA","dmp","rInt","cost","sint","px","py","pz","current","projectTorii","innIdx","fixNegatives","innInnI","getVolume","timeEnd","ContactSurfaceGeometry","contactSurface","IsoSurfaceAtomColored","radiusAt","coord","colorX","colorY","colorZ","atomType","srcAtom","IsosurfaceBuildNormals","vBoxMin","vBoxMax","_numAtoms","_probeRadius","_atomsList","_voxelList","numAtomsRefs","ATOM_VOXEL_REF_SCALE","aveRad","numCells","_numCells","_aveRad","side","side2","side3","xScale","_xScale","yScale","_yScale","zScale","_zScale","maxAtomsRefs","xNumVoxMult","yNumVoxMult","zNumVoxMult","radAffect","diaAffect","numVoxX","numVoxY","numVoxZ","xIndMin","yIndMin","zIndMin","xIndMax","yIndMax","zIndMax","indVoxel","indexNext","_vertices","xInd","yInd","zInd","ref","indexAtom","closest","minDist2","MAX_VALUE","forEachRelatedAtom","numVertices","numCloseAtoms","vNormalX","vNormalY","vNormalZ","koef","r25","r01","maxRadAffect","maxRadAffect2","expScale","gatherNormals","radiusColorSmoothness","KOEF_ADD","colorsClose","weightsSum","gatherColors","weightNormalized","IsoSurfaceGeo","maxNumVertices","maxNumTriangles","needVertexColors","_maxNumVertices","_maxNumTriangles","HASH_SIZE","SSIsosurfaceGeometry","_innerBuild","geoOut","getGeo","_fromGeo","numTri3","atomsColored","nm","hashLines","hashEntries","bigNum","probeRadius2","atomRadiusScale","radMax","num","numPoints","vOut","invNP","tx","ty","tz","sign","cube","indexPointValue","cTwentyFour","xb","yb","zb","v0","a0","voxelWorld","getClosestAtom","a1","a2","isTriangleVisible","indInGeo0","addVertexToGeo","indInGeo1","indInGeo2","itr","meshRes","corners","vCellStep","cNumVerts","vaEdges","vCorner","indCell","indY","indZ","getCornerCoord","indPointValues","indValues","buildEdgePoint","offs","numTri","indTri","addTriangle","numIntersectedCells","cubeValuesIndex","indCorner","letter","atomT","probeRad","vDif","aLot","fx","fy","fz","indXMin","indYMin","indZMin","indXMax","indYMax","indZMax","distToSphere","numHashEtriesAllocated","numHashEntryIndex","vAdd","oneHynberes","n815851","n37633","n2453543","r106","hashResolution","marCubeResoultion","iHash","hLineIndex","dot2","iVertAdd","getNewHashEntry","entryFirst","probeSphereRadius","distToBorder","r11","innerBlockWorkAround","probeSpRad2","sideInv","radEst","xCorner","yCorner","zCorner","ok","expandFactor","meshResolution","colorMode","useVertexColors","excludeProbe","convertToAtomsColored","getBoundingBox","rProbeRadius","calculateGridCorners","numIntersectedCellsEstim","getNumIntersectedCells","createVertexHash","probeRadForNormalsColors","createVoxels","buildGeoFromCorners","modifyExcludedFromGeo","buildNormals","buildColors","destroyVoxels","createLabel","fieldTxt","className","spanText","fontSize","strings","spanNodeP","spanNodeText","LabelsGeometry","items","xTranslation","yTranslation","deltaPos","userData","translation","textAlign","fColor","bColor","background","precision","renderer","capabilities","getMaxPrecision","noiseWidth","noiseHeight","_noiseData","_noiseWrapS","_noiseWrapT","_noiseMinFilter","_noiseMagFilter","_noiseMapping","noiseTexture","_samplesKernel","defaultUniforms","diffuse","specular","shininess","zClipValue","clipPlaneValue","nearPlaneValue","invModelViewMatrix","world2colorMatrix","dashedLineSize","dashedLinePeriod","projMatrixInv","viewport","samplesKernel","noiseTex","noiseTexelSize","srcTexelSize","uberOptionNames","UberMaterial","instancedPos","instancedMatrix","attrColor","attrColor2","attrAlphaColor","sphereSprite","cylinderSprite","fakeOpacity","prepassTransparancy","colorFromPos","shadowmapType","colorFromDepth","orthoCam","dashedLine","thickLine","fogTransparent","normalsToGBuffer","toonShading","uberOptions","precisionString","zClipCoef","noise","defines","extensions","createInstance","inst","USE_FOG","INSTANCED_POS","INSTANCED_MATRIX","ATTR_COLOR","ATTR_COLOR2","ATTR_ALPHA_COLOR","OVERRIDE_COLOR","SPHERE_SPRITE","fragDepth","CYLINDER_SPRITE","ZCLIP","CLIP_PLANE","FAKE_OPACITY","USE_LIGHTS","COLOR_FROM_POS","SHADOWMAP_PCF_SHARP","SHADOWMAP_PCF_RAND","SHADOWMAP_BASIC","COLOR_FROM_DEPTH","ORTHOGRAPHIC_CAMERA","PREPASS_TRANSP","DASHED_LINE","THICK_LINE","FOG_TRANSPARENT","drawBuffers","NORMALS_TO_G_BUFFER","TOON_SHADING","shallow","updateUniforms","SuperClass","NewObjectType","rest","onBeforeRender","scene","_onBeforeRender","_update","Mesh","UberObject","ZSpriteMesh","castShadow","receiveShadow","_geometry","_group","modelViewMatrix","multiplyMatrices","uniformsNeedUpdate","ZClippedMesh","modelView","_modelView","mvLength","_mvLength","setFromMatrixColumn","localToWorld","TextMesh","initialized","srcItem","label","visibility","SimpleMesh","_viewport","ThickLineMesh","projectionMatrix","InstancedMesh","ZClipped","ZSprite","Text","Line","LineSegments","Instanced","setMatParams","_createInstancedCylinders","Geometry","geometries","meshes","initMaterial","_createLineSegmentsGeoTriplet","renderParams","thickLines","_createSimpleGeoTriplet","geoClass","_createIsoSurfaceGeoTriplet","caps","surfaceOpts","MeshCreator","_caps","_settings","TransformGroup","geoParams","transforms","_geoParams","mat","_transforms","_createMeshes","_ray","inverseMatrix","_inverseMatrix","childIntersects","ciCount","geos","meshCnt","mesh","wrapper","Name","ChemGroup","selection","_selection","_mode","_colorer","_chunksIdc","chunks","_polyComplexity","_geo","_makeGeoArgs","_mesh","chunksList","_calcChunksList","setOpacity","_changeSubsetOpacity","AtomsGroup","atomsIdc","AtomsSphereGroup","calcAtomRadius","setColor","getAtomColor","updateColor","needsColorUpdate","AtomsSurfaceGroup","selectedAtoms","getSurfaceOpts","AtomsSASSESGroupStub","adjustColor","inverseColor","getAtomText","getNode","getVisualName","colorMappings","adjust","inverse","propagateColor","rule","startsWith","templateMappings","hetatm","water","parseTemplate","AtomsTextGroup","getLabelOpts","fgColor","bgColor","_slerp","omega","oSin","AromaticGroup","radOffset","addChunk","chunksToIdx","prevVector","currVector","segmentsHeight","_segmentsHeight","leprStep","currAtomIdx","cCount","cycAtoms","chunkPoints","tmpDir","cycleRad","prevPos","currPos","upDir","currAngle","_createShape","pts","AromaticTorusGroup","torusRad","getAromRadius","radiusV","calcStickRadius","lookAtVector","mtc","points","currPoint","AromaticLinesGroup","getAromaticOffset","prevPt","getAromaticArcChunks","ResiduesGroup","chunksIdc","resIdx","NucleicItemGroup","stickRad","getResidueColor","_processItem","NucleicCylindersGroup","cyl1","cyl2","NucleicSpheresGroup","calcMatrix","_buildStructureInterpolator","Smooth","METHOD_CUBIC","clip","CLIP_CLAMP","cubicTension","scaleTo","argTrans","transformT","tt","newt","ans","_addPoints","centerPoints","topPoints","tp","_addPointsForLoneResidue","nucleic","nameFrom","nameTo","posFrom","posTo","shift","wing","cpPrev","tpPrev","cpNext","tpNext","_calcPoints","firstIdx","_prevIdx","_nextIdx","arrIdx","_extrapolate2","otherIdx","prevIdx","nextIdx","CartoonHelper","startIdx","endIdx","pointsArrays","_topInterp","_centerInterp","_shift","_valueStep","_segmentsCount","firstRad","secondRad","mtcCount","outMtc","currRad","topInterp","cenInterp","currentValue","mtxIdx","lerpVal","currTop","currCenter","nextCenter","_loopThrough","subDiv","subDivI","subDivN","idc","matrixHelper","prevLast","prevSecondRad","getResidueRadius","prepareMatrices","ResiduesSubseqGroup","cmpMultiplier","getHeightSegmentsRatio","getTension","chunkIdc","subdivs","ResiduesTraceGroup","chunk","getCylinderCount","bondOrder","BondsGroup","drawMultiple","drawMultiorderBonds","showAromatic","showAromaticLoops","bondsIdc","bondsCount","getBondOrder","bondIdx","BondsCylinderGroup","emptyOffset","calcSpaceFraction","normDir","leftPos","rightPos","currBondIdx","atom1","atom2","a1Pos","a2Pos","calcNormalDir","minRad","currStickRad","STEP_SIZE","BondsLinesGroup","bondDir","a1Hangs","a2Hangs","AtomsProcessor","atomCount","_checkAtom","atomsGroup","meshIdx","chSubset","subsetEl","OrphanAtomsProcessor","ResiduesProcessor","ResidueGroup","_checkResidue","residuesGroup","NucleicProcessor","ResidueProcessor","SubseqsProcessor","getMaskedSubdivSequences","jEnd","BondsProcessor","bondsGroup","AromaticProcessor","cycleIdx","perCycle","Atoms","OrphanAtoms","Residues","Nucleic","Subseqs","Bonds","Aromatic","_bakeGroup","triplet","Processor","Group","GroupsFactory","gfxTriplet","createSpheres","processors","createCrosses","create2CCylinders","create2CLines","createExtrudedChains","create2CClosedCylinders","createChunkedLines","createQuickSurface","createContactSurface","createSASSES","createLabels","Mode","groupList","depGroups","groupCount","currGroup","newGroup","getRenderParams","LinesMode","shortName","LicoriceMode","BallsAndSticksMode","VanDerWaalsMode","TraceMode","TubeMode","_residue","TUBE_RADIUS","buildGeometry","CartoonMode","secCache","getSecondary","secOpts","ARROW_END","startRad","getResidueStartRadius","endRad","getResidueEndRadius","_res","tubeRad","secHeight","secData","SurfaceMode","surfaces","surfaceNames","isSurface","QuickSurfaceMode","useBeads","getVisibilitySelector","IsoSurfaceMode","_excludeProbe","_radScale","IsoSurfaceSASMode","IsoSurfaceSESMode","ContactSurfaceMode","TextMode","lerpColor","beta","g1","b1","g2","b2","Palette","asIs","elementColors","defaultElementColor","residueColors","defaultResidueColor","chainColors","secondaryColors","defaultSecondaryColor","gradientName","gradients","defaultNamedColor","namedColors","minRangeColor","midRangeColor","maxRangeColor","defaultGradientColor","namedColorsArray","rainbow","temp","hot","cold","reds","blues","H","F","P","S","CL","FE","NI","CU","BR","HE","LI","BE","B","NE","NA","MG","AL","SI","AR","K","SC","TI","V","CR","MN","ZN","GA","GE","AS","KR","RB","SR","Y","ZR","NB","TC","RU","RH","PD","AG","CD","IN","SN","SB","TE","XE","BA","LA","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","YB","LU","HF","TA","W","RE","OS","IR","PT","AU","HG","TL","PB","BI","PO","AT","RN","FR","RA","AC","TH","PA","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR","RF","DB","BH","HS","MT","palettes","cpkPalette","jmolPalette","vmdPalette","Colorer","ElementColorer","getElementColor","ResidueTypeColorer","SequenceColorer","getGradientColor","ChainColorer","getChainColor","SecondaryStructureColorer","getSecondaryColor","secondary","UniformColorer","ConditionalColorer","parsed","_subsetCached","ConformationColorer","TemperatureColorer","OccupancyColorer","_getColorByOccupancy","HydrophobicityColorer","hydrophobicity","MoleculeColorer","getMoleculeCount","scaleColor","CarbonColorer","colorCarbon","colorNotCarbon","neutralColor","intensity","materialList","_gatherObjects","meshTypes","createDerivativeMesh","layer","newMesh","traverseMeshes","func","applyTransformsToMeshes","processTransparentMaterial","matValues","prepassTranspMesh","processColFromPosMaterial","colFromPosMesh","createShadowmapMaterial","shadowmapMesh","isShadowmapMesh","removeShadowmapMaterial","forEachMeshInGroup","processObj","_countMeshTriangles","attribs","property","currAttr","faces","countTriangles","totalCount","Representation","startMaterialValues","selectorString","materialPreset","needsRebuild","setMode","markAtoms","clearAtomBits","selectionGeo","meshutils","sg","matrixAutoUpdate","repSettings","selStr","valueOf","modeDiff","identify","colorerDiff","newSelectorObject","newSelector","newMode","newColorer","newMaterial","setMaterialPreset","_traverseComponentGroups","ComplexEditor","ComplexComponentEditor","complexVisual","_complexVisual","_inProgress","_componentTransforms","_bakeComponentTransform","onAtomPositionChanged","_resetComponentTransform","finalizeEdit","pivot","visual","getSelectedComponent","getSelectionGeo","selectionMask","getSelectionBit","reprNode","bbmin","bbmax","updateMatrix","ComplexFragmentEditor","_getSelectionBorderAtoms","_fragmentBoundAtoms","pivotPos","_fragmentGeo","_fragmentSelectionGeo","vg","smeshes","sm","selectionBit","makeTranslation","_bakeAtomTransform","boundAtoms","transformDirection","atomHash","ComponentEditor","FragmentEditor","lookupAndCreate","entityList","specs","Entity","ComplexVisual","_reprList","_repr","_reprListChanged","_selectionBit","_reprUsedBits","_selectionCount","_selectionGeometry","release","_editor","repCurrent","repAdd","desc","status","change","bits","NUM_REPRESENTATION_BITS","newSelectionBit","_getFreeReprIdx","originalSelection","buildSelectorFromMask","def","unmarkAtoms","hide","show","markAtomsAdditionally","rebuildSelectionGeometry","pickedObj","otherObj","getMolecule","resetSelectionMask","tmpMask","deselectionMask","multiple","selRule","reprList","repr","Promise","resolve","errorOccured","setTimeout","hasGeometry","buildSelectionGeometry","optimizeList","NaN","expression","all","or","and","residx","_buildSelectorFromSortedLists","editor","ComplexVisualEdit","needTraverse","forEachAtomWithinDistFromMasked","countAtomsByMask","volumeUniforms","volumeDim","tileTex","tileTexSize","tileStride","boxAngles","_isoLevel0","_flipV","_BFLeft","_BFRight","_FFLeft","_FFRight","_WFFLeft","_WFFRight","overrideUniforms","defUniforms","facesPosMaterialParams","sideType","vertexVolumeFaces","fragmentVolumeFaces","BackFacePosMaterial","backFaceParams","ShaderParams","BackFacePosMaterialFarPlane","matUniforms","aspectRatio","farZ","tanHalfFOV","matWorld2Volume","shaderParams","vertexFarPlane","fragmentFarPlane","FrontFacePosMaterial","frontFaceParams","VolumeMaterial","vertexVolume","fragmentVolume","updateDefines","ISO_MODE","STEPS_COUNT","VolumeMesh","cullFlag","_corners","edges","_edges","edgeIntersections","_edgeIntersections","constant","vert","cornerMark","edgeMark","curEdge","curEdgeInter","CheckX","CheckY","CheckZ","curEdgeIdx","curEdgeSource","nextVertex","coplanarPoint","faceIdx","_collectVertices","vRight","vDir","rightProj","_sortIndices","numIndices","vm","getTiledTextureStride","buildTiledTexture","getBox","image","getVolumeInfo","volInfo","obtuseAngle","mean","dmean","dmin","span","dmax","sd","nearClipPlaneOffset","_nearClipPlaneOffset","_pos","_norm","norm4D","_norm4D","matrixWorldToLocal","_matrixWorldToLocal","_clipPlane","_updateIsoLevel","getWorldDirection","getWorldPosition","setFromNormalAndCoplanarPoint","_updateVertices","_updateIndices","_flattenArray","VolumeBounds","bSize","offsetVert","_getBaseVertices","flatVertices","_lines","projTable","_projectionTable","proj","inv","currDelta","angleValue","XY","XZ","YZ","VolumeFarPlane","volume","planeGeo","_initPlaneGeo","_plane","frustumCulled","doubleSided","matWorldToVolume","_renderer","planeCamPos","normalMatrix","volumeMatrix","DEG2RAD","VolumeVisual","setDataSource","_frame","getMesh","showFrame","_farPlane","getBoundingSphere","needShow","LoaderList","someLoaders","SomeLoader","canProbablyLoad","Loader","_source","_options","_abort","_agent","abort","FileLoader","_binary","blob","reader","FileReader","readAsArrayBuffer","readAsText","File","urlStartRegexp","XHRLoader","request","XMLHttpRequest","response","responseType","send","ImmediateLoader","ParserList","someParsers","format","formats","SomeParser","canProbablyParse","parseSync","model","_parseHeader","Remark290","_matrix","_matrixIndex","stream","readString","matrixRow","readCharCode","matrixData","matrixIndex","parseFloat","Remark350","assemblies","_assembly","assembly","addMatrix","addChain","PDBStream","_start","_nextCR","_nextLF","_next","_end","TAG_LENGTH","nameToElement","veryLong","pdbStartRegexp","remarkParsers","PDBParser","_serialAtomMap","_modelId","_compaundFound","_biomoleculeFound","_allowedChainsIDs","_lastMolId","_remarks","_remark","_compndCurrToken","fileType","_fixBondsArray","_fixChains","remark290","isUndefined","remark350","chainDict","chainObj","idChainMap","nj","readInt","readChar","chainID","resSeq","readFloat","Role","serial0","serial1","serial2","serial3","serial4","tokenIdx","chainStr","lastChar","remarkNum","remark","RemarkParser","fields","_parseSTRUCTURE","addHelix","addSheet","pars","adder","startId","endId","codeOfS","serialNumber","structureName","helLength","shWidth","shCur","shPrev","startChainID","endChainID","startSequenceNumber","iCodeStr","startICode","endSequenceNumber","endICode","cs","classification","date","title","tagParsers","HEADER","_parseHEADER","_parseTITLE","_parseATOM","HETATM","ENDMDL","_parseENDMDL","CONECT","_parseCONECT","COMPND","_parseCOMPND","REMARK","_parseREMARK","_parseHELIX","_parseSHEET","cOrderCharCodes","cmlStartRegexp","CMLParser","_readOnlyOneMolecule","atomId","countBonds","idxs","atomRefs2","moleculeArr","fieldData","atomRefs","placement","fieldName","_extractSGroup","_createSGroup","firstAtomRef","sgroupRef","mapEntry","cycleFuncInner","cycleFunc","x2","x3","y2","y3","z3","atomsRef","dom","parseNode","xmlNode","nodeName","nodeValue","jsonNode","existing","childNodes","molSet","atomArray","_findSuitableMolecule","DOMParser","doc","parseFromString","traversedData","_traverseData","rawData","prepareComponentCompound","ret","atomLabels","labelsCount","_extractSGroups","localBond","bondArray","_rebuidBondIndexes","addCurrBond","orderAttr","tc","labels","_breadWidthSearch","retStruct","originalCML","cml","retData","filteredData","rd","compId","molId","molID","_packLabel","breadthQueue","componentID","labeledAtoms","startID","_unpackLabel","eAtom","mainAtom","varData","currentLabel","addFunc","complexAtom","reorder","atomCharge","lLabel","atomFullNameStruct","elementType","countRef","currAtomComp","strLabel","JSON","stringify","atomSerial","added","mrvValence","_parseBond","getSGroupCount","sGrp","getSGroups","moleculaSet","_selectComponents","_parseSet","totalAtomsParsed","joinedComplex","joinComplexes","ArrayComparator","original","_original","_sum","candidate","sum","sorted","secStructToType","getFirstByte","buf","MMTFParser","_modelData","chainData","modelIndex","chainIndex","groupData","groupName","groupId","groupIndex","_updateSecStructure","atomData","xCoord","yCoord","zCoord","bFactor","formalCharge","bondData","atomIndex1","atomIndex2","helixClasses","secStruct","_ssType","_ssStruct","_ssStart","struct","mmtfData","chainsInModel0","chainsPerModel","chainIndexList","description","structureId","releaseDate","eventCallbacks","onModel","modelData","_onModel","onChain","_onChain","onGroup","_onGroup","onAtom","_onAtom","onBond","_onBond","MMTF","_updateMolecules","named","bioAssemblyList","baInfo","transformList","chainListCheck","chainNames","allChains","_chainsByName","compare","transpose","transform","primaryChainsArray","primaryChainsHash","primary","decode","_traverse","_linkAtomsToResidues","_markHeteroAtoms","_findSynonymousChains","_parseAssemblyInfo","_joinSynonymousChains","isArrayBuffer","ParsingError","column","captureStackTrace","parseLine","parseColumn","_isWhitespace","_inlineIndexOf","ch0","readCIF","newline","block","keysCount","valuesCount","_parseValue","_storeKey","_storeValue","keyIndex","cRequiredAtomFields","cSecondaryCoding","helx","turn","strn","getTypeFromId","typeId","arrize","arrayLikeObject","AtomDataError","_getOperations","operList","vector","ops","_extractOperations","assemblyGen","opsDict","groupStr","gps","grIdx","grCount","gr","gp","es","cnt","ii","nn","newMtx","CIFParser","asymDict","_toComplex","cifData","complexData","_extractAtoms","_extractSecondary","_extractAssemblies","_extractMolecules","_extractMetadata","struct_keywords","pdbx_keywords","databaserev","database_PDB_rev","date_original","molData","pdbx_description","getMolecules","atom_site","auth_seq_id","Cartn_x","Cartn_y","Cartn_z","label_atom_id","group_PDB","chainIdc","auth_asym_id","chainLabelIdc","label_asym_id","serials","iCodes","pdbx_PDB_ins_code","resNames","label_comp_id","type_symbol","tempFactors","B_iso_or_equiv","occupancies","charges","pdbx_formal_charge","altLocs","label_alt_id","models","pdbx_PDB_model_num","label_entity_id","moleculeIdx","struct_conf","_extractConfs","struct_sheet_range","_extractSheets","sheetData","sheet_id","beg_label_seq_id","end_label_seq_id","beg_label_asym_id","sheetNames","strandNames","starts","beg_auth_seq_id","ends","end_auth_seq_id","stICodes","pdbx_beg_PDB_ins_code","endICodes","pdbx_end_PDB_ins_code","findResidue","helicesData","conf_type_id","comments","details","lengths","pdbx_PDB_helix_length","pdbx_PDB_helix_class","asmGen","pdbx_struct_assembly_gen","asmIdx","assembly_id","asmOper","oper_expression","asmList","asym_id_list","pdbx_struct_oper_list","asm","assemblyOps","valueType","singular","VolumeModel","_header","_boxSize","_boxStart","extent","nstart","crs2xyz","cellDims","angles","isTypedArray","_buff","TypeError","headerFormat","arrays","_parseArray","_parseVector","_buffer","header","gamma","z1","z2","xaxis","yaxis","zaxis","_xyz2crs","shiftX","shiftY","_setOrigins","_getXYZdim","_getXYZbox","_toXYZData","_getVolumeInfo","CCP4Header","ispg","nsymbt","lksflg","customData","machine","nlabel","Ccp4Model","_typedCheck","u32","i32","f32","_fillHeader","xyz2crs","_getAxis","_setAxisIndices","_setBoxParams","xyzData","crsIdx","CCP4Parser","XYZParser","_atomsInf","_fileName","endnAtoms","endComment","startAtomsInf","words","_parseToAtomsInf","_parseAtomsInf","PubChemParser","jsonData","PC_Compounds","aids","aid","fromPairs","zip","coords","conformers","aids1","aid1","aids2","aid2","orders","SDFStream","_strings","_currentStart","_currentStringIndx","numb","curStr","getNextString","getCurrentString","setStart","probablyHaveDataToParse","chargeMap","orderMap","typeMap","sdfAndMolRegexp","sdfRegExp","fileFormat","SDF","MOL","possibleNameTags","possibleIDTags","possibleTitleTags","tagsNames","tags","buildChainID","codes","trunc","reverse","SDFParser","_format","_metadata","_currentMolProps","_compoundIndx","_assemblies","_atomsParsed","_atomsIndexes","getStringFromStart","bondsNum","bondType","countsLine","_parseAtoms","_parseBonds","_parseMOL","findNextDataItem","_parseDataItem","props","_tryToUpdateMoleculeData","tagsList","_searchTag","tagPossibleNames","_tryToFind","properties","_finalizeMetadata","_buildAssemblies","_buildMolecules","defineFormat","_parseCompound","findNextCompoundStart","DSN6Header","div","DSN6Model","i16","Int16Array","byteBuffer","counter","zBlock","yBlock","xBlock","inRange","_pointCalculate","blocks","_blockCalculate","_calculateInfoParams","dispersion","minDensity","maxDensity","DSN6Parser","ArrayBuffer","checkDataTypeOptions","GROReader","GROParser","_time","_residueNumber","_residueName","_atomName","_atomNumber","_atomPosition","_atomVelocity","filetype","readLine","getNext","positionX","positionY","positionZ","_parseTitle","_parseNumberOfAtoms","_parseAtom","un","am","nc","du","resNumberRegex","spacesRegex","splitToFields","MOL2Parser","_currPosIdx","_currStartIdx","MOL2Data","newPosIdx","_toStringFromStart","_toHeaderString","_setStart","_probablyHaveDataToParse","parsedStr","_setResidue","originAtomId","targetAtomId","currMolecule","molResidues","_fixSerialAtoms","_parseMolecule","_toStringFromHeader","_parseRawStrings","_findNextCompoundStart","ExporterList","someExporters","Exporter","exportSync","PDBResult","_resultArray","_currentStr","_tag","_fixedNumeration","_numeration","_tagStrNum","writeString","numeration","isBoolean","maxStrPos","_currentStrLength","newString","curStrLength","finish","repeat","cStr","bondsArrays","_getSubArrays","subArraySize","subArrays","matrixIndx","toFixed","Matrix4","writeMatrix","PDBExporter","_tags","_result","_tagExtractors","_extractHEADER","TITLE","_extractTITLE","_extractATOM","_extractCONECT","_extractCOMPND","_extractREMARK","_extractHELIX","SHEET","_extractSHEET","_stringForRemark350","_stringForRemark290","getResult","newTag","fixedBonds","writeBondsArray","strands","startIndx","_getMoleculeChains","chainsString","writeEntireString","_Remark290","_Remark350","writeMatrices","biomolIndx","getChainName","SourceClass","FBX_POS_SIZE","FBX_NORM_SIZE","FBX_COL_SIZE","copyFbxPoint3","srcIdx","dstIdx","copyFbxPoint4","vector4","copyTransformedPoint3","setSubArray","copyFunctor","functorOpts","arridx","FBXModel","lastPos","lastNorm","lastCol","vertsCount","indsCount","shifted","setIndices","currentCount","getVerticesNumber","setShiftedIndices","setTransformedPositions","setTransformedNormals","FBXGeometry","_info","FBX1CGeometry","cl","FBX2CCylinder","_cutRawStart","_cutRawEnd","_facesPerSlice","addPerCylinder","_extendVertices","_extendIndices","getGeoParams","cutRaw","indicesPerQuad","startToShift","colorSize","part1End","part2End","_setColorRange","capSize","cap1End","cap2End","FBXInfoExtractor","_materials","_models","_extractModelsAndMaterials","_flattenModels","layersOfInterest","checkExportAbility","_collectInstancedGeoInfo","_collectGeoInfo","faceSize","overallVertsCount","combined","_reworkIndices","verticesCount","vertCount","setPositions","setNormals","_collectMaterialInfo","_addToPool","instCount","instMatrix","objMatrix","sphereColor","instanceIndex","_getSphereInstanceMatrix","addInstance","oneCCylinder","splittingInfo","_gatherCylindersColoringInfo","twoCCylinder","needToSplit","additionalVertsCount","colorStart","colorEnd","is2Colored","_getCylinderInstanceMatrix","materialIdx","_checkExistingMaterial","findIndex","differs","_collectSpheresInfo","_collectCylindersInfo","instIdx","matVector1","matVector2","matVector3","idxOffset","defaultDefinitions","defaultProperties","defaultMaterialLayer","defaultLayerBlock","globalSettings","FBXResult","_writeHeader","_writeDefinitions","_writeObjects","_writeRelations","_writeConnections","FBXHeaderVersion","FBXVersion","timeStampVersion","creator","version","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","modelVersion","allModels","_verticesIndices","_normalLayer","_colorLayer","materialVersion","allMaterials","_materialProperties","modelsList","colorArray","layerElementColorNumber","layerElementColorVersion","layerElementColorName","colorsStr","_floatArrayToString","colorIndices","normalArray","layerElementNormalNumber","layerElementNormalVersion","layerElementNormalName","normalsStr","multiLayer","multiTake","shading","culling","geometryVersion","vertStr","FBXExporter","_version","miewVersion","_extractor","loaders","parsers","exporters","tempColor","CSS2DRenderer","_height","_widthHalf","_heightHalf","_vector","_viewMatrix","_projectionMatrix","_domElement","overflow","zIndex","pointerEvents","myNode","firstChild","lerpColorAsHex","setHex","getHexString","colorAsHex","setFromMatrixPosition","localOffset","getMaxScaleOnAxis","fogFactor","smoothstep","WebkitTransform","MozTransform","oTransform","_renderObject","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","STATE","NONE","ROTATE","TRANSLATE","SCALE","TRANSLATE_PIVOT","FULL_STOP_THRESHOLD","matrix4","ObjectHandler","lastRotation","_rotate","q","quat","zeroPivot","makeRotationFromQuaternion","setObjects","rotate","rot","mousePrevPos","mouseCurPos","aboutAxis","mouse2rotation","setFromAxisAngle","translate","translateOnAxis","timeSinceLastUpdate","timeSinceMove","intertia","dynamicDampingFactor","intertiaThreshold","stop","eyeDirection","cameraUpDirection","cameraSidewaysDirection","moveDirection","mouseDelta","mousePrev","mouseCur","axisRotateFactor","setLength","rotateFactor","ObjectControls","objectPivot","getAltObj","hotkeysEnabled","screen","_state","_mousePrevPos","_mouseCurPos","_mainObj","_altObj","_affectedObj","_isAltObjFreeRotationAllowed","_isTranslationAllowed","_isKeysTranslatingObj","_pressedKeys","_clock","_lastUpdateTime","_listeners","mousedown","mouseup","mousemove","mousewheel","touchstartend","touchmove","getKeyBindObject","keydownup","handleResize","resetKeys","contextmenu","stopPropagation","preventDefault","innerWidth","innerHeight","getBoundingClientRect","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","enableHotkeys","allowTranslation","allow","allowAltObjFreeRotation","keysTranslateObj","isEditingAltObj","convertMouseToOnCircle","pageX","pageY","screenSize","convertMouseToViewport","rotateByMouse","aboutZAxis","getOrientation","setOrientation","getScale","setScale","curTime","_lastMouseMoveTime","speedX","speedY","altObj","button","workWithAltObj","altKey","ctrlKey","shiftKey","translatePivotByMouse","wheelDelta","detail","touches","_touchDistanceCur","_touchDistanceStart","_scaleStart","newScale","keyCode","translatePivotInWorld","setX","setY","setZ","translatePivot","setPivot","newPivot","Picker","_lastMousePos","_mouseTotalDist","_lastClickBeginTime","_lastClickPos","_clickBeginTime","touchstart","touchend","picked","pickObject","screenPos","rayCaster","unproject","fogFarValue","getMouseInViewport","curPos","timeSinceLastClickBegin","clickDist","_lastTouchdownPos","changedTouches","Axes","targetCamera","_target","_targetCamera","_object","_full","autoClear","setViewport","clear","cDataOffset","cFirstMask","cFirstShift","cSecMask1","cSecShift1","cSecMask2","cSecShift2","cThirdMask","cStrMask","cStrShift","c219","c220","cHelixIdx","cSheetIdx","secTypes","cSecNames","_createSecondary","strArray","nRes","resid","rIdx","fromUInt20ToInt20","uint20","FrameInfo","payload","callbacks","isLoading","_framesRange","frameIsReady","_frameRequest","_callbacks","_framesRequestLength","_downloadDataFn","parseBinaryData","setFrame","framesStart","framesEnd","_framesCount","onDone","onLoadStatusChanged","onFail","onError","_bufferRequestStart","_prepareBuffer","arrayBuffer","dataView","DataView","atomsCount","getUint32","framesCount","_atomsCount","maxSize","chunkedFramesCount","timeStep","iName","_timeStep","posData","coordIdx","secondaryArr","Int8Array","hiWord","loWord","_secondaryData","_currFrame","myResidues","sec","oldSec","nSec","compRes","getSec","frameIdx","_cachedResidues","_updateSecondary","_parseBuffer","vec","_vec","SceneObject","paramsStr","LinesObj","_id1","_id2","err","getAtomByFullname","_atom1","_getAtomFromName","_atom2","_line","computeLineDistances","_raycaster","_intersects","verticesNeedUpdate","OutlineMaterial","srcDepthTex","srcTexSize","DEPTH_OUTLINE","FXAAMaterial","bgTransparent","BG_TRANSPARENT","AOMaterial","diffuseTexture","normalTexture","depthTexture","camNearFar","projMatrix","kernelRadius","depthThreshold","_kernelOffsets","AOHorBlurMaterial","aoMap","samplesOffsets","AOVertBlurWithBlendMaterial","fogNearFar","useFog","AnaglyphMaterial","srcL","srcR","View","orientation","_transitionTime","ViewInterpolator","startView","endView","_endTime","_isPaused","_srcView","_dstView","_isMoving","transTime","wasStarted","success","createView","slerp","setup","getCurrentView","MAX_COOKIE_LEN","COUNT_SUFFIX","_chunkString","chunkLen","lc","Cookies","removeCookie","cntKey","_toCount","cntVal","_getSimpleCookie","_removeSimpleCookie","setCookie","_setSimpleCookie","getCookie","cookie","_getExpirationDate","today","EXP_PERIOD_YEARS","setFullYear","toUTCString","_exists","webVRPoC","showEnterVR","cursor","currentSession","onSessionEnded","onSessionStarted","session","_gfx","xr","setReferenceSpaceType","setSession","onmouseenter","onmouseleave","onclick","sessionInit","optionalFeatures","requestSession","then","moveSceneBehindHeadset","showWebXRNotFound","stylizeElement","bottom","padding","border","borderRadius","font","isSessionSupported","supported","textDecoration","WebVRPoC","onToggle","_mainCamera","_button","_onToggle","_molContainer","_user","_scalingPivot","_controller1","_controller2","_pressedGripsCounter","_distance","startScalingByControllers","stopScalingByControllers","anotherController","gfx","createWebVRButton","_mainFog","_plugVRNodesIntoScene","_setControllersListeners","getController","_createControllerMesh","handleGripsDown","handleGripsUp","setAnimationLoop","getSession","_unplugVRNodesFromScene","cylinder","rotateX","scaler","container","EDIT_MODE","COMPLEX","COMPONENT","FRAGMENT","LOADER_NOT_FOUND","PARSER_NOT_FOUND","updateFogRange","removeExtension","hasValidResidues","hasValidRes","reportProgress","percent","TOTAL_PERCENT","chooseFogColor","Miew","settingsCookie","cookiePath","_interpolator","_container","getElementById","head","getElementsByClassName","_containerRoot","_running","_halting","_building","_needRender","_hotKeysEnabled","_cookies","restoreSettings","_spinner","_loading","_animInterval","_visuals","_curVisualName","_sourceWindow","registeredPlugins","_initOnSettingsChanged","getMaxRepresentationCount","_setContainerContents","_updateShadowCamera","shadowMatrix","OBB","halfSize","light","getOBB","frag","createDocumentFragment","_msgMode","_msgAtomInfo","_showMessage","_initGfx","_initListeners","Spinner","_onKeyDown","_onKeyUp","_objectControls","_getAltObj","_picker","_onPick","file","keepRepsInfo","job","cancel","halt","msg","_showCanvas","_requestAnimationFrame","requestAnimationFrame","arezSpritesSupported","getExtension","isAOSupported","clientWidth","clientHeight","webGLOptions","preserveDrawingBuffer","premultipliedAlpha","renderer2d","shadowMap","autoUpdate","getContext","setPixelRatio","devicePixelRatio","setSize","setClearColor","clearColor","stereoCam","selectionScene","selectionRoot","selectionPivot","light12","pixelRatio","getPixelRatio","shadowMapSize","mapSize","light3","deviceWidth","deviceHeight","offscreenBuf","minFilter","magFilter","depthBuffer","offscreenBuf2","offscreenBuf3","offscreenBuf4","volBFTex","volFFTex","volWFFTex","offscreenBuf5","offscreenBuf6","offscreenBuf7","stereoBufL","stereoBufR","_embedWebXR","stats","_fps","_onResize","_makeUniqueVisualName","baseName","random","suffix","_addVisual","_removeVisual","_forEachVisual","_releaseAllVisuals","_forEachComplexVisual","_getComplexVisual","any","_getVolumeVisual","_getVisualForComplex","getVisuals","getComplexVisualsCount","getCurrentVisual","setCurrentVisual","run","resume","_onTick","_discardComponentEdit","_discardFragmentEdit","pause","enableHotKeys","_resizeOffscreenBuffers","isAnaglyph","multi","_onUpdate","_onRender","_getBSphereRadius","_bSphereForOneVisual","_bBoxForOneVisual","_bBox","_invMatrix","_points","union","_updateFog","_setUberMaterialValues","isScriptingCommandAvailable","callNextCmd","_needRebuild","rebuild","_updateView","webVR","updateMoleculeScale","_clipPlaneUpdateValue","_fogFarUpdateValue","setRenderTarget","_renderFrame","_anaglyphMat","_size","focus","_renderShadowMap","_renderScene","setScissorTest","setScissor","cameraL","cameraR","_onBgColorChanged","_onFogColorChanged","_enableMRT","renderBuffer","textureBuffer","gl","drawBuffersWEBGL","COLOR_ATTACHMENT0","tx8","__webglTexture","bindTexture","TEXTURE_2D","fb","__webglFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT1_WEBGL","distortion","bHaveComplexes","volumeVisual","ssao","_renderWithPrepassTransparency","dstBuffer","srcBuffer","_performAO","_renderOutline","_renderSelection","_renderVolume","_performFXAA","_performDistortion","aberration","fragmentScreenQuadFromDistTex","targetBuffer","_outlineMaterial","srcDepthBuffer","srcColorBuffer","currentRenderTarget","getRenderTarget","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","setBlending","buffers","setClear","setTest","updateMatrices","_hasSelectionToRender","selPivot","selPivotChild","_checkVolumeRenderingSupport","renderTarget","oldRT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","volumeBFMat","volumeFFMat","cubeOffsetMat","world2colorMat","volumeRenderingSupported","dstBuf","tmpBuf1","tmpBuf2","tmpBuf3","overrideMaterial","colorMask","_fxaaMaterial","_aoMaterial","_horBlurMaterial","_vertBlurMaterial","_scale","normalBuffer","srcDepthTexture","tempBuffer","tempBuffer1","_lastPick","_setEditMode","_resetObjects","setNeedRender","_resetScene","resetReps","resetPivot","rebuildAll","resetView","updateSelectionMask","_export","TheExporter","io","exporter","rePdbId","rePubchem","reUrlScheme","resolveSourceShortcut","matchesPdbId","sourceType","matchesPubchem","compound","updateBinaryMode","TheParser","fileExt","animation","_fetchData","shouldCancel","notify","TheLoader","extractName","newOptions","keyCount","loader","lengthComputable","total","loaded","promise","_parseData","dataSet","spin","onLoadEnd","anything","jobIndex","_refreshTitle","_onLoad","unload","_startAnimation","fileData","_stopAnimation","_frameInfo","isPlaying","_isAnimating","_continueAnimation","_pauseAnimation","clearInterval","minFrameTime","setInterval","_updateObjsToFrame","nextFrame","disableEvents","visualName","amberFileName","resetEd","_onLoadEd","_tweakResolution","_edLoader","loadEd","_rebuildObjects","toRemove","getGeometry","changeUnit","unitIdx","currentUnitInfo","getCurrentUnit","_updateInfoPanel","rebuildActions","setNeedsRebuild","appendix","repGet","_extractRepresentation","getSelectionCount","defPreset","repCount","_setReps","applyPreset","presList","newIdx","repRemove","repHide","_editMode","getElementsByTagName","_enterComponentEditMode","editors","beginComponentEdit","_editors","_applyComponentEdit","discard","_enterFragmentEditMode","selectedVisuals","beginFragmentEdit","isFreeRotationAllowed","_applyFragmentEdit","_updateSelection","expandSelection","shrinkSelection","firstLine","secondLine","aName","coordLine","nextAltObj","setPivotResidue","amount","setPivotAtom","getSelectionCenter","_centerInVisual","setPivotSubset","_includesInCurSelection","_includesInSelector","screenshot","fov2Tan","tan2Fov","getDataURL","dataURL","currBrowser","canvas","canvasContext","drawImage","toDataURL","screenshotURI","originalTanFov2","areaOfInterestSize","areaOfInterestTanFov2","shotAspect","setDrawingBufferSize","screenshotSave","uri","save","dataString","maxPerf","_gfxScore","_autoChangeResolution","saveSettings","resetSettings","setOptions","resetCurrentUnit","getBondCount","getResidueCount","getChainCount","objData","bThrow","Ctor","LinesObject","_addSceneObject","sceneObject","objs","removeObject","getURL","getState","compact","getScript","_compareReps","compareWithDefaults","currPreset","repsDiff","emptyReps","repsInfo","objectsState","_updateShadowmapMeshes","_updateMaterials","setMaterialValues","_fogAlphaChanged","disable","evt","Boolean","sel","VIEW_VERSION","eulerOrder","euler","setFromQuaternion","interpolator","srcView","dstView","setFromEuler","isMoving","within","None","projected","fullAtomName","complexName","project","dssp","exportCML","extractRotation","extractBasis","retMat","makeBasis","updateCMLData","xml","removeAttribute","sGroup","getPosition","getCentralPoint","oSerializer","XMLSerializer","serializeToString","motm","curChainName","curChainColor","thirdParty","lodash","three","modeIdDesc","$help","colorDesc","materialDesc","addRepDesc","setGetParameterDesc","help","PDBID","REP_NAME","DESCRIPTION","REP_INDEX","EXPRESSION","MODE_ID","COLORER_ID","MATERIAL_ID","del","PARAMETER","set_save","set_restore","set_reset","PRESET","ENCODED_VIEW","removeobj","listobj","NULL","RepresentationMap","representationMap","representationID","strId","sortedKeys","representationsStorage","keyRemap","CLIUtils","miew","repMap","listRep","repName","selectionStr","strList","helpData","joinHelpStr","clihelp","sortBy","helpItem","awaitWhileCMDisInProcess","finishAwaitingCMDInProcess","modificate","selExc","modificators","modificator","argExc","pathExc","endsWith","getNamedColor","utilFunctions","CreateObjectPair","ArgList","toJSO","cliUtils","cmd","propagateProp","Arg","_val","cliutils","echo","representations","notimplemented","script","_printCallback","_errorCallback","parsercli","cmdQueue","commandInAction"],"mappings":"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AM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,WA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AC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CA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AAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,C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AE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EA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C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAA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AAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnqV,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC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EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;AAElB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EAAE;AAEjB,KAAK,EAAE,CAAC,OAAO,EA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"}